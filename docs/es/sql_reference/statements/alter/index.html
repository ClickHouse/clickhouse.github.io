<!DOCTYPE html><html lang=es data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>ALTER - Documentación de ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="ALTER - Documentación de ClickHouse "><meta property=og:description content="ALTER El ALTER consulta sólo se admite para *MergeTree mesas, así como MergeyDistributed. La consulta tiene varias varia"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="ALTER - Documentación de ClickHouse "><meta name=description content="ALTER El ALTER consulta sólo se admite para *MergeTree mesas, así como MergeyDistributed. La consulta tiene varias varia"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> ALTER </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql_reference/statements/alter.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/es.svg alt=Español title=Español width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/sql_reference/statements/alter/ class="dropdown-item disabled"> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-página o de una sola página"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Versión de varias páginas" title="Versión de varias páginas"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Versión de una sola página" title="Versión de una sola página"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Versión: <span class=text-light>reciente</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/es/ class="dropdown-item disable"> <span class=text-light>reciente</span> </a> <a href=/docs/v20.3/es/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/es/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/es/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/es/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/es/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/es/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/es/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/es/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/es/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/es/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/es/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../introduction/distinctive_features/ title="Características distintivas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Características distintivas</a> <a href=../../../introduction/features_considered_disadvantages/ title="Características de ClickHouse que pueden considerarse desventajas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Características de ClickHouse que pueden considerarse desventajas</a> <a href=../../../introduction/performance/ title=Rendimiento class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rendimiento</a> <a href=../../../introduction/history/ title=Historia class="nav-link text-light text-wrap d-inline-block w-100 px-0">Historia</a> <a href=../../../introduction/adopters/ title=Adoptante class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adoptante</a> </nav> </div> <a href=../../../ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../getting_started/install/ title=Instalación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Instalación</a> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../getting_started/example_datasets/ontime/ title="A tiempo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">A tiempo</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="Datos de taxis de Nueva York" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos de taxis de Nueva York</a> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="Referencia de Big Data de AMPLab" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Referencia de Big Data de AMPLab</a> <a href=../../../getting_started/example_datasets/wikistat/ title="Nombre de la red inalámbrica (SSID):" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nombre de la red inalámbrica (SSID):</a> <a href=../../../getting_started/example_datasets/criteo/ title="Registros de clics de Terabyte de Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registros de clics de Terabyte de Criteo</a> <a href=../../../getting_started/example_datasets/star_schema/ title="Estrella Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Estrella Schema Benchmark</a> <a href=../../../getting_started/example_datasets/metrica/ title="El Yandex.Metrica Datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">El Yandex.Metrica Datos</a> </nav> </div> <a href=../../../getting_started/tutorial/ title=Tutorial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a> <a href=../../../getting_started/playground/ title=Infantil class="nav-link text-light text-wrap d-inline-block w-100 px-0">Infantil</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../interfaces/cli/ title="Cliente de línea de comandos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cliente de línea de comandos</a> <a href=../../../interfaces/tcp/ title="Interfaz nativa (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz nativa (TCP)</a> <a href=../../../interfaces/http/ title="Interfaz HTTP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz HTTP</a> <a href=../../../interfaces/mysql/ title="Interfaz MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz MySQL</a> <a href=../../../interfaces/formats/ title="Formatos de entrada y salida" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Formatos de entrada y salida</a> <a href=../../../interfaces/jdbc/ title="Controlador JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Controlador JDBC</a> <a href=../../../interfaces/odbc/ title="Conductor ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conductor ODBC</a> <a href=../../../interfaces/cpp/ title="Biblioteca de clientes de C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Biblioteca de clientes de C++</a> <a href=#sidebar-sidebar-4-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-10 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-4-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../../interfaces/third-party/client_libraries/ title="Bibliotecas de clientes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliotecas de clientes</a> <a href=../../../interfaces/third-party/integrations/ title=Integración class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integración</a> <a href=../../../interfaces/third-party/gui/ title="Interfaces Visuales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaces Visuales</a> <a href=../../../interfaces/third-party/proxy/ title=Proxy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxy</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../../engines/table_engines/mergetree_family/mergetree/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../engines/table_engines/mergetree_family/replication/ title="Replicación de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Replicación de datos</a> <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ title="Clave de partición personalizada" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave de partición personalizada</a> <a href=../../../engines/table_engines/mergetree_family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AgregaciónMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AgregaciónMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/collapsingmergetree/ title=ColapsarMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ColapsarMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-5-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-5-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../../engines/table_engines/log_family/log_family/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table_engines/log_family/log/ title=Registro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registro</a> <a href=../../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-5-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../../engines/table_engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-5-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../../engines/table_engines/special/distributed/ title=Distribuido class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distribuido</a> <a href=../../../engines/table_engines/special/external_data/ title="Datos externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos externos</a> <a href=../../../engines/table_engines/special/dictionary/ title=Diccionario class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionario</a> <a href=../../../engines/table_engines/special/merge/ title=Fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fusionar</a> <a href=../../../engines/table_engines/special/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../../engines/table_engines/special/null/ title=Nulo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nulo</a> <a href=../../../engines/table_engines/special/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../../engines/table_engines/special/join/ title=Unir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Unir</a> <a href=../../../engines/table_engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table_engines/special/view/ title=Vista class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vista</a> <a href=../../../engines/table_engines/special/materializedview/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../engines/table_engines/special/memory/ title=Memoria class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memoria</a> <a href=../../../engines/table_engines/special/buffer/ title=Búfer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Búfer</a> <a href=../../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database_engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database_engines/lazy/ title=Perezoso class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perezoso</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/syntax/ title=Sintaxis class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sintaxis</a> <a href=#sidebar-sidebar-6-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-3 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-6-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../../sql_reference/statements/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../../sql_reference/statements/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../sql_reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../sql_reference/statements/alter/ title=ALTER class="nav-link text-white active text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql_reference/statements/misc/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/functions/arithmetic_functions/ title=Aritmética class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aritmética</a> <a href=../../../sql_reference/functions/comparison_functions/ title=Comparación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparación</a> <a href=../../../sql_reference/functions/logical_functions/ title=Lógico class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lógico</a> <a href=../../../sql_reference/functions/type_conversion_functions/ title="Conversión de tipo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conversión de tipo</a> <a href=../../../sql_reference/functions/date_time_functions/ title="Trabajar con fechas y horas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con fechas y horas</a> <a href=../../../sql_reference/functions/string_functions/ title="Trabajar con cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con cadenas</a> <a href=../../../sql_reference/functions/string_search_functions/ title="Para buscar cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para buscar cadenas</a> <a href=../../../sql_reference/functions/string_replace_functions/ title="Para reemplazar en cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para reemplazar en cadenas</a> <a href=../../../sql_reference/functions/conditional_functions/ title=Condicional class="nav-link text-light text-wrap d-inline-block w-100 px-0">Condicional</a> <a href=../../../sql_reference/functions/math_functions/ title=Matemática class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matemática</a> <a href=../../../sql_reference/functions/rounding_functions/ title=Redondeo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Redondeo</a> <a href=../../../sql_reference/functions/array_functions/ title="Trabajar con matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con matrices</a> <a href=../../../sql_reference/functions/splitting_merging_functions/ title="División y fusión de cuerdas y matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">División y fusión de cuerdas y matrices</a> <a href=../../../sql_reference/functions/bit_functions/ title=Trozo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trozo</a> <a href=../../../sql_reference/functions/bitmap_functions/ title=Bits class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bits</a> <a href=../../../sql_reference/functions/hash_functions/ title=Hash class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a> <a href=../../../sql_reference/functions/random_functions/ title="Generación de números pseudo-aleatorios" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de números pseudo-aleatorios</a> <a href=../../../sql_reference/functions/encoding_functions/ title=Codificación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Codificación</a> <a href=../../../sql_reference/functions/uuid_functions/ title="Trabajando con UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con UUID</a> <a href=../../../sql_reference/functions/url_functions/ title="Trabajar con URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con URL</a> <a href=../../../sql_reference/functions/ip_address_functions/ title="Trabajar con direcciones IP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con direcciones IP</a> <a href=../../../sql_reference/functions/json_functions/ title="Trabajando con JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con JSON</a> <a href=../../../sql_reference/functions/higher_order_functions/ title="Orden superior" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Orden superior</a> <a href=../../../sql_reference/functions/ext_dict_functions/ title="Trabajar con diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con diccionarios externos</a> <a href=../../../sql_reference/functions/ym_dict_functions/ title="Trabajando con Yandex.Diccionarios de Metrica" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con Yandex.Diccionarios de Metrica</a> <a href=../../../sql_reference/functions/in_functions/ title="Implementación del operador IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implementación del operador IN</a> <a href=../../../sql_reference/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../../sql_reference/functions/geo/ title="Trabajar con coordenadas geográficas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con coordenadas geográficas</a> <a href=../../../sql_reference/functions/functions_for_nulls/ title="Trabajar con argumentos Nullable" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con argumentos Nullable</a> <a href=../../../sql_reference/functions/machine_learning_functions/ title="Funciones de aprendizaje automático" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Funciones de aprendizaje automático</a> <a href=../../../sql_reference/functions/introspection/ title=Introspección class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspección</a> <a href=../../../sql_reference/functions/other_functions/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/aggregate_functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/aggregate_functions/reference/ title=Referencia class="nav-link text-light text-wrap d-inline-block w-100 px-0">Referencia</a> <a href=../../../sql_reference/aggregate_functions/combinators/ title="Combinadores de funciones agregadas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Combinadores de funciones agregadas</a> <a href=../../../sql_reference/aggregate_functions/parametric_functions/ title="Funciones agregadas paramétricas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Funciones agregadas paramétricas</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/table_functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../../sql_reference/table_functions/merge/ title=fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">fusionar</a> <a href=../../../sql_reference/table_functions/numbers/ title=numero class="nav-link text-light text-wrap d-inline-block w-100 px-0">numero</a> <a href=../../../sql_reference/table_functions/remote/ title=remoto class="nav-link text-light text-wrap d-inline-block w-100 px-0">remoto</a> <a href=../../../sql_reference/table_functions/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql_reference/table_functions/odbc/ title=Nosotros class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nosotros</a> <a href=../../../sql_reference/table_functions/hdfs/ title=Hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hdfs</a> <a href=../../../sql_reference/table_functions/input/ title=entrada class="nav-link text-light text-wrap d-inline-block w-100 px-0">entrada</a> <a href=../../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title="Descripción General" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción General</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title="Configuración de un diccionario externo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración de un diccionario externo</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title="Almacenamiento de diccionarios en la memoria" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Almacenamiento de diccionarios en la memoria</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title="Actualizaciones del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualizaciones del diccionario</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title="Fuentes de diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fuentes de diccionarios externos</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title="Clave y campos del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave y campos del diccionario</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title="Diccionarios jerárquicos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios jerárquicos</a> </nav> </div> <a href=../../../sql_reference/dictionaries/internal_dicts/ title="Diccionarios internos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios internos</a> </nav> </div> <a href=#sidebar-sidebar-6-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-6-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql_reference/data_types/float/ title="Descripción del producto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción del producto</a> <a href=../../../sql_reference/data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../../sql_reference/data_types/boolean/ title=Booleana class="nav-link text-light text-wrap d-inline-block w-100 px-0">Booleana</a> <a href=../../../sql_reference/data_types/string/ title=Cadena class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena</a> <a href=../../../sql_reference/data_types/fixedstring/ title="Cadena fija (N)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena fija (N)</a> <a href=../../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql_reference/data_types/date/ title=Fecha class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fecha</a> <a href=../../../sql_reference/data_types/datetime/ title=FechaHora class="nav-link text-light text-wrap d-inline-block w-100 px-0">FechaHora</a> <a href=../../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql_reference/data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql_reference/data_types/array/ title="Matriz (T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matriz (T)</a> <a href=../../../sql_reference/data_types/aggregatefunction/ title="Agregar función (nombre, types_of_arguments)...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Agregar función (nombre, types_of_arguments)...)</a> <a href=../../../sql_reference/data_types/tuple/ title="Tuple (T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple (T1, T2, ...)</a> <a href=../../../sql_reference/data_types/nullable/ title=NULL class="nav-link text-light text-wrap d-inline-block w-100 px-0">NULL</a> <a href=#sidebar-sidebar-6-8-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-17 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-6-8-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/nested_data_structures/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/data_types/nested_data_structures/nested/ title="Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-6-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-18 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-6-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/special_data_types/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/data_types/special_data_types/expression/ title=Expresion class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expresion</a> <a href=../../../sql_reference/data_types/special_data_types/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../../sql_reference/data_types/special_data_types/nothing/ title=Nada class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nada</a> <a href=../../../sql_reference/data_types/special_data_types/interval/ title=Intervalo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intervalo</a> </nav> </div> <a href=#sidebar-sidebar-6-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-19 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../../sql_reference/data_types/domains/overview/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=../../../sql_reference/operators/ title=Operador class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operador</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../guides/apply_catboost_model/ title="Aplicación de modelos CatBoost" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aplicación de modelos CatBoost</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/requirements/ title=Requisito class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requisito</a> <a href=../../../operations/monitoring/ title=Monitoreo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoreo</a> <a href=../../../operations/troubleshooting/ title="Solución de problemas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Solución de problemas</a> <a href=../../../operations/update/ title="Actualización de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualización de ClickHouse</a> <a href=../../../operations/access_rights/ title="Derechos de acceso" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Derechos de acceso</a> <a href=../../../operations/backup/ title="Copia de seguridad de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Copia de seguridad de datos</a> <a href=../../../operations/configuration_files/ title="Archivos de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Archivos de configuración</a> <a href=../../../operations/quotas/ title=Cuota class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cuota</a> <a href=#sidebar-sidebar-8-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-10 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-8-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../../operations/optimizing_performance/sampling_query_profiler/ title="Generación de perfiles de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de perfiles de consultas</a> </nav> </div> <a href=../../../operations/system_tables/ title="Tablas del sistema" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tablas del sistema</a> <a href=../../../operations/performance_test/ title="Prueba de hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Prueba de hardware</a> <a href=#sidebar-sidebar-8-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-13 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_configuration_parameters/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/server_configuration_parameters/settings/ title="Configuración del servidor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del servidor</a> </nav> </div> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/settings/permissions_for_queries/ title="Permisos para consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permisos para consultas</a> <a href=../../../operations/settings/query_complexity/ title="Restricciones en la complejidad de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la complejidad de consultas</a> <a href=../../../operations/settings/settings/ title=Configuración class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración</a> <a href=../../../operations/settings/settings_profiles/ title="Perfiles de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perfiles de configuración</a> <a href=../../../operations/settings/constraints_on_settings/ title="Restricciones en la configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la configuración</a> <a href=../../../operations/settings/settings_users/ title="Configuración del usuario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del usuario</a> </nav> </div> <a href=#sidebar-sidebar-8-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-15 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../operations/utilities/clickhouse-copier/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title="Sistema abierto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sistema abierto</a> </nav> </div> <a href=../../../operations/tips/ title="Recomendaciones de uso" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Recomendaciones de uso</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../development/developer_instruction/ title="La instrucción para desarrolladores de ClickHouse para principiantes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La instrucción para desarrolladores de ClickHouse para principiantes</a> <a href=../../../development/architecture/ title="Descripción general de la arquitectura ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción general de la arquitectura ClickHouse</a> <a href=../../../development/browse_code/ title="Examinar el código fuente de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Examinar el código fuente de ClickHouse</a> <a href=../../../development/build/ title="Cómo crear ClickHouse en Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Linux</a> <a href=../../../development/build_osx/ title="Cómo crear ClickHouse en Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Mac OS X</a> <a href=../../../development/build_cross_osx/ title="Cómo construir ClickHouse en Linux para Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para Mac OS X</a> <a href=../../../development/build_cross_arm/ title="Cómo construir ClickHouse en Linux para AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para AARCH64 (ARM64)</a> <a href=../../../development/style/ title="Cómo escribir código C ++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo escribir código C ++</a> <a href=../../../development/tests/ title="Cómo ejecutar pruebas de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo ejecutar pruebas de ClickHouse</a> <a href=../../../development/contrib/ title="Bibliotecas de terceros utilizadas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliotecas de terceros utilizadas</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../../commercial/cloud/ title="Proveedores de servicios en la nube de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proveedores de servicios en la nube de ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats_new/roadmap/ title="Hoja de ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja de ruta</a> <a href=../../../whats_new/security_changelog/ title="Seguridad Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Seguridad Changelog</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../../faq/general/ title="Preguntas generales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Preguntas generales</a> </nav> </div> <a href=../../../roadmap/ title="Hoja de ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja de ruta</a> <a href=../../../single/clickhouse_es.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="Versión PDF" title="Versión PDF" height=24 class="d-block mr-1 float-left"><div>Versión PDF</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Ayuda quería!</p> <p class=lead>El siguiente contenido de esta página de documentación ha sido traducido por máquina. Pero a diferencia de otros sitios web, no se hace sobre la marcha. Este texto traducido vive en el repositorio de GitHub junto con la base de código principal de ClickHouse y espera a que otros hablantes nativos lo hagan más legible por humanos.</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql_reference/statements/alter.md target=_blank rel="external nofollow noreferrer"> Ayuda a la documentación de ClickHouse editando esta página </a> </p> </div> <h2 id=query_language_queries_alter>ALTER<a class=headerlink href=#query_language_queries_alter title="Permanent link">&para;</a></h2> <p>El <code>ALTER</code> consulta sólo se admite para <code>*MergeTree</code> mesas, así como <code>Merge</code>y<code>Distributed</code>. La consulta tiene varias variaciones.</p> <h3 id=column-manipulations>Manipulaciones de columna<a class=headerlink href=#column-manipulations title="Permanent link">&para;</a></h3> <p>Cambiar la estructura de la tabla.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span> <span class=k>ADD</span><span class=o>|</span><span class=k>DROP</span><span class=o>|</span><span class=n>CLEAR</span><span class=o>|</span><span class=k>COMMENT</span><span class=o>|</span><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>...</span>
</code></pre></div> <p>En la consulta, especifique una lista de una o más acciones separadas por comas.<br> Cada acción es una operación en una columna.</p> <p>Se admiten las siguientes acciones:</p> <ul> <li><a href=#alter_add-column>ADD COLUMN</a> — Adds a new column to the table.</li> <li><a href=#alter_drop-column>DROP COLUMN</a> — Deletes the column.</li> <li><a href=#alter_clear-column>CLEAR COLUMN</a> — Resets column values.</li> <li><a href=#alter_comment-column>COMMENT COLUMN</a> — Adds a text comment to the column.</li> <li><a href=#alter_modify-column>MODIFY COLUMN</a> — Changes column's type, default expression and TTL.</li> </ul> <p>Estas acciones se describen en detalle a continuación.</p> <h4 id=alter_add-column>ADD COLUMN<a class=headerlink href=#alter_add-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ADD</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>codec</span><span class=p>]</span> <span class=p>[</span><span class=k>AFTER</span> <span class=n>name_after</span><span class=p>]</span>
</code></pre></div> <p>Agrega una nueva columna a la tabla con el <code>name</code>, <code>type</code>, <a href=../create/#codecs><code>codec</code></a> y <code>default_expr</code> (ver la sección <a href=../create/#create-default-values>Expresiones predeterminadas</a>).</p> <p>Si el <code>IF NOT EXISTS</code> cláusula, la consulta no devolverá un error si la columna ya existe. Si especifica <code>AFTER name_after</code> (el nombre de otra columna), la columna se agrega después de la especificada en la lista de columnas de tabla. De lo contrario, la columna se agrega al final de la tabla. Tenga en cuenta que no hay forma de agregar una columna al principio de una tabla. Para una cadena de acciones, <code>name_after</code> puede ser el nombre de una columna que se agrega en una de las acciones anteriores.</p> <p>Agregar una columna solo cambia la estructura de la tabla, sin realizar ninguna acción con datos. Los datos no aparecen en el disco después de <code>ALTER</code>. Si faltan los datos para una columna al leer de la tabla, se rellena con valores predeterminados (realizando la expresión predeterminada si hay una, o usando ceros o cadenas vacías). La columna aparece en el disco después de fusionar partes de datos (consulte <a href=../../../engines/table_engines/mergetree_family/mergetree/ >Método de codificación de datos:</a>).</p> <p>Este enfoque nos permite completar el <code>ALTER</code> consulta al instante, sin aumentar el volumen de datos antiguos.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>ADD</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=n>String</span> <span class=k>AFTER</span> <span class=n>user_id</span>
</code></pre></div> <h4 id=alter_drop-column>DROP COLUMN<a class=headerlink href=#alter_drop-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>DROP</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span>
</code></pre></div> <p>Elimina la columna con el nombre <code>name</code>. Si el <code>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Elimina datos del sistema de archivos. Dado que esto elimina archivos completos, la consulta se completa casi al instante.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>DROP</span> <span class=k>COLUMN</span> <span class=n>browser</span>
</code></pre></div> <h4 id=alter_clear-column>CLEAR COLUMN<a class=headerlink href=#alter_clear-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>Restablece todos los datos de una columna para una partición especificada. Obtenga más información sobre cómo configurar el nombre de la partición en la sección <a href=#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>Si el <code>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span>
</code></pre></div> <h4 id=alter_comment-column>COMMENT COLUMN<a class=headerlink href=#alter_comment-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=s1>&#39;comment&#39;</span>
</code></pre></div> <p>Agrega un comentario a la columna. Si el <code>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Cada columna puede tener un comentario. Si ya existe un comentario para la columna, un nuevo comentario sobrescribe el comentario anterior.</p> <p>Los comentarios se almacenan en el <code>comment_expression</code> columna devuelta por el <a href=../misc/#misc-describe-table>DESCRIBE TABLE</a> consulta.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=s1>&#39;The table shows the browser used for accessing the site.&#39;</span>
</code></pre></div> <h4 id=alter_modify-column>MODIFY COLUMN<a class=headerlink href=#alter_modify-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span><span class=p>]</span>
</code></pre></div> <p>Esta consulta cambia el <code>name</code> propiedades de la columna:</p> <ul> <li> <p>Tipo</p> </li> <li> <p>Expresión predeterminada</p> </li> <li> <p>TTL</p> <div class=codehilite><pre><span></span><code><span class=n>For</span> <span class=n>examples</span> <span class=n>of</span> <span class=n>columns</span> <span class=n>TTL</span> <span class=n>modifying</span><span class=p>,</span> <span class=n>see</span> <span class=p>[</span><span class=n>Column</span> <span class=n>TTL</span><span class=p>](..</span><span class=o>/</span><span class=n>engines</span><span class=o>/</span><span class=n>table_engines</span><span class=o>/</span><span class=n>mergetree_family</span><span class=o>/</span><span class=n>mergetree</span><span class=p>.</span><span class=n>md</span><span class=err>#</span><span class=n>mergetree</span><span class=o>-</span><span class=n>column</span><span class=o>-</span><span class=n>ttl</span><span class=p>).</span>
</code></pre></div> </li> </ul> <p>Si el <code>IF EXISTS</code> se especifica una cláusula, la consulta no devolverá un error si la columna no existe.</p> <p>Al cambiar el tipo, los valores se convierten como si <a href=../../functions/type_conversion_functions/ >ToType</a> se les aplicaron funciones. Si solo se cambia la expresión predeterminada, la consulta no hace nada complejo y se completa casi al instante.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>)</span>
</code></pre></div> <p>Changing the column type is the only complex action – it changes the contents of files with data. For large tables, this may take a long time.</p> <p>Hay varias etapas de procesamiento:</p> <ul> <li>Preparación de archivos temporales (nuevos) con datos modificados.</li> <li>Cambiar el nombre de los archivos antiguos.</li> <li>Cambiar el nombre de los archivos temporales (nuevos) a los nombres antiguos.</li> <li>Eliminar los archivos antiguos.</li> </ul> <p>Solo la primera etapa lleva tiempo. Si hay un error en esta etapa, los datos no se cambian.<br> Si hay un error durante una de las etapas sucesivas, los datos se pueden restaurar manualmente. La excepción es si los archivos antiguos se eliminaron del sistema de archivos, pero los datos de los nuevos archivos no se escribieron en el disco y se perdieron.</p> <p>El <code>ALTER</code> se replica la consulta para cambiar columnas. Las instrucciones se guardan en ZooKeeper, luego cada réplica las aplica. Todo <code>ALTER</code> las consultas se ejecutan en el mismo orden. La consulta espera a que se completen las acciones adecuadas en las otras réplicas. Sin embargo, una consulta para cambiar columnas en una tabla replicada se puede interrumpir y todas las acciones se realizarán de forma asincrónica.</p> <h4 id=alter-query-limitations>Limitaciones de consulta ALTER<a class=headerlink href=#alter-query-limitations title="Permanent link">&para;</a></h4> <p>El <code>ALTER</code> query le permite crear y eliminar elementos separados (columnas) en estructuras de datos anidadas, pero no en estructuras de datos anidadas completas. Para agregar una estructura de datos anidada, puede agregar columnas con un nombre como <code>name.nested_name</code> y el tipo <code>Array(T)</code>. Una estructura de datos anidada es equivalente a varias columnas de matriz con un nombre que tiene el mismo prefijo antes del punto.</p> <p>No hay soporte para eliminar columnas en la clave principal o la clave de muestreo (columnas que se utilizan en el <code>ENGINE</code> expresion). Solo es posible cambiar el tipo de las columnas que se incluyen en la clave principal si este cambio no provoca que se modifiquen los datos (por ejemplo, puede agregar valores a un Enum o cambiar un tipo de <code>DateTime</code> a <code>UInt32</code>).</p> <p>Si el <code>ALTER</code> la consulta no es suficiente para realizar los cambios en la tabla que necesita, puede crear una nueva tabla, copiar los datos <a href=../insert_into/#insert_query_insert-select>INSERT SELECT</a> consulta, luego cambie las tablas usando el <a href=../misc/#misc_operations-rename>RENAME</a> consulta y elimina la tabla anterior. Puede usar el <a href=../../../operations/utilities/clickhouse-copier/ >Método de codificación de datos:</a> como una alternativa a la <code>INSERT SELECT</code> consulta.</p> <p>El <code>ALTER</code> query bloquea todas las lecturas y escrituras para la tabla. En otras palabras, si un largo <code>SELECT</code> se está ejecutando en el momento de la <code>ALTER</code> consulta, el <code>ALTER</code> la consulta esperará a que se complete. Al mismo tiempo, todas las consultas nuevas a la misma tabla esperarán <code>ALTER</code> se está ejecutando.</p> <p>Para tablas que no almacenan datos por sí mismas (como <code>Merge</code> y <code>Distributed</code>), <code>ALTER</code> simplemente cambia la estructura de la tabla, y no cambia la estructura de las tablas subordinadas. Por ejemplo, cuando se ejecuta ALTER para un <code>Distributed</code> mesa, también tendrá que ejecutar <code>ALTER</code> para las tablas en todos los servidores remotos.</p> <h3 id=manipulations-with-key-expressions>Manipulaciones con expresiones clave<a class=headerlink href=#manipulations-with-key-expressions title="Permanent link">&para;</a></h3> <p>Se admite el siguiente comando:</p> <div class=codehilite><pre><span></span><code><span class=k>MODIFY</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>new_expression</span>
</code></pre></div> <p>Solo funciona para tablas en el <a href=../../../engines/table_engines/mergetree_family/mergetree/ ><code>MergeTree</code></a> familia (incluyendo<br> <a href=../../../engines/table_engines/mergetree_family/replication/ >repetición</a> tabla). El comando cambia el<br> <a href=../../../engines/table_engines/mergetree_family/mergetree/ >clave de clasificación</a> de la mesa<br> a <code>new_expression</code> (una expresión o una tupla de expresiones). La clave principal sigue siendo la misma.</p> <p>El comando es liviano en el sentido de que solo cambia los metadatos. Para mantener la propiedad esa parte de datos<br> las filas están ordenadas por la expresión de clave de ordenación, no puede agregar expresiones que contengan columnas existentes<br> a la clave de ordenación (sólo las columnas añadidas <code>ADD COLUMN</code> comando en el mismo <code>ALTER</code> consulta).</p> <h3 id=manipulations-with-data-skipping-indices>Manipulaciones con índices de saltos de datos<a class=headerlink href=#manipulations-with-data-skipping-indices title="Permanent link">&para;</a></h3> <p>Solo funciona para tablas en el <a href=../../../engines/table_engines/mergetree_family/mergetree/ ><code>*MergeTree</code></a> familia (incluyendo<br> <a href=../../../engines/table_engines/mergetree_family/replication/ >repetición</a> tabla). Las siguientes operaciones<br> están disponibles:</p> <ul> <li> <p><code>ALTER TABLE [db].name ADD INDEX name expression TYPE type GRANULARITY value AFTER name [AFTER name2]</code> - Agrega la descripción del índice a los metadatos de las tablas.</p> </li> <li> <p><code>ALTER TABLE [db].name DROP INDEX name</code> - Elimina la descripción del índice de los metadatos de las tablas y elimina los archivos de índice del disco.</p> </li> </ul> <p>Estos comandos son livianos en el sentido de que solo cambian los metadatos o eliminan archivos.<br> Además, se replican (sincronizando metadatos de índices a través de ZooKeeper).</p> <h3 id=manipulations-with-constraints>Manipulaciones con restricciones<a class=headerlink href=#manipulations-with-constraints title="Permanent link">&para;</a></h3> <p>Ver más en <a href=../create/#constraints>limitación</a></p> <p>Las restricciones se pueden agregar o eliminar utilizando la siguiente sintaxis:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>ADD</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span> <span class=k>CHECK</span> <span class=n>expression</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>DROP</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span><span class=p>;</span>
</code></pre></div> <p>Las consultas agregarán o eliminarán metadatos sobre restricciones de la tabla para que se procesen inmediatamente.</p> <p>Comprobación de restricciones <em>no se ejecutará</em> en los datos existentes si se agregaron.</p> <p>Todos los cambios en las tablas replicadas se transmiten a ZooKeeper, por lo que se aplicarán en otras réplicas.</p> <h3 id=alter_manipulations-with-partitions>Manipulaciones con particiones y piezas<a class=headerlink href=#alter_manipulations-with-partitions title="Permanent link">&para;</a></h3> <p>Las siguientes operaciones con <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ >partición</a> están disponibles:</p> <ul> <li><a href=#alter_detach-partition>DETACH PARTITION</a> – Moves a partition to the <code>detached</code> directorio y olvidarlo.</li> <li><a href=#alter_drop-partition>DROP PARTITION</a> – Deletes a partition.</li> <li><a href=#alter_attach-partition>ATTACH PART|PARTITION</a> – Adds a part or partition from the <code>detached</code> directorio a la tabla.</li> <li><a href=#alter_replace-partition>REPLACE PARTITION</a> - Copia la partición de datos de una tabla a otra.</li> <li><a href=#alter_attach-partition-from>ATTACH PARTITION FROM</a> – Copies the data partition from one table to another and adds.</li> <li><a href=#alter_replace-partition>REPLACE PARTITION</a> - Copia la partición de datos de una tabla a otra y reemplaza.</li> <li><a href=#alter_move_to_table-partition>MOVE PARTITION TO TABLE</a> (#alter_move_to_table-partition) - Mover la partición de datos de una tabla a otra.</li> <li><a href=#alter_clear-column-partition>CLEAR COLUMN IN PARTITION</a> - Restablece el valor de una columna especificada en una partición.</li> <li><a href=#alter_clear-index-partition>CLEAR INDEX IN PARTITION</a> - Restablece el índice secundario especificado en una partición.</li> <li><a href=#alter_freeze-partition>FREEZE PARTITION</a> – Creates a backup of a partition.</li> <li><a href=#alter_fetch-partition>FETCH PARTITION</a> – Downloads a partition from another server.</li> <li><a href=#alter_move-partition>MOVE PARTITION|PART</a> – Move partition/data part to another disk or volume.</li> </ul> <!-- --> <h4 id=detach-partition-alter-detach-partition>DETACH PARTITION {#alter_detach-partition}<a class=headerlink href=#detach-partition-alter-detach-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Mueve todos los datos de la partición especificada <code>detached</code> directorio. El servidor se olvida de la partición de datos separada como si no existiera. El servidor no sabrá acerca de estos datos hasta que <a href=#alter_attach-partition>ATTACH</a> consulta.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span>
</code></pre></div> <p>Lea cómo configurar la expresión de partición en una sección <a href=#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>Después de ejecutar la consulta, puede hacer lo que quiera con los datos en el <code>detached</code> directory — delete it from the file system, or just leave it.</p> <p>This query is replicated – it moves the data to the <code>detached</code> directorio en todas las réplicas. Tenga en cuenta que solo puede ejecutar esta consulta en una réplica de líder. Para averiguar si una réplica es un líder, realice <code>SELECT</code> consulta a la <a href=../../../operations/system_tables/#system_tables-replicas>sistema.Replica</a> tabla. Alternativamente, es más fácil hacer un <code>DETACH</code> consulta en todas las réplicas: todas las réplicas producen una excepción, excepto la réplica líder.</p> <h4 id=alter_drop-partition>DROP PARTITION<a class=headerlink href=#alter_drop-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Elimina la partición especificada de la tabla. Esta consulta etiqueta la partición como inactiva y elimina los datos por completo, aproximadamente en 10 minutos.</p> <p>Lea cómo configurar la expresión de partición en una sección <a href=#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>The query is replicated – it deletes data on all replicas.</p> <h4 id=alter_drop-detached>DROP DETACHED PARTITION|PART<a class=headerlink href=#alter_drop-detached title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>DETACHED</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Quita la parte especificada o todas las partes de la partición especificada de <code>detached</code>.<br> Más información sobre cómo establecer la expresión de partición en una sección <a href=#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <h4 id=alter_attach-partition>ATTACH PARTITION|PART<a class=headerlink href=#alter_attach-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Agrega datos a la tabla desde el <code>detached</code> directorio. Es posible agregar datos para una partición completa o para una parte separada. Ejemplos:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PART</span> <span class=mi>201901</span><span class=n>_2_2_0</span><span class=p>;</span>
</code></pre></div> <p>Más información sobre cómo establecer la expresión de partición en una sección <a href=#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>Esta consulta se replica. El iniciador de réplica comprueba si hay datos en el <code>detached</code> directorio. Si existen datos, la consulta comprueba su integridad. Si todo es correcto, la consulta agrega los datos a la tabla. Todas las demás réplicas descargan los datos del iniciador de réplica.</p> <p>Entonces puedes poner datos en el <code>detached</code> en una réplica, y utilice el directorio <code>ALTER ... ATTACH</code> consulta para agregarlo a la tabla en todas las réplicas.</p> <h4 id=alter_attach-partition-from>ATTACH PARTITION FROM<a class=headerlink href=#alter_attach-partition-from title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>Esta consulta copia la partición de datos <code>table1</code> a <code>table2</code> añade datos a los que existen en el <code>table2</code>. Tenga en cuenta que los datos no se eliminarán de <code>table1</code>.</p> <p>Para que la consulta se ejecute correctamente, se deben cumplir las siguientes condiciones:</p> <ul> <li>Ambas tablas deben tener la misma estructura.</li> <li>Ambas tablas deben tener la misma clave de partición.</li> </ul> <h4 id=alter_replace-partition>REPLACE PARTITION<a class=headerlink href=#alter_replace-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=k>REPLACE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>Esta consulta copia la partición de datos <code>table1</code> a <code>table2</code> y reemplaza la partición existente en el <code>table2</code>. Tenga en cuenta que los datos no se eliminarán de <code>table1</code>.</p> <p>Para que la consulta se ejecute correctamente, se deben cumplir las siguientes condiciones:</p> <ul> <li>Ambas tablas deben tener la misma estructura.</li> <li>Ambas tablas deben tener la misma clave de partición.</li> </ul> <h4 id=alter_move_to_table-partition>MOVE PARTITION TO TABLE<a class=headerlink href=#alter_move_to_table-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table_source</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=k>TABLE</span> <span class=n>table_dest</span>
</code></pre></div> <p>Esta consulta mueve la partición de datos <code>table_source</code> a <code>table_dest</code> con la eliminación de los datos de <code>table_source</code>.</p> <p>Para que la consulta se ejecute correctamente, se deben cumplir las siguientes condiciones:</p> <ul> <li>Ambas tablas deben tener la misma estructura.</li> <li>Ambas tablas deben tener la misma clave de partición.</li> <li>Ambas tablas deben ser de la misma familia de motores. (replicado o no replicado)</li> <li>Ambas tablas deben tener la misma política de almacenamiento.</li> </ul> <h4 id=alter_clear-column-partition>CLEAR COLUMN IN PARTITION<a class=headerlink href=#alter_clear-column-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=k>column_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>Restablece todos los valores de la columna especificada en una partición. Si el <code>DEFAULT</code> cláusula se determinó al crear una tabla, esta consulta establece el valor de columna en un valor predeterminado especificado.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>hour</span> <span class=k>in</span> <span class=n>PARTITION</span> <span class=mi>201902</span>
</code></pre></div> <h4 id=alter_freeze-partition>FREEZE PARTITION<a class=headerlink href=#alter_freeze-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FREEZE</span> <span class=p>[</span><span class=n>PARTITION</span> <span class=n>partition_expr</span><span class=p>]</span>
</code></pre></div> <p>Esta consulta crea una copia de seguridad local de una partición especificada. Si el <code>PARTITION</code> se omite la cláusula, la consulta crea la copia de seguridad de todas las particiones a la vez.</p> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Todo el proceso de copia de seguridad se realiza sin detener el servidor.</p> </div> <p>Tenga en cuenta que para las tablas de estilo antiguo puede especificar el prefijo del nombre de la partición (por ejemplo, ‘2019’) - entonces la consulta crea la copia de seguridad para todas las particiones correspondientes. Lea cómo configurar la expresión de partición en una sección <a href=#alter-how-to-specify-part-expr>Cómo especificar la expresión de partición</a>.</p> <p>En el momento de la ejecución, para una instantánea de datos, la consulta crea vínculos rígidos a los datos de una tabla. Los enlaces duros se colocan en el directorio <code>/var/lib/clickhouse/shadow/N/...</code>, donde:</p> <ul> <li><code>/var/lib/clickhouse/</code> es el directorio ClickHouse de trabajo especificado en la configuración.</li> <li><code>N</code> es el número incremental de la copia de seguridad.</li> </ul> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Si usted usa <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-multiple-volumes>un conjunto de discos para el almacenamiento de datos en una tabla</a>, el <code>shadow/N</code> directorio aparece en cada disco, almacenando partes de datos que coinciden con el <code>PARTITION</code> expresion.</p> </div> <p>La misma estructura de directorios se crea dentro de la copia de seguridad que dentro <code>/var/lib/clickhouse/</code>. La consulta realiza ‘chmod’ para todos los archivos, prohibiendo escribir en ellos.</p> <p>Después de crear la copia de seguridad, puede copiar los datos desde <code>/var/lib/clickhouse/shadow/</code> al servidor remoto y, a continuación, elimínelo del servidor local. Tenga en cuenta que el <code>ALTER t FREEZE PARTITION</code> consulta no se replica. Crea una copia de seguridad local solo en el servidor local.</p> <p>La consulta crea una copia de seguridad casi instantáneamente (pero primero espera a que las consultas actuales a la tabla correspondiente terminen de ejecutarse).</p> <p><code>ALTER TABLE t FREEZE PARTITION</code> copia solo los datos, no los metadatos de la tabla. Para hacer una copia de seguridad de los metadatos de la tabla, copie el archivo <code>/var/lib/clickhouse/metadata/database/table.sql</code></p> <p>Para restaurar los datos de una copia de seguridad, haga lo siguiente:</p> <ol> <li>Crear la tabla si no existe. Para ver la consulta, utilice el .archivo sql (reemplazar <code>ATTACH</code> en ella con <code>CREATE</code>).</li> <li>Copie los datos de la <code>data/database/table/</code> directorio dentro de la copia de seguridad a la <code>/var/lib/clickhouse/data/database/table/detached/</code> directorio.</li> <li>Ejecutar <code>ALTER TABLE t ATTACH PARTITION</code> consultas para agregar los datos a una tabla.</li> </ol> <p>La restauración desde una copia de seguridad no requiere detener el servidor.</p> <p>Para obtener más información sobre las copias de seguridad y la restauración de datos, consulte <a href=../../../operations/backup/ >Copia de seguridad de datos</a> apartado.</p> <h4 id=alter_clear-index-partition>CLEAR INDEX IN PARTITION<a class=headerlink href=#alter_clear-index-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>INDEX</span> <span class=n>index_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>La consulta funciona de forma similar a <code>CLEAR COLUMN</code>, pero restablece un índice en lugar de una columna de datos.</p> <h4 id=alter_fetch-partition>FETCH PARTITION<a class=headerlink href=#alter_fetch-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=s1>&#39;path-in-zookeeper&#39;</span>
</code></pre></div> <p>Descarga una partición desde otro servidor. Esta consulta solo funciona para las tablas replicadas.</p> <p>La consulta hace lo siguiente:</p> <ol> <li>Descarga la partición del fragmento especificado. En ‘path-in-zookeeper’ debe especificar una ruta al fragmento en ZooKeeper.</li> <li>Luego, la consulta coloca los datos descargados en el <code>detached</code> directorio de la <code>table_name</code> tabla. Utilice el <a href=#alter_attach-partition>ATTACH PARTITION|PART</a> consulta para agregar los datos a la tabla.</li> </ol> <p>Por ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=mi>201902</span> <span class=k>FROM</span> <span class=s1>&#39;/clickhouse/tables/01-01/visits&#39;</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201902</span><span class=p>;</span>
</code></pre></div> <p>Tenga en cuenta que:</p> <ul> <li>El <code>ALTER ... FETCH PARTITION</code> consulta no se replica. Coloca la partición en el <code>detached</code> sólo en el servidor local.</li> <li>El <code>ALTER TABLE ... ATTACH</code> la consulta se replica. Agrega los datos a todas las réplicas. Los datos se agregan a una de las réplicas de la <code>detached</code> directorio, y para los demás - de réplicas vecinas.</li> </ul> <p>Antes de descargar, el sistema verifica si la partición existe y la estructura de la tabla coincide. La réplica más adecuada se selecciona automáticamente de las réplicas en buen estado.</p> <p>Aunque se llama a la consulta <code>ALTER TABLE</code>, no cambia la estructura de la tabla y no cambiar inmediatamente los datos disponibles en la tabla.</p> <h4 id=alter_move-partition>MOVE PARTITION|PART<a class=headerlink href=#alter_move-partition title="Permanent link">&para;</a></h4> <p>Mueve particiones o partes de datos a otro volumen o disco para <code>MergeTree</code>-mesas de motor. Ver <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-multiple-volumes>Uso de varios dispositivos de bloque para el almacenamiento de datos</a>.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>MOVE</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=n>DISK</span><span class=o>|</span><span class=n>VOLUME</span> <span class=s1>&#39;disk_name&#39;</span>
</code></pre></div> <p>El <code>ALTER TABLE t MOVE</code> consulta:</p> <ul> <li>No replicado, porque diferentes réplicas pueden tener diferentes directivas de almacenamiento.</li> <li>Devuelve un error si el disco o volumen especificado no está configurado. La consulta también devuelve un error si no se pueden aplicar las condiciones de movimiento de datos especificadas en la directiva de almacenamiento.</li> <li>Puede devolver un error en el caso, cuando los datos que se moverán ya se mueven por un proceso en segundo plano, concurrente <code>ALTER TABLE t MOVE</code> consulta o como resultado de la fusión de datos de fondo. Un usuario no debe realizar ninguna acción adicional en este caso.</li> </ul> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PART</span> <span class=s1>&#39;20190301_14343_16206_438&#39;</span> <span class=k>TO</span> <span class=n>VOLUME</span> <span class=s1>&#39;slow&#39;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=s1>&#39;2019-09-01&#39;</span> <span class=k>TO</span> <span class=n>DISK</span> <span class=s1>&#39;fast_ssd&#39;</span>
</code></pre></div> <h4 id=alter-how-to-specify-part-expr>Cómo establecer la expresión de partición<a class=headerlink href=#alter-how-to-specify-part-expr title="Permanent link">&para;</a></h4> <p>Puede especificar la expresión de partición en <code>ALTER ... PARTITION</code> de diferentes maneras:</p> <ul> <li>Como valor de la <code>partition</code> columna de la <code>system.parts</code> tabla. Por ejemplo, <code>ALTER TABLE visits DETACH PARTITION 201901</code>.</li> <li>Como la expresión de la columna de la tabla. Se admiten constantes y expresiones constantes. Por ejemplo, <code>ALTER TABLE visits DETACH PARTITION toYYYYMM(toDate('2019-01-25'))</code>.</li> <li>Usando el ID de partición. El ID de partición es un identificador de cadena de la partición (legible por humanos, si es posible) que se usa como nombres de particiones en el sistema de archivos y en ZooKeeper. El ID de partición debe especificarse en el <code>PARTITION ID</code> cláusula, entre comillas simples. Por ejemplo, <code>ALTER TABLE visits DETACH PARTITION ID '201901'</code>.</li> <li>En el <a href=#alter_attach-partition>ALTER ATTACH PART</a> y <a href=#alter_drop-detached>DROP DETACHED PART</a> consulta, para especificar el nombre de una parte, utilice un literal de cadena con un valor <code>name</code> columna de la <a href=../../../operations/system_tables/#system_tables-detached_parts>sistema.detached_parts</a> tabla. Por ejemplo, <code>ALTER TABLE visits ATTACH PART '201901_1_1_0'</code>.</li> </ul> <p>El uso de comillas al especificar la partición depende del tipo de expresión de partición. Por ejemplo, para el <code>String</code> tipo, debe especificar su nombre entre comillas (<code>'</code>). Para el <code>Date</code> y <code>Int*</code> tipos no se necesitan comillas.</p> <p>Para las tablas de estilo antiguo, puede especificar la partición como un número <code>201901</code> o una cadena <code>'201901'</code>. La sintaxis para las tablas de nuevo estilo es más estricta con los tipos (similar al analizador para el formato de entrada VALUES).</p> <p>Todas las reglas anteriores también son ciertas para el <a href=../misc/#misc_operations-optimize>OPTIMIZE</a> consulta. Si necesita especificar la única partición al optimizar una tabla no particionada, establezca la expresión <code>PARTITION tuple()</code>. Por ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=n>OPTIMIZE</span> <span class=k>TABLE</span> <span class=n>table_not_partitioned</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span> <span class=k>FINAL</span><span class=p>;</span>
</code></pre></div> <p>Los ejemplos de <code>ALTER ... PARTITION</code> las consultas se demuestran en las pruebas <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_local.sql rel="external nofollow noreferrer"><code>00502_custom_partitioning_local</code></a> y <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_replicated_zookeeper.sql rel="external nofollow noreferrer"><code>00502_custom_partitioning_replicated_zookeeper</code></a>.</p> <h3 id=manipulations-with-table-ttl>Manipulaciones con tabla TTL<a class=headerlink href=#manipulations-with-table-ttl title="Permanent link">&para;</a></h3> <p>Usted puede cambiar <a href=../../../engines/table_engines/mergetree_family/mergetree/#mergetree-table-ttl>tabla TTL</a> con una solicitud del siguiente formulario:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table</span><span class=o>-</span><span class=n>name</span> <span class=k>MODIFY</span> <span class=n>TTL</span> <span class=n>ttl</span><span class=o>-</span><span class=n>expression</span>
</code></pre></div> <h3 id=synchronicity-of-alter-queries>Sincronicidad de consultas ALTER<a class=headerlink href=#synchronicity-of-alter-queries title="Permanent link">&para;</a></h3> <p>Para tablas no replicables, todas <code>ALTER</code> las consultas se realizan de forma sincrónica. Para las tablas replicables, la consulta solo agrega instrucciones para las acciones apropiadas para <code>ZooKeeper</code>, y las acciones mismas se realizan tan pronto como sea posible. Sin embargo, la consulta puede esperar a que estas acciones se completen en todas las réplicas.</p> <p>Para <code>ALTER ... ATTACH|DETACH|DROP</code> consultas, puede utilizar el <code>replication_alter_partitions_sync</code> configuración para configurar la espera.<br> Valores posibles: <code>0</code> – do not wait; <code>1</code> – only wait for own execution (default); <code>2</code> – wait for all.</p> <h3 id=alter-mutations>Mutación<a class=headerlink href=#alter-mutations title="Permanent link">&para;</a></h3> <p>Las mutaciones son una variante de consulta ALTER que permite cambiar o eliminar filas en una tabla. En contraste con el estándar <code>UPDATE</code> y <code>DELETE</code> consultas destinadas a cambios de datos puntuales, las mutaciones están destinadas a operaciones pesadas que cambian muchas filas en una tabla. Apoyado para el <code>MergeTree</code> familia de motores de mesa, incluidos los motores con soporte de replicación.</p> <p>Las tablas existentes están listas para las mutaciones tal como están (no es necesaria la conversión), pero después de que la primera mutación se aplica a una tabla, su formato de metadatos se vuelve incompatible con las versiones anteriores del servidor y volver a una versión anterior se vuelve imposible.</p> <p>Comandos disponibles actualmente:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>DELETE</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>El <code>filter_expr</code> debe ser de tipo <code>UInt8</code>. La consulta elimina las filas de la tabla para la que esta expresión toma un valor distinto de cero.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>UPDATE</span> <span class=n>column1</span> <span class=o>=</span> <span class=n>expr1</span> <span class=p>[,</span> <span class=p>...]</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>El <code>filter_expr</code> debe ser de tipo <code>UInt8</code>. Esta consulta actualiza los valores de las columnas especificadas a los valores de las expresiones correspondientes <code>filter_expr</code> toma un valor distinto de cero. Los valores se convierten al tipo de columna utilizando el <code>CAST</code> operador. No se admite la actualización de columnas que se utilizan en el cálculo de la clave principal o de partición.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=n>MATERIALIZE</span> <span class=k>INDEX</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>La consulta reconstruye el índice secundario <code>name</code> en la partición <code>partition_name</code>.</p> <p>Una consulta puede contener varios comandos separados por comas.</p> <p>Para las tablas *MergeTree, las mutaciones se ejecutan reescribiendo partes de datos completas. No hay atomicidad - las partes se sustituyen por partes mutadas tan pronto como están listas y una <code>SELECT</code> La consulta que comenzó a ejecutarse durante una mutación verá datos de partes que ya han sido mutadas junto con datos de partes que aún no han sido mutadas.</p> <p>Las mutaciones están totalmente ordenadas por su orden de creación y se aplican a cada parte en ese orden. Las mutaciones también se ordenan parcialmente con INSERTs: los datos que se insertaron en la tabla antes de que se enviara la mutación se mutarán y los datos que se insertaron después de eso no se mutarán. Tenga en cuenta que las mutaciones no bloquean INSERTs de ninguna manera.</p> <p>Una consulta de mutación regresa inmediatamente después de agregar la entrada de mutación (en el caso de tablas replicadas a ZooKeeper, para tablas no replicadas, al sistema de archivos). La mutación en sí se ejecuta de forma asíncrona utilizando la configuración del perfil del sistema. Para realizar un seguimiento del progreso de las mutaciones, puede usar el <a href=../../../operations/system_tables/#system_tables-mutations><code>system.mutations</code></a> tabla. Una mutación que se envió correctamente continuará ejecutándose incluso si se reinician los servidores ClickHouse. No hay forma de revertir la mutación una vez que se presenta, pero si la mutación está atascada por alguna razón, puede cancelarse con el <a href=../misc/#kill-mutation><code>KILL MUTATION</code></a> consulta.</p> <p>Las entradas de mutaciones terminadas no se eliminan de inmediato (el número de entradas conservadas viene determinado por el <code>finished_mutations_to_keep</code> parámetro del motor de almacenamiento). Las entradas de mutación más antiguas se eliminan.</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Construido a partir de <a href=https://github.com/ClickHouse/ClickHouse/commit/25eae6abe035bda78634f17d15c9f05348d97aad rel="external nofollow noreferrer" target=_blank class=text-reset>25eae6abe0</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Tabla de contenido</label> <a href=#query_language_queries_alter title=ALTER class="nav-link text-wrap d-inline-block w-100"> ALTER </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#column-manipulations title="Manipulaciones de columna" class="nav-link text-wrap d-inline-block w-100"> Manipulaciones de columna </a> <nav id=toc-toc-1-1 class="nav flex-column pl-2"> <a href=#alter_add-column title="ADD COLUMN" class="nav-link text-wrap d-inline-block w-100"> ADD COLUMN </a> <a href=#alter_drop-column title="DROP COLUMN" class="nav-link text-wrap d-inline-block w-100"> DROP COLUMN </a> <a href=#alter_clear-column title="CLEAR COLUMN" class="nav-link text-wrap d-inline-block w-100"> CLEAR COLUMN </a> <a href=#alter_comment-column title="COMMENT COLUMN" class="nav-link text-wrap d-inline-block w-100"> COMMENT COLUMN </a> <a href=#alter_modify-column title="MODIFY COLUMN" class="nav-link text-wrap d-inline-block w-100"> MODIFY COLUMN </a> <a href=#alter-query-limitations title="Limitaciones de consulta ALTER" class="nav-link text-wrap d-inline-block w-100"> Limitaciones de consulta ALTER </a> </nav> <a href=#manipulations-with-key-expressions title="Manipulaciones con expresiones clave" class="nav-link text-wrap d-inline-block w-100"> Manipulaciones con expresiones clave </a> <a href=#manipulations-with-data-skipping-indices title="Manipulaciones con índices de saltos de datos" class="nav-link text-wrap d-inline-block w-100"> Manipulaciones con índices de saltos de datos </a> <a href=#manipulations-with-constraints title="Manipulaciones con restricciones" class="nav-link text-wrap d-inline-block w-100"> Manipulaciones con restricciones </a> <a href=#alter_manipulations-with-partitions title="Manipulaciones con particiones y piezas" class="nav-link text-wrap d-inline-block w-100"> Manipulaciones con particiones y piezas </a> <nav id=toc-toc-1-5 class="nav flex-column pl-2"> <a href=#detach-partition-alter-detach-partition title="DETACH PARTITION {#alter_detach-partition}" class="nav-link text-wrap d-inline-block w-100"> DETACH PARTITION {#alter_detach-partition} </a> <a href=#alter_drop-partition title="DROP PARTITION" class="nav-link text-wrap d-inline-block w-100"> DROP PARTITION </a> <a href=#alter_drop-detached title="DROP DETACHED PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> DROP DETACHED PARTITION|PART </a> <a href=#alter_attach-partition title="ATTACH PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> ATTACH PARTITION|PART </a> <a href=#alter_attach-partition-from title="ATTACH PARTITION FROM" class="nav-link text-wrap d-inline-block w-100"> ATTACH PARTITION FROM </a> <a href=#alter_replace-partition title="REPLACE PARTITION" class="nav-link text-wrap d-inline-block w-100"> REPLACE PARTITION </a> <a href=#alter_move_to_table-partition title="MOVE PARTITION TO TABLE" class="nav-link text-wrap d-inline-block w-100"> MOVE PARTITION TO TABLE </a> <a href=#alter_clear-column-partition title="CLEAR COLUMN IN PARTITION" class="nav-link text-wrap d-inline-block w-100"> CLEAR COLUMN IN PARTITION </a> <a href=#alter_freeze-partition title="FREEZE PARTITION" class="nav-link text-wrap d-inline-block w-100"> FREEZE PARTITION </a> <a href=#alter_clear-index-partition title="CLEAR INDEX IN PARTITION" class="nav-link text-wrap d-inline-block w-100"> CLEAR INDEX IN PARTITION </a> <a href=#alter_fetch-partition title="FETCH PARTITION" class="nav-link text-wrap d-inline-block w-100"> FETCH PARTITION </a> <a href=#alter_move-partition title="MOVE PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> MOVE PARTITION|PART </a> <a href=#alter-how-to-specify-part-expr title="Cómo establecer la expresión de partición" class="nav-link text-wrap d-inline-block w-100"> Cómo establecer la expresión de partición </a> </nav> <a href=#manipulations-with-table-ttl title="Manipulaciones con tabla TTL" class="nav-link text-wrap d-inline-block w-100"> Manipulaciones con tabla TTL </a> <a href=#synchronicity-of-alter-queries title="Sincronicidad de consultas ALTER" class="nav-link text-wrap d-inline-block w-100"> Sincronicidad de consultas ALTER </a> <a href=#alter-mutations title=Mutación class="nav-link text-wrap d-inline-block w-100"> Mutación </a> </nav> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>