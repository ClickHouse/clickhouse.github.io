<!DOCTYPE html><html lang=es data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>SELECT - Documentación de ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="SELECT - Documentación de ClickHouse "><meta property=og:description content="SELECCIONAR consultas Sintaxis SELECT realiza la recuperación de datos. [WITH expr_list|(subquery)] SELECT [DISTINCT] ex"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="SELECT - Documentación de ClickHouse "><meta name=description content="SELECCIONAR consultas Sintaxis SELECT realiza la recuperación de datos. [WITH expr_list|(subquery)] SELECT [DISTINCT] ex"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> SELECT </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql_reference/statements/select.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/es.svg alt=Español title=Español width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/sql_reference/statements/select/ class="dropdown-item disabled"> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-página o de una sola página"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Versión de varias páginas" title="Versión de varias páginas"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Versión de una sola página" title="Versión de una sola página"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Versión: <span class=text-light>reciente</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/es/ class="dropdown-item disable"> <span class=text-light>reciente</span> </a> <a href=/docs/v20.3/es/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/es/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/es/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/es/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/es/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/es/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/es/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/es/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/es/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/es/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/es/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../introduction/distinctive_features/ title="Características distintivas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Características distintivas</a> <a href=../../../introduction/features_considered_disadvantages/ title="Características de ClickHouse que pueden considerarse desventajas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Características de ClickHouse que pueden considerarse desventajas</a> <a href=../../../introduction/performance/ title=Rendimiento class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rendimiento</a> <a href=../../../introduction/history/ title=Historia class="nav-link text-light text-wrap d-inline-block w-100 px-0">Historia</a> <a href=../../../introduction/adopters/ title=Adoptante class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adoptante</a> </nav> </div> <a href=../../../ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../getting_started/install/ title=Instalación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Instalación</a> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../getting_started/example_datasets/ontime/ title="A tiempo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">A tiempo</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="Datos de taxis de Nueva York" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos de taxis de Nueva York</a> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="Referencia de Big Data de AMPLab" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Referencia de Big Data de AMPLab</a> <a href=../../../getting_started/example_datasets/wikistat/ title="Nombre de la red inalámbrica (SSID):" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nombre de la red inalámbrica (SSID):</a> <a href=../../../getting_started/example_datasets/criteo/ title="Registros de clics de Terabyte de Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registros de clics de Terabyte de Criteo</a> <a href=../../../getting_started/example_datasets/star_schema/ title="Estrella Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Estrella Schema Benchmark</a> <a href=../../../getting_started/example_datasets/metrica/ title="El Yandex.Metrica Datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">El Yandex.Metrica Datos</a> </nav> </div> <a href=../../../getting_started/tutorial/ title=Tutorial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a> <a href=../../../getting_started/playground/ title=Infantil class="nav-link text-light text-wrap d-inline-block w-100 px-0">Infantil</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../interfaces/cli/ title="Cliente de línea de comandos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cliente de línea de comandos</a> <a href=../../../interfaces/tcp/ title="Interfaz nativa (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz nativa (TCP)</a> <a href=../../../interfaces/http/ title="Interfaz HTTP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz HTTP</a> <a href=../../../interfaces/mysql/ title="Interfaz MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz MySQL</a> <a href=../../../interfaces/formats/ title="Formatos de entrada y salida" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Formatos de entrada y salida</a> <a href=../../../interfaces/jdbc/ title="Controlador JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Controlador JDBC</a> <a href=../../../interfaces/odbc/ title="Conductor ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conductor ODBC</a> <a href=../../../interfaces/cpp/ title="Biblioteca de clientes de C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Biblioteca de clientes de C++</a> <a href=#sidebar-sidebar-4-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-10 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-4-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../../interfaces/third-party/client_libraries/ title="Bibliotecas de clientes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliotecas de clientes</a> <a href=../../../interfaces/third-party/integrations/ title=Integración class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integración</a> <a href=../../../interfaces/third-party/gui/ title="Interfaces Visuales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaces Visuales</a> <a href=../../../interfaces/third-party/proxy/ title=Proxy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxy</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../../engines/table_engines/mergetree_family/mergetree/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../engines/table_engines/mergetree_family/replication/ title="Replicación de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Replicación de datos</a> <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ title="Clave de partición personalizada" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave de partición personalizada</a> <a href=../../../engines/table_engines/mergetree_family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AgregaciónMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AgregaciónMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/collapsingmergetree/ title=ColapsarMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ColapsarMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-5-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-5-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../../engines/table_engines/log_family/log_family/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table_engines/log_family/log/ title=Registro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registro</a> <a href=../../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-5-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../../engines/table_engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-5-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../../engines/table_engines/special/distributed/ title=Distribuido class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distribuido</a> <a href=../../../engines/table_engines/special/external_data/ title="Datos externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos externos</a> <a href=../../../engines/table_engines/special/dictionary/ title=Diccionario class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionario</a> <a href=../../../engines/table_engines/special/merge/ title=Fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fusionar</a> <a href=../../../engines/table_engines/special/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../../engines/table_engines/special/null/ title=Nulo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nulo</a> <a href=../../../engines/table_engines/special/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../../engines/table_engines/special/join/ title=Unir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Unir</a> <a href=../../../engines/table_engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table_engines/special/view/ title=Vista class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vista</a> <a href=../../../engines/table_engines/special/materializedview/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../engines/table_engines/special/memory/ title=Memoria class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memoria</a> <a href=../../../engines/table_engines/special/buffer/ title=Búfer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Búfer</a> <a href=../../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database_engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database_engines/lazy/ title=Perezoso class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perezoso</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/syntax/ title=Sintaxis class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sintaxis</a> <a href=#sidebar-sidebar-6-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-3 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-6-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../../sql_reference/statements/select/ title=SELECT class="nav-link text-white active text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../../sql_reference/statements/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../sql_reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql_reference/statements/misc/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/functions/arithmetic_functions/ title=Aritmética class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aritmética</a> <a href=../../../sql_reference/functions/comparison_functions/ title=Comparación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparación</a> <a href=../../../sql_reference/functions/logical_functions/ title=Lógico class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lógico</a> <a href=../../../sql_reference/functions/type_conversion_functions/ title="Conversión de tipo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conversión de tipo</a> <a href=../../../sql_reference/functions/date_time_functions/ title="Trabajar con fechas y horas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con fechas y horas</a> <a href=../../../sql_reference/functions/string_functions/ title="Trabajar con cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con cadenas</a> <a href=../../../sql_reference/functions/string_search_functions/ title="Para buscar cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para buscar cadenas</a> <a href=../../../sql_reference/functions/string_replace_functions/ title="Para reemplazar en cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para reemplazar en cadenas</a> <a href=../../../sql_reference/functions/conditional_functions/ title=Condicional class="nav-link text-light text-wrap d-inline-block w-100 px-0">Condicional</a> <a href=../../../sql_reference/functions/math_functions/ title=Matemática class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matemática</a> <a href=../../../sql_reference/functions/rounding_functions/ title=Redondeo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Redondeo</a> <a href=../../../sql_reference/functions/array_functions/ title="Trabajar con matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con matrices</a> <a href=../../../sql_reference/functions/splitting_merging_functions/ title="División y fusión de cuerdas y matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">División y fusión de cuerdas y matrices</a> <a href=../../../sql_reference/functions/bit_functions/ title=Trozo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trozo</a> <a href=../../../sql_reference/functions/bitmap_functions/ title=Bits class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bits</a> <a href=../../../sql_reference/functions/hash_functions/ title=Hash class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a> <a href=../../../sql_reference/functions/random_functions/ title="Generación de números pseudo-aleatorios" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de números pseudo-aleatorios</a> <a href=../../../sql_reference/functions/encoding_functions/ title=Codificación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Codificación</a> <a href=../../../sql_reference/functions/uuid_functions/ title="Trabajando con UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con UUID</a> <a href=../../../sql_reference/functions/url_functions/ title="Trabajar con URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con URL</a> <a href=../../../sql_reference/functions/ip_address_functions/ title="Trabajar con direcciones IP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con direcciones IP</a> <a href=../../../sql_reference/functions/json_functions/ title="Trabajando con JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con JSON</a> <a href=../../../sql_reference/functions/higher_order_functions/ title="Orden superior" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Orden superior</a> <a href=../../../sql_reference/functions/ext_dict_functions/ title="Trabajar con diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con diccionarios externos</a> <a href=../../../sql_reference/functions/ym_dict_functions/ title="Trabajando con Yandex.Diccionarios de Metrica" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con Yandex.Diccionarios de Metrica</a> <a href=../../../sql_reference/functions/in_functions/ title="Implementación del operador IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implementación del operador IN</a> <a href=../../../sql_reference/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../../sql_reference/functions/geo/ title="Trabajar con coordenadas geográficas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con coordenadas geográficas</a> <a href=../../../sql_reference/functions/functions_for_nulls/ title="Trabajar con argumentos Nullable" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con argumentos Nullable</a> <a href=../../../sql_reference/functions/machine_learning_functions/ title="Funciones de aprendizaje automático" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Funciones de aprendizaje automático</a> <a href=../../../sql_reference/functions/introspection/ title=Introspección class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspección</a> <a href=../../../sql_reference/functions/other_functions/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/aggregate_functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/aggregate_functions/reference/ title=Referencia class="nav-link text-light text-wrap d-inline-block w-100 px-0">Referencia</a> <a href=../../../sql_reference/aggregate_functions/combinators/ title="Combinadores de funciones agregadas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Combinadores de funciones agregadas</a> <a href=../../../sql_reference/aggregate_functions/parametric_functions/ title="Funciones agregadas paramétricas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Funciones agregadas paramétricas</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/table_functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../../sql_reference/table_functions/merge/ title=fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">fusionar</a> <a href=../../../sql_reference/table_functions/numbers/ title=numero class="nav-link text-light text-wrap d-inline-block w-100 px-0">numero</a> <a href=../../../sql_reference/table_functions/remote/ title=remoto class="nav-link text-light text-wrap d-inline-block w-100 px-0">remoto</a> <a href=../../../sql_reference/table_functions/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql_reference/table_functions/odbc/ title=Nosotros class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nosotros</a> <a href=../../../sql_reference/table_functions/hdfs/ title=Hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hdfs</a> <a href=../../../sql_reference/table_functions/input/ title=entrada class="nav-link text-light text-wrap d-inline-block w-100 px-0">entrada</a> <a href=../../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title="Descripción General" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción General</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title="Configuración de un diccionario externo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración de un diccionario externo</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title="Almacenamiento de diccionarios en la memoria" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Almacenamiento de diccionarios en la memoria</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title="Actualizaciones del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualizaciones del diccionario</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title="Fuentes de diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fuentes de diccionarios externos</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title="Clave y campos del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave y campos del diccionario</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title="Diccionarios jerárquicos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios jerárquicos</a> </nav> </div> <a href=../../../sql_reference/dictionaries/internal_dicts/ title="Diccionarios internos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios internos</a> </nav> </div> <a href=#sidebar-sidebar-6-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-6-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql_reference/data_types/float/ title="Descripción del producto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción del producto</a> <a href=../../../sql_reference/data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../../sql_reference/data_types/boolean/ title=Booleana class="nav-link text-light text-wrap d-inline-block w-100 px-0">Booleana</a> <a href=../../../sql_reference/data_types/string/ title=Cadena class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena</a> <a href=../../../sql_reference/data_types/fixedstring/ title="Cadena fija (N)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena fija (N)</a> <a href=../../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql_reference/data_types/date/ title=Fecha class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fecha</a> <a href=../../../sql_reference/data_types/datetime/ title=FechaHora class="nav-link text-light text-wrap d-inline-block w-100 px-0">FechaHora</a> <a href=../../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql_reference/data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql_reference/data_types/array/ title="Matriz (T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matriz (T)</a> <a href=../../../sql_reference/data_types/aggregatefunction/ title="Agregar función (nombre, types_of_arguments)...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Agregar función (nombre, types_of_arguments)...)</a> <a href=../../../sql_reference/data_types/tuple/ title="Tuple (T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple (T1, T2, ...)</a> <a href=../../../sql_reference/data_types/nullable/ title=NULL class="nav-link text-light text-wrap d-inline-block w-100 px-0">NULL</a> <a href=#sidebar-sidebar-6-8-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-17 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-6-8-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/nested_data_structures/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/data_types/nested_data_structures/nested/ title="Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-6-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-18 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-6-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/special_data_types/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/data_types/special_data_types/expression/ title=Expresion class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expresion</a> <a href=../../../sql_reference/data_types/special_data_types/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../../sql_reference/data_types/special_data_types/nothing/ title=Nada class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nada</a> <a href=../../../sql_reference/data_types/special_data_types/interval/ title=Intervalo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intervalo</a> </nav> </div> <a href=#sidebar-sidebar-6-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-19 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../../sql_reference/data_types/domains/overview/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=../../../sql_reference/operators/ title=Operador class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operador</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../guides/apply_catboost_model/ title="Aplicación de modelos CatBoost" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aplicación de modelos CatBoost</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/requirements/ title=Requisito class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requisito</a> <a href=../../../operations/monitoring/ title=Monitoreo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoreo</a> <a href=../../../operations/troubleshooting/ title="Solución de problemas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Solución de problemas</a> <a href=../../../operations/update/ title="Actualización de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualización de ClickHouse</a> <a href=../../../operations/access_rights/ title="Derechos de acceso" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Derechos de acceso</a> <a href=../../../operations/backup/ title="Copia de seguridad de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Copia de seguridad de datos</a> <a href=../../../operations/configuration_files/ title="Archivos de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Archivos de configuración</a> <a href=../../../operations/quotas/ title=Cuota class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cuota</a> <a href=#sidebar-sidebar-8-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-10 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-8-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../../operations/optimizing_performance/sampling_query_profiler/ title="Generación de perfiles de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de perfiles de consultas</a> </nav> </div> <a href=../../../operations/system_tables/ title="Tablas del sistema" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tablas del sistema</a> <a href=../../../operations/performance_test/ title="Prueba de hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Prueba de hardware</a> <a href=#sidebar-sidebar-8-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-13 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_configuration_parameters/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/server_configuration_parameters/settings/ title="Configuración del servidor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del servidor</a> </nav> </div> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/settings/permissions_for_queries/ title="Permisos para consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permisos para consultas</a> <a href=../../../operations/settings/query_complexity/ title="Restricciones en la complejidad de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la complejidad de consultas</a> <a href=../../../operations/settings/settings/ title=Configuración class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración</a> <a href=../../../operations/settings/settings_profiles/ title="Perfiles de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perfiles de configuración</a> <a href=../../../operations/settings/constraints_on_settings/ title="Restricciones en la configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la configuración</a> <a href=../../../operations/settings/settings_users/ title="Configuración del usuario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del usuario</a> </nav> </div> <a href=#sidebar-sidebar-8-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-15 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../operations/utilities/clickhouse-copier/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title="Sistema abierto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sistema abierto</a> </nav> </div> <a href=../../../operations/tips/ title="Recomendaciones de uso" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Recomendaciones de uso</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../development/developer_instruction/ title="La instrucción para desarrolladores de ClickHouse para principiantes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La instrucción para desarrolladores de ClickHouse para principiantes</a> <a href=../../../development/architecture/ title="Descripción general de la arquitectura ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción general de la arquitectura ClickHouse</a> <a href=../../../development/browse_code/ title="Examinar el código fuente de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Examinar el código fuente de ClickHouse</a> <a href=../../../development/build/ title="Cómo crear ClickHouse en Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Linux</a> <a href=../../../development/build_osx/ title="Cómo crear ClickHouse en Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Mac OS X</a> <a href=../../../development/build_cross_osx/ title="Cómo construir ClickHouse en Linux para Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para Mac OS X</a> <a href=../../../development/build_cross_arm/ title="Cómo construir ClickHouse en Linux para AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para AARCH64 (ARM64)</a> <a href=../../../development/style/ title="Cómo escribir código C ++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo escribir código C ++</a> <a href=../../../development/tests/ title="Cómo ejecutar pruebas de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo ejecutar pruebas de ClickHouse</a> <a href=../../../development/contrib/ title="Bibliotecas de terceros utilizadas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliotecas de terceros utilizadas</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../../commercial/cloud/ title="Proveedores de servicios en la nube de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proveedores de servicios en la nube de ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats_new/roadmap/ title="Hoja de ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja de ruta</a> <a href=../../../whats_new/security_changelog/ title="Seguridad Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Seguridad Changelog</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../../faq/general/ title="Preguntas generales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Preguntas generales</a> </nav> </div> <a href=../../../roadmap/ title="Hoja de ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja de ruta</a> <a href=../../../single/clickhouse_es.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="Versión PDF" title="Versión PDF" height=24 class="d-block mr-1 float-left"><div>Versión PDF</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Ayuda quería!</p> <p class=lead>El siguiente contenido de esta página de documentación ha sido traducido por máquina. Pero a diferencia de otros sitios web, no se hace sobre la marcha. Este texto traducido vive en el repositorio de GitHub junto con la base de código principal de ClickHouse y espera a que otros hablantes nativos lo hagan más legible por humanos.</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql_reference/statements/select.md target=_blank rel="external nofollow noreferrer"> Ayuda a la documentación de ClickHouse editando esta página </a> </p> </div> <h1 id=select-queries-syntax>SELECCIONAR consultas Sintaxis<a class=headerlink href=#select-queries-syntax title="Permanent link">&para;</a></h1> <p><code>SELECT</code> realiza la recuperación de datos.</p> <div class=codehilite><pre><span></span><code><span class=p>[</span><span class=k>WITH</span> <span class=n>expr_list</span><span class=o>|</span><span class=p>(</span><span class=n>subquery</span><span class=p>)]</span>
<span class=k>SELECT</span> <span class=p>[</span><span class=k>DISTINCT</span><span class=p>]</span> <span class=n>expr_list</span>
<span class=p>[</span><span class=k>FROM</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=o>|</span> <span class=p>(</span><span class=n>subquery</span><span class=p>)</span> <span class=o>|</span> <span class=n>table_function</span><span class=p>]</span> <span class=p>[</span><span class=k>FINAL</span><span class=p>]</span>
<span class=p>[</span><span class=n>SAMPLE</span> <span class=n>sample_coeff</span><span class=p>]</span>
<span class=p>[</span><span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=p>...]</span>
<span class=p>[</span><span class=k>GLOBAL</span><span class=p>]</span> <span class=p>[</span><span class=k>ANY</span><span class=o>|</span><span class=k>ALL</span><span class=p>]</span> <span class=p>[</span><span class=k>INNER</span><span class=o>|</span><span class=k>LEFT</span><span class=o>|</span><span class=k>RIGHT</span><span class=o>|</span><span class=k>FULL</span><span class=o>|</span><span class=k>CROSS</span><span class=p>]</span> <span class=p>[</span><span class=k>OUTER</span><span class=p>]</span> <span class=k>JOIN</span> <span class=p>(</span><span class=n>subquery</span><span class=p>)</span><span class=o>|</span><span class=k>table</span> <span class=k>USING</span> <span class=n>columns_list</span>
<span class=p>[</span><span class=n>PREWHERE</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>WHERE</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>GROUP</span> <span class=k>BY</span> <span class=n>expr_list</span><span class=p>]</span> <span class=p>[</span><span class=k>WITH</span> <span class=n>TOTALS</span><span class=p>]</span>
<span class=p>[</span><span class=k>HAVING</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>ORDER</span> <span class=k>BY</span> <span class=n>expr_list</span><span class=p>]</span>
<span class=p>[</span><span class=k>LIMIT</span> <span class=p>[</span><span class=n>offset_value</span><span class=p>,</span> <span class=p>]</span><span class=n>n</span> <span class=k>BY</span> <span class=n>columns</span><span class=p>]</span>
<span class=p>[</span><span class=k>LIMIT</span> <span class=p>[</span><span class=n>n</span><span class=p>,</span> <span class=p>]</span><span class=n>m</span><span class=p>]</span>
<span class=p>[</span><span class=k>UNION</span> <span class=k>ALL</span> <span class=p>...]</span>
<span class=p>[</span><span class=k>INTO</span> <span class=n>OUTFILE</span> <span class=n>filename</span><span class=p>]</span>
<span class=p>[</span><span class=n>FORMAT</span> <span class=n>format</span><span class=p>]</span>
</code></pre></div> <p>Todas las cláusulas son opcionales, excepto la lista requerida de expresiones inmediatamente después de SELECT.<br> Las siguientes cláusulas se describen casi en el mismo orden que en el transportador de ejecución de consultas.</p> <p>Si la consulta omite el <code>DISTINCT</code>, <code>GROUP BY</code> y <code>ORDER BY</code> cláusulas y el <code>IN</code> y <code>JOIN</code> subconsultas, la consulta se procesará por completo, utilizando O (1) cantidad de RAM.<br> De lo contrario, la consulta podría consumir mucha RAM si no se especifican las restricciones adecuadas: <code>max_memory_usage</code>, <code>max_rows_to_group_by</code>, <code>max_rows_to_sort</code>, <code>max_rows_in_distinct</code>, <code>max_bytes_in_distinct</code>, <code>max_rows_in_set</code>, <code>max_bytes_in_set</code>, <code>max_rows_in_join</code>, <code>max_bytes_in_join</code>, <code>max_bytes_before_external_sort</code>, <code>max_bytes_before_external_group_by</code>. Para obtener más información, consulte la sección “Settings”. Es posible utilizar la clasificación externa (guardar tablas temporales en un disco) y la agregación externa. <code>The system does not have "merge join"</code>.</p> <h3 id=with-clause>CON Cláusula<a class=headerlink href=#with-clause title="Permanent link">&para;</a></h3> <p>Esta sección proporciona soporte para expresiones de tabla común (<a href=https://en.wikipedia.org/wiki/Hierarchical_and_recursive_queries_in_SQL rel="external nofollow noreferrer">CTE</a>), con algunas limitaciones:<br> 1. No se admiten consultas recursivas<br> 2. Cuando se usa una subconsulta dentro de la sección WITH, su resultado debe ser escalar con exactamente una fila<br> 3. Los resultados de la expresión no están disponibles en las subconsultas<br> Los resultados de las expresiones de la cláusula WITH se pueden usar dentro de la cláusula SELECT.</p> <p>Ejemplo 1: Usar expresión constante como “variable”</p> <div class=codehilite><pre><span></span><code><span class=k>WITH</span> <span class=s1>&#39;2019-08-01 15:23:00&#39;</span> <span class=k>as</span> <span class=n>ts_upper_bound</span>
<span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=n>hits</span>
<span class=k>WHERE</span>
    <span class=n>EventDate</span> <span class=o>=</span> <span class=n>toDate</span><span class=p>(</span><span class=n>ts_upper_bound</span><span class=p>)</span> <span class=k>AND</span>
    <span class=n>EventTime</span> <span class=o>&lt;=</span> <span class=n>ts_upper_bound</span>
</code></pre></div> <p>Ejemplo 2: Evictar el resultado de la expresión de sum(bytes) de la lista de columnas de la cláusula SELECT</p> <div class=codehilite><pre><span></span><code><span class=k>WITH</span> <span class=k>sum</span><span class=p>(</span><span class=n>bytes</span><span class=p>)</span> <span class=k>as</span> <span class=n>s</span>
<span class=k>SELECT</span>
    <span class=n>formatReadableSize</span><span class=p>(</span><span class=n>s</span><span class=p>),</span>
    <span class=k>table</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>parts</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=k>table</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>s</span>
</code></pre></div> <p>Ejemplo 3: Uso de los resultados de la subconsulta escalar</p> <div class=codehilite><pre><span></span><code><span class=cm>/* this example would return TOP 10 of most huge tables */</span>
<span class=k>WITH</span>
    <span class=p>(</span>
        <span class=k>SELECT</span> <span class=k>sum</span><span class=p>(</span><span class=n>bytes</span><span class=p>)</span>
        <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>parts</span>
        <span class=k>WHERE</span> <span class=n>active</span>
    <span class=p>)</span> <span class=k>AS</span> <span class=n>total_disk_usage</span>
<span class=k>SELECT</span>
    <span class=p>(</span><span class=k>sum</span><span class=p>(</span><span class=n>bytes</span><span class=p>)</span> <span class=o>/</span> <span class=n>total_disk_usage</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span> <span class=k>AS</span> <span class=n>table_disk_usage</span><span class=p>,</span>
    <span class=k>table</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>parts</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=k>table</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>table_disk_usage</span> <span class=k>DESC</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <p>Ejemplo 4: Reutilización de la expresión en subconsulta<br> Como solución alternativa para la limitación actual para el uso de expresiones en subconsultas, puede duplicarla.</p> <div class=codehilite><pre><span></span><code><span class=k>WITH</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>]</span> <span class=k>AS</span> <span class=n>hello</span>
<span class=k>SELECT</span>
    <span class=n>hello</span><span class=p>,</span>
    <span class=o>*</span>
<span class=k>FROM</span>
<span class=p>(</span>
    <span class=k>WITH</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>]</span> <span class=k>AS</span> <span class=n>hello</span>
    <span class=k>SELECT</span> <span class=n>hello</span>
<span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─hello─────┬─hello─────┐
│ [&#39;hello&#39;] │ [&#39;hello&#39;] │
└───────────┴───────────┘
</code></pre></div> <h3 id=select-from>Cláusula FROM<a class=headerlink href=#select-from title="Permanent link">&para;</a></h3> <p>Si se omite la cláusula FROM, los datos se leerán desde el <code>system.one</code> tabla.<br> El <code>system.one</code> table contiene exactamente una fila (esta tabla cumple el mismo propósito que la tabla DUAL que se encuentra en otros DBMS).</p> <p>El <code>FROM</code> cláusula especifica la fuente de la que se leen los datos:</p> <ul> <li>Tabla</li> <li>Subconsultas</li> <li><a href=../../table_functions/ >Función de la tabla</a></li> </ul> <p><code>ARRAY JOIN</code> y el regular <code>JOIN</code> también se pueden incluir (ver más abajo).</p> <p>En lugar de una tabla, el <code>SELECT</code> subconsulta se puede especificar entre paréntesis.<br> A diferencia del SQL estándar, no es necesario especificar un sinónimo después de una subconsulta.</p> <p>Para ejecutar una consulta, todas las columnas enumeradas en la consulta se extraen de la tabla adecuada. Las columnas no necesarias para la consulta externa se eliminan de las subconsultas.<br> Si una consulta no muestra ninguna columnas (por ejemplo, <code>SELECT count() FROM t</code>), alguna columna se extrae de la tabla de todos modos (se prefiere la más pequeña), para calcular el número de filas.</p> <h4 id=select-from-final>Modificador FINAL<a class=headerlink href=#select-from-final title="Permanent link">&para;</a></h4> <p>Aplicable al seleccionar datos de tablas del <a href=../../../engines/table_engines/mergetree_family/mergetree/ >Método de codificación de datos:</a>-Familia de motores distintos de <code>GraphiteMergeTree</code>. Cuando <code>FINAL</code> se especifica, ClickHouse fusiona completamente los datos antes de devolver el resultado y, por lo tanto, realiza todas las transformaciones de datos que ocurren durante las fusiones para el motor de tabla dado.</p> <p>También soportado para:<br> - <a href=../../../engines/table_engines/mergetree_family/replication/ >Replicado</a> versiones de <code>MergeTree</code> motor.<br> - <a href=../../../engines/table_engines/special/view/ >Vista</a>, <a href=../../../engines/table_engines/special/buffer/ >Búfer</a>, <a href=../../../engines/table_engines/special/distributed/ >Distribuido</a>, y <a href=../../../engines/table_engines/special/materializedview/ >Método de codificación de datos:</a> motores que funcionan sobre otros motores, siempre que se hayan creado sobre <code>MergeTree</code>-mesas de motor.</p> <p>Consultas que usan <code>FINAL</code> se ejecutan no tan rápido como consultas similares que no lo hacen, porque:</p> <ul> <li>La consulta se ejecuta en un solo subproceso y los datos se combinan durante la ejecución de la consulta.</li> <li>Consultas con <code>FINAL</code> leer columnas de clave primaria además de las columnas especificadas en la consulta.</li> </ul> <p>En la mayoría de los casos, evite usar <code>FINAL</code>.</p> <h3 id=select-sample-clause>Cláusula SAMPLE<a class=headerlink href=#select-sample-clause title="Permanent link">&para;</a></h3> <p>El <code>SAMPLE</code> cláusula permite un procesamiento de consultas aproximado.</p> <p>Cuando se habilita el muestreo de datos, la consulta no se realiza en todos los datos, sino solo en una cierta fracción de datos (muestra). Por ejemplo, si necesita calcular estadísticas para todas las visitas, es suficiente ejecutar la consulta en la fracción 1/10 de todas las visitas y luego multiplicar el resultado por 10.</p> <p>El procesamiento de consultas aproximado puede ser útil en los siguientes casos:</p> <ul> <li>Cuando tiene requisitos de temporización estrictos (como \&lt;100 ms) pero no puede justificar el costo de recursos de hardware adicionales para cumplirlos.</li> <li>Cuando sus datos sin procesar no son precisos, la aproximación no degrada notablemente la calidad.</li> <li>Los requisitos comerciales se centran en los resultados aproximados (por rentabilidad o para comercializar los resultados exactos a los usuarios premium).</li> </ul> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Sólo puede utilizar el muestreo con las tablas en el <a href=../../../engines/table_engines/mergetree_family/mergetree/ >Método de codificación de datos:</a> familia, y sólo si la expresión de muestreo se especificó durante la creación de la tabla (ver <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-creating-a-table>Motor MergeTree</a>).</p> </div> <p>Las características del muestreo de datos se enumeran a continuación:</p> <ul> <li>El muestreo de datos es un mecanismo determinista. El resultado de la misma <code>SELECT .. SAMPLE</code> la consulta es siempre la misma.</li> <li>El muestreo funciona consistentemente para diferentes tablas. Para tablas con una sola clave de muestreo, una muestra con el mismo coeficiente siempre selecciona el mismo subconjunto de datos posibles. Por ejemplo, una muestra de ID de usuario toma filas con el mismo subconjunto de todos los ID de usuario posibles de diferentes tablas. Esto significa que puede utilizar el ejemplo en subconsultas <a href=#select-in-operators>IN</a> clausula. Además, puede unir muestras usando el <a href=#select-join>JOIN</a> clausula.</li> <li>El muestreo permite leer menos datos de un disco. Tenga en cuenta que debe especificar la clave de muestreo correctamente. Para obtener más información, consulte <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-creating-a-table>Creación de una tabla MergeTree</a>.</li> </ul> <p>Para el <code>SAMPLE</code> cláusula se admite la siguiente sintaxis:</p> <table> <thead> <tr> <th>SAMPLE Clause Syntax</th> <th>Descripci</th> </tr> </thead> <tbody> <tr> <td><code>SAMPLE k</code></td> <td>Aqui <code>k</code> es el número de 0 a 1.La consulta se ejecuta en <code>k</code> de datos. Por ejemplo, <code>SAMPLE 0.1</code> ejecuta la consulta en el 10% de los datos. <a href=#select-sample-k>Leer más</a></td> </tr> <tr> <td><code>SAMPLE n</code></td> <td>Aqui <code>n</code> es un entero suficientemente grande.La consulta se ejecuta en una muestra de al menos <code>n</code> filas (pero no significativamente más que esto). Por ejemplo, <code>SAMPLE 10000000</code> ejecuta la consulta en un mínimo de 10.000.000 de filas. <a href=#select-sample-n>Leer más</a></td> </tr> <tr> <td><code>SAMPLE k OFFSET m</code></td> <td>Aqui <code>k</code> y <code>m</code> son los números del 0 al 1.La consulta se ejecuta en una muestra de <code>k</code> de los datos. Los datos utilizados para el ejemplo se compensan por <code>m</code> fracción. <a href=#select-sample-offset>Leer más</a></td> </tr> </tbody> </table> <h4 id=select-sample-k>SAMPLE K<a class=headerlink href=#select-sample-k title="Permanent link">&para;</a></h4> <p>Aqui <code>k</code> es el número de 0 a 1 (se admiten notaciones fraccionarias y decimales). Por ejemplo, <code>SAMPLE 1/2</code> o <code>SAMPLE 0.5</code>.</p> <p>En un <code>SAMPLE k</code> cláusula, la muestra se toma de la <code>k</code> de datos. El ejemplo se muestra a continuación:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span>
    <span class=n>Title</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=o>*</span> <span class=mi>10</span> <span class=k>AS</span> <span class=n>PageViews</span>
<span class=k>FROM</span> <span class=n>hits_distributed</span>
<span class=n>SAMPLE</span> <span class=mi>0</span><span class=p>.</span><span class=mi>1</span>
<span class=k>WHERE</span>
    <span class=n>CounterID</span> <span class=o>=</span> <span class=mi>34</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>Title</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>PageViews</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>1000</span>
</code></pre></div> <p>En este ejemplo, la consulta se ejecuta en una muestra de 0,1 (10%) de datos. Los valores de las funciones agregadas no se corrigen automáticamente, por lo que para obtener un resultado aproximado, el valor <code>count()</code> se multiplica manualmente por 10.</p> <h4 id=select-sample-n>SAMPLE N<a class=headerlink href=#select-sample-n title="Permanent link">&para;</a></h4> <p>Aqui <code>n</code> es un entero suficientemente grande. Por ejemplo, <code>SAMPLE 10000000</code>.</p> <p>En este caso, la consulta se ejecuta en una muestra de al menos <code>n</code> filas (pero no significativamente más que esto). Por ejemplo, <code>SAMPLE 10000000</code> ejecuta la consulta en un mínimo de 10.000.000 de filas.</p> <p>Dado que la unidad mínima para la lectura de datos es un gránulo (su tamaño se establece mediante el <code>index_granularity</code> ajuste), tiene sentido establecer una muestra que es mucho más grande que el tamaño del gránulo.</p> <p>Cuando se utiliza el <code>SAMPLE n</code> cláusula, no sabe qué porcentaje relativo de datos se procesó. Por lo tanto, no sabe el coeficiente por el que se deben multiplicar las funciones agregadas. Utilice el <code>_sample_factor</code> columna virtual para obtener el resultado aproximado.</p> <p>El <code>_sample_factor</code> columna contiene coeficientes relativos que se calculan dinámicamente. Esta columna se crea automáticamente cuando <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-creating-a-table>crear</a> una tabla con la clave de muestreo especificada. Los ejemplos de uso del <code>_sample_factor</code> columna se muestran a continuación.</p> <p>Consideremos la tabla <code>visits</code>, que contiene las estadísticas sobre las visitas al sitio. El primer ejemplo muestra cómo calcular el número de páginas vistas:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>sum</span><span class=p>(</span><span class=n>PageViews</span> <span class=o>*</span> <span class=n>_sample_factor</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>visits</span>
<span class=n>SAMPLE</span> <span class=mi>10000000</span>
</code></pre></div> <p>El siguiente ejemplo muestra cómo calcular el número total de visitas:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>sum</span><span class=p>(</span><span class=n>_sample_factor</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>visits</span>
<span class=n>SAMPLE</span> <span class=mi>10000000</span>
</code></pre></div> <p>El siguiente ejemplo muestra cómo calcular la duración media de la sesión. Tenga en cuenta que no necesita usar el coeficiente relativo para calcular los valores promedio.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>avg</span><span class=p>(</span><span class=n>Duration</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>visits</span>
<span class=n>SAMPLE</span> <span class=mi>10000000</span>
</code></pre></div> <h4 id=select-sample-offset>SAMPLE K OFFSET M<a class=headerlink href=#select-sample-offset title="Permanent link">&para;</a></h4> <p>Aqui <code>k</code> y <code>m</code> son números del 0 al 1. Los ejemplos se muestran a continuación.</p> <p><strong>Ejemplo 1</strong></p> <div class=codehilite><pre><span></span><code><span class=n>SAMPLE</span> <span class=mi>1</span><span class=o>/</span><span class=mi>10</span>
</code></pre></div> <p>En este ejemplo, la muestra es 1/10 de todos los datos:</p> <p><code>[++------------]</code></p> <p><strong>Ejemplo 2</strong></p> <div class=codehilite><pre><span></span><code><span class=n>SAMPLE</span> <span class=mi>1</span><span class=o>/</span><span class=mi>10</span> <span class=k>OFFSET</span> <span class=mi>1</span><span class=o>/</span><span class=mi>2</span>
</code></pre></div> <p>Aquí, se toma una muestra del 10% de la segunda mitad de los datos.</p> <p><code>[------++------]</code></p> <h3 id=select-array-join-clause>ARRAY JOIN Cláusula<a class=headerlink href=#select-array-join-clause title="Permanent link">&para;</a></h3> <p>Permite ejecutar <code>JOIN</code> con una matriz o estructura de datos anidada. La intención es similar a la <a href=../../functions/array_join/#functions_arrayjoin>arrayJoin</a> función, pero su funcionalidad es más amplia.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>&lt;</span><span class=n>expr_list</span><span class=o>&gt;</span>
<span class=k>FROM</span> <span class=o>&lt;</span><span class=n>left_subquery</span><span class=o>&gt;</span>
<span class=p>[</span><span class=k>LEFT</span><span class=p>]</span> <span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=o>&lt;</span><span class=nb>array</span><span class=o>&gt;</span>
<span class=p>[</span><span class=k>WHERE</span><span class=o>|</span><span class=n>PREWHERE</span> <span class=o>&lt;</span><span class=n>expr</span><span class=o>&gt;</span><span class=p>]</span>
<span class=p>...</span>
</code></pre></div> <p>Sólo puede especificar una sola <code>ARRAY JOIN</code> cláusula en una consulta.</p> <p>El orden de ejecución de la consulta se optimiza cuando se ejecuta <code>ARRAY JOIN</code>. Aunque <code>ARRAY JOIN</code> debe especificarse siempre antes de la <code>WHERE/PREWHERE</code> cláusula, se puede realizar ya sea antes <code>WHERE/PREWHERE</code> (si el resultado es necesario en esta cláusula), o después de completarlo (para reducir el volumen de cálculos). El optimizador de consultas controla el orden de procesamiento.</p> <p>Tipos admitidos de <code>ARRAY JOIN</code> se enumeran a continuación:</p> <ul> <li><code>ARRAY JOIN</code> - En este caso, las matrices vacías no se incluyen en el resultado de <code>JOIN</code>.</li> <li><code>LEFT ARRAY JOIN</code> - El resultado de <code>JOIN</code> contiene filas con matrices vacías. El valor de una matriz vacía se establece en el valor predeterminado para el tipo de elemento de matriz (normalmente 0, cadena vacía o NULL).</li> </ul> <p>Los siguientes ejemplos demuestran el uso de la <code>ARRAY JOIN</code> y <code>LEFT ARRAY JOIN</code> clausula. Vamos a crear una tabla con un <a href=../../data_types/array/ >Matriz</a> escriba la columna e inserte valores en ella:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>arrays_test</span>
<span class=p>(</span>
    <span class=n>s</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>arr</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>)</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>arrays_test</span>
<span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;World&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;Goodbye&#39;</span><span class=p>,</span> <span class=p>[]);</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────────┬─arr─────┐
│ Hello       │ [1,2]   │
│ World       │ [3,4,5] │
│ Goodbye     │ []      │
└─────────────┴─────────┘
</code></pre></div> <p>El siguiente ejemplo utiliza el <code>ARRAY JOIN</code> clausula:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─┐
│ Hello │   1 │
│ Hello │   2 │
│ World │   3 │
│ World │   4 │
│ World │   5 │
└───────┴─────┘
</code></pre></div> <p>El siguiente ejemplo utiliza el <code>LEFT ARRAY JOIN</code> clausula:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=k>LEFT</span> <span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────────┬─arr─┐
│ Hello       │   1 │
│ Hello       │   2 │
│ World       │   3 │
│ World       │   4 │
│ World       │   5 │
│ Goodbye     │   0 │
└─────────────┴─────┘
</code></pre></div> <h4 id=using-aliases>Uso de alias<a class=headerlink href=#using-aliases title="Permanent link">&para;</a></h4> <p>Se puede especificar un alias para una matriz en el <code>ARRAY JOIN</code> clausula. En este caso, este alias puede acceder a un elemento de matriz, pero el nombre original tiene acceso a la matriz en sí. Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>a</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span> <span class=k>AS</span> <span class=n>a</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─────┬─a─┐
│ Hello │ [1,2]   │ 1 │
│ Hello │ [1,2]   │ 2 │
│ World │ [3,4,5] │ 3 │
│ World │ [3,4,5] │ 4 │
│ World │ [3,4,5] │ 5 │
└───────┴─────────┴───┘
</code></pre></div> <p>Usando alias, puede realizar <code>ARRAY JOIN</code> con una matriz externa. Por ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr_external</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span> <span class=k>AS</span> <span class=n>arr_external</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────────┬─arr_external─┐
│ Hello       │            1 │
│ Hello       │            2 │
│ Hello       │            3 │
│ World       │            1 │
│ World       │            2 │
│ World       │            3 │
│ Goodbye     │            1 │
│ Goodbye     │            2 │
│ Goodbye     │            3 │
└─────────────┴──────────────┘
</code></pre></div> <p>Múltiples matrices se pueden separar por comas en el <code>ARRAY JOIN</code> clausula. En este caso, <code>JOIN</code> se realiza con ellos simultáneamente (la suma directa, no el producto cartesiano). Tenga en cuenta que todas las matrices deben tener el mismo tamaño. Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>num</span><span class=p>,</span> <span class=n>mapped</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span><span class=p>,</span> <span class=n>arrayMap</span><span class=p>(</span><span class=n>x</span> <span class=o>-&gt;</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>arr</span><span class=p>)</span> <span class=k>AS</span> <span class=n>mapped</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─────┬─a─┬─num─┬─mapped─┐
│ Hello │ [1,2]   │ 1 │   1 │      2 │
│ Hello │ [1,2]   │ 2 │   2 │      3 │
│ World │ [3,4,5] │ 3 │   1 │      4 │
│ World │ [3,4,5] │ 4 │   2 │      5 │
│ World │ [3,4,5] │ 5 │   3 │      6 │
└───────┴─────────┴───┴─────┴────────┘
</code></pre></div> <p>El siguiente ejemplo utiliza el <a href=../../functions/array_functions/#array_functions-arrayenumerate>arrayEnumerate</a> función:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>num</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─────┬─a─┬─num─┬─arrayEnumerate(arr)─┐
│ Hello │ [1,2]   │ 1 │   1 │ [1,2]               │
│ Hello │ [1,2]   │ 2 │   2 │ [1,2]               │
│ World │ [3,4,5] │ 3 │   1 │ [1,2,3]             │
│ World │ [3,4,5] │ 4 │   2 │ [1,2,3]             │
│ World │ [3,4,5] │ 5 │   3 │ [1,2,3]             │
└───────┴─────────┴───┴─────┴─────────────────────┘
</code></pre></div> <h4 id=array-join-with-nested-data-structure>ARRAY JOIN con estructura de datos anidada<a class=headerlink href=#array-join-with-nested-data-structure title="Permanent link">&para;</a></h4> <p><code>ARRAY</code>JOIN`` también funciona con <a href=../../data_types/nested_data_structures/nested/ >estructuras de datos anidados</a>. Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>nested_test</span>
<span class=p>(</span>
    <span class=n>s</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>nest</span> <span class=n>Nested</span><span class=p>(</span>
    <span class=n>x</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=n>y</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>nested_test</span>
<span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span><span class=mi>20</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;World&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>30</span><span class=p>,</span><span class=mi>40</span><span class=p>,</span><span class=mi>50</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;Goodbye&#39;</span><span class=p>,</span> <span class=p>[],</span> <span class=p>[]);</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────┬─nest.x──┬─nest.y─────┐
│ Hello   │ [1,2]   │ [10,20]    │
│ World   │ [3,4,5] │ [30,40,50] │
│ Goodbye │ []      │ []         │
└─────────┴─────────┴────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>nest</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─nest.x─┬─nest.y─┐
│ Hello │      1 │     10 │
│ Hello │      2 │     20 │
│ World │      3 │     30 │
│ World │      4 │     40 │
│ World │      5 │     50 │
└───────┴────────┴────────┘
</code></pre></div> <p>Al especificar nombres de estructuras de datos anidadas en <code>ARRAY JOIN</code> el significado es el mismo <code>ARRAY JOIN</code> con todos los elementos de la matriz en los que consiste. Los ejemplos se enumeran a continuación:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─nest.x─┬─nest.y─┐
│ Hello │      1 │     10 │
│ Hello │      2 │     20 │
│ World │      3 │     30 │
│ World │      4 │     40 │
│ World │      5 │     50 │
└───────┴────────┴────────┘
</code></pre></div> <p>Esta variación también tiene sentido:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─nest.x─┬─nest.y─────┐
│ Hello │      1 │ [10,20]    │
│ Hello │      2 │ [10,20]    │
│ World │      3 │ [30,40,50] │
│ World │      4 │ [30,40,50] │
│ World │      5 │ [30,40,50] │
└───────┴────────┴────────────┘
</code></pre></div> <p>Se puede usar un alias para una estructura de datos anidada, con el fin de seleccionar <code>JOIN</code> resultado o la matriz de origen. Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>nest</span> <span class=k>AS</span> <span class=n>n</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─n.x─┬─n.y─┬─nest.x──┬─nest.y─────┐
│ Hello │   1 │  10 │ [1,2]   │ [10,20]    │
│ Hello │   2 │  20 │ [1,2]   │ [10,20]    │
│ World │   3 │  30 │ [3,4,5] │ [30,40,50] │
│ World │   4 │  40 │ [3,4,5] │ [30,40,50] │
│ World │   5 │  50 │ [3,4,5] │ [30,40,50] │
└───────┴─────┴─────┴─────────┴────────────┘
</code></pre></div> <p>Ejemplo de uso del <a href=../../functions/array_functions/#array_functions-arrayenumerate>arrayEnumerate</a> función:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>,</span> <span class=n>num</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>nest</span> <span class=k>AS</span> <span class=n>n</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─n.x─┬─n.y─┬─nest.x──┬─nest.y─────┬─num─┐
│ Hello │   1 │  10 │ [1,2]   │ [10,20]    │   1 │
│ Hello │   2 │  20 │ [1,2]   │ [10,20]    │   2 │
│ World │   3 │  30 │ [3,4,5] │ [30,40,50] │   1 │
│ World │   4 │  40 │ [3,4,5] │ [30,40,50] │   2 │
│ World │   5 │  50 │ [3,4,5] │ [30,40,50] │   3 │
└───────┴─────┴─────┴─────────┴────────────┴─────┘
</code></pre></div> <h3 id=select-join>Cláusula JOIN<a class=headerlink href=#select-join title="Permanent link">&para;</a></h3> <p>Se une a los datos en el <a href=https://en.wikipedia.org/wiki/Join_(SQL) rel="external nofollow noreferrer">SQL JOIN</a> sentido.</p> <div class="admonition info"> <p class=admonition-title>Nota</p> <p>No relacionado con <a href=#select-array-join-clause>ARRAY JOIN</a>.</p> </div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>&lt;</span><span class=n>expr_list</span><span class=o>&gt;</span>
<span class=k>FROM</span> <span class=o>&lt;</span><span class=n>left_subquery</span><span class=o>&gt;</span>
<span class=p>[</span><span class=k>GLOBAL</span><span class=p>]</span> <span class=p>[</span><span class=k>ANY</span><span class=o>|</span><span class=k>ALL</span><span class=p>]</span> <span class=p>[</span><span class=k>INNER</span><span class=o>|</span><span class=k>LEFT</span><span class=o>|</span><span class=k>RIGHT</span><span class=o>|</span><span class=k>FULL</span><span class=o>|</span><span class=k>CROSS</span><span class=p>]</span> <span class=p>[</span><span class=k>OUTER</span><span class=p>]</span> <span class=k>JOIN</span> <span class=o>&lt;</span><span class=n>right_subquery</span><span class=o>&gt;</span>
<span class=p>(</span><span class=k>ON</span> <span class=o>&lt;</span><span class=n>expr_list</span><span class=o>&gt;</span><span class=p>)</span><span class=o>|</span><span class=p>(</span><span class=k>USING</span> <span class=o>&lt;</span><span class=n>column_list</span><span class=o>&gt;</span><span class=p>)</span> <span class=p>...</span>
</code></pre></div> <p>Los nombres de tabla se pueden especificar en lugar de <code>&lt;left_subquery&gt;</code> y <code>&lt;right_subquery&gt;</code>. Esto es equivalente a la <code>SELECT * FROM table</code> subconsulta, excepto en un caso especial cuando la tabla tiene <a href=../../../engines/table_engines/special/join/ >Unir</a> engine – an array prepared for joining.</p> <h4 id=select-join-types>Tipos compatibles de <code>JOIN</code><a class=headerlink href=#select-join-types title="Permanent link">&para;</a></h4> <ul> <li><code>INNER JOIN</code> (o <code>JOIN</code>)</li> <li><code>LEFT JOIN</code> (o <code>LEFT OUTER JOIN</code>)</li> <li><code>RIGHT JOIN</code> (o <code>RIGHT OUTER JOIN</code>)</li> <li><code>FULL JOIN</code> (o <code>FULL OUTER JOIN</code>)</li> <li><code>CROSS JOIN</code> (o <code>,</code> )</li> </ul> <p>Ver el estándar <a href=https://en.wikipedia.org/wiki/Join_(SQL) rel="external nofollow noreferrer">SQL JOIN</a> descripci.</p> <h4 id=multiple-join>ÚNETE Múltiple<a class=headerlink href=#multiple-join title="Permanent link">&para;</a></h4> <p>Al realizar consultas, ClickHouse reescribe las uniones de varias tablas en la secuencia de uniones de dos tablas. Por ejemplo, si hay cuatro tablas para unir ClickHouse une la primera y la segunda, luego une el resultado con la tercera tabla, y en el último paso, se une a la cuarta.</p> <p>Si una consulta contiene el <code>WHERE</code> cláusula, ClickHouse intenta empujar hacia abajo los filtros de esta cláusula a través de la unión intermedia. Si no puede aplicar el filtro a cada unión intermedia, ClickHouse aplica los filtros después de que se completen todas las combinaciones.</p> <p>Recomendamos el <code>JOIN ON</code> o <code>JOIN USING</code> sintaxis para crear consultas. Por ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t1</span> <span class=k>JOIN</span> <span class=n>t2</span> <span class=k>ON</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t2</span><span class=p>.</span><span class=n>a</span> <span class=k>JOIN</span> <span class=n>t3</span> <span class=k>ON</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t3</span><span class=p>.</span><span class=n>a</span>
</code></pre></div> <p>Puede utilizar listas de tablas separadas por comas <code>FROM</code> clausula. Por ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t1</span><span class=p>,</span> <span class=n>t2</span><span class=p>,</span> <span class=n>t3</span> <span class=k>WHERE</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t2</span><span class=p>.</span><span class=n>a</span> <span class=k>AND</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t3</span><span class=p>.</span><span class=n>a</span>
</code></pre></div> <p>No mezcle estas sintaxis.</p> <p>ClickHouse no admite directamente la sintaxis con comas, por lo que no recomendamos usarlas. El algoritmo intenta reescribir la consulta en términos de <code>CROSS JOIN</code> y <code>INNER JOIN</code> y luego procede al procesamiento de consultas. Al reescribir la consulta, ClickHouse intenta optimizar el rendimiento y el consumo de memoria. De forma predeterminada, ClickHouse trata las comas como <code>INNER JOIN</code> cláusula y convierte <code>INNER JOIN</code> a <code>CROSS JOIN</code> cuando el algoritmo no puede garantizar que <code>INNER JOIN</code> devuelve los datos requeridos.</p> <h4 id=select-join-strictness>Rigor<a class=headerlink href=#select-join-strictness title="Permanent link">&para;</a></h4> <ul> <li><code>ALL</code> — If the right table has several matching rows, ClickHouse creates a <a href=https://en.wikipedia.org/wiki/Cartesian_product rel="external nofollow noreferrer">Producto cartesiano</a> de filas coincidentes. Este es el estándar <code>JOIN</code> comportamiento en SQL.</li> <li><code>ANY</code> — If the right table has several matching rows, only the first one found is joined. If the right table has only one matching row, the results of queries with <code>ANY</code> y <code>ALL</code> palabras clave son las mismas.</li> <li><code>ASOF</code> — For joining sequences with a non-exact match. <code>ASOF JOIN</code> el uso se describe a continuación.</li> </ul> <p><strong>ASOF JOIN Uso</strong></p> <p><code>ASOF JOIN</code> es útil cuando necesita unir registros que no tienen una coincidencia exacta.</p> <p>Tablas para <code>ASOF JOIN</code> debe tener una columna de secuencia ordenada. Esta columna no puede estar sola en una tabla y debe ser uno de los tipos de datos: <code>UInt32</code>, <code>UInt64</code>, <code>Float32</code>, <code>Float64</code>, <code>Date</code>, y <code>DateTime</code>.</p> <p>Sintaxis <code>ASOF JOIN ... ON</code>:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>expressions_list</span>
<span class=k>FROM</span> <span class=n>table_1</span>
<span class=n>ASOF</span> <span class=k>LEFT</span> <span class=k>JOIN</span> <span class=n>table_2</span>
<span class=k>ON</span> <span class=n>equi_cond</span> <span class=k>AND</span> <span class=n>closest_match_cond</span>
</code></pre></div> <p>Puede usar cualquier número de condiciones de igualdad y exactamente una condición de coincidencia más cercana. Por ejemplo, <code>SELECT count() FROM table_1 ASOF LEFT JOIN table_2 ON table_1.a == table_2.b AND table_2.t &lt;= table_1.t</code>.</p> <p>Condiciones admitidas para la coincidencia más cercana: <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>.</p> <p>Sintaxis <code>ASOF JOIN ... USING</code>:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>expressions_list</span>
<span class=k>FROM</span> <span class=n>table_1</span>
<span class=n>ASOF</span> <span class=k>JOIN</span> <span class=n>table_2</span>
<span class=k>USING</span> <span class=p>(</span><span class=n>equi_column1</span><span class=p>,</span> <span class=p>...</span> <span class=n>equi_columnN</span><span class=p>,</span> <span class=n>asof_column</span><span class=p>)</span>
</code></pre></div> <p><code>ASOF JOIN</code> utilizar <code>equi_columnX</code> para unirse a la igualdad y <code>asof_column</code> para unirse en el partido más cercano con el <code>table_1.asof_column &gt;= table_2.asof_column</code> condición. El <code>asof_column</code> columna siempre el último en el <code>USING</code> clausula.</p> <p>Por ejemplo, considere las siguientes tablas:</p> <p>``` texto<br> table_1 table_2</p> <p>evento | ev_time | user_id evento | ev_time | user_id</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Construido a partir de <a href=https://github.com/ClickHouse/ClickHouse/commit/d6653f1fdcabbf1f588ee132a5044c31df63261a rel="external nofollow noreferrer" target=_blank class=text-reset>d6653f1fdc</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Tabla de contenido</label> <a href=#with-clause title="CON Cláusula" class="nav-link text-wrap d-inline-block w-100"> CON Cláusula </a> <a href=#select-from title="Cláusula FROM" class="nav-link text-wrap d-inline-block w-100"> Cláusula FROM </a> <nav id=toc-toc-2 class="nav flex-column pl-2"> <a href=#select-from-final title="Modificador FINAL" class="nav-link text-wrap d-inline-block w-100"> Modificador FINAL </a> </nav> <a href=#select-sample-clause title="Cláusula SAMPLE" class="nav-link text-wrap d-inline-block w-100"> Cláusula SAMPLE </a> <nav id=toc-toc-3 class="nav flex-column pl-2"> <a href=#select-sample-k title="SAMPLE K" class="nav-link text-wrap d-inline-block w-100"> SAMPLE K </a> <a href=#select-sample-n title="SAMPLE N" class="nav-link text-wrap d-inline-block w-100"> SAMPLE N </a> <a href=#select-sample-offset title="SAMPLE K OFFSET M" class="nav-link text-wrap d-inline-block w-100"> SAMPLE K OFFSET M </a> </nav> <a href=#select-array-join-clause title="ARRAY JOIN Cláusula" class="nav-link text-wrap d-inline-block w-100"> ARRAY JOIN Cláusula </a> <nav id=toc-toc-4 class="nav flex-column pl-2"> <a href=#using-aliases title="Uso de alias" class="nav-link text-wrap d-inline-block w-100"> Uso de alias </a> <a href=#array-join-with-nested-data-structure title="ARRAY JOIN con estructura de datos anidada" class="nav-link text-wrap d-inline-block w-100"> ARRAY JOIN con estructura de datos anidada </a> </nav> <a href=#select-join title="Cláusula JOIN" class="nav-link text-wrap d-inline-block w-100"> Cláusula JOIN </a> <nav id=toc-toc-5 class="nav flex-column pl-2"> <a href=#select-join-types title="Tipos compatibles de JOIN" class="nav-link text-wrap d-inline-block w-100"> Tipos compatibles de JOIN </a> <a href=#multiple-join title="ÚNETE Múltiple" class="nav-link text-wrap d-inline-block w-100"> ÚNETE Múltiple </a> <a href=#select-join-strictness title=Rigor class="nav-link text-wrap d-inline-block w-100"> Rigor </a> </nav> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>