<!DOCTYPE html><html lang=es data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Referencia - Documentación de ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="Referencia - Documentación de ClickHouse "><meta property=og:description content="Referencia de la función contar Cuenta el número de filas o valores no NULL. ClickHouse admite las siguientes sintaxis p"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="Referencia - Documentación de ClickHouse "><meta name=description content="Referencia de la función contar Cuenta el número de filas o valores no NULL. ClickHouse admite las siguientes sintaxis p"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> Referencia </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql_reference/aggregate_functions/reference.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/es.svg alt=Español title=Español width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql_reference/aggregate_functions/reference/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql_reference/aggregate_functions/reference/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/sql_reference/aggregate_functions/reference/ class="dropdown-item disabled"> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/sql_reference/aggregate_functions/reference/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/sql_reference/aggregate_functions/reference/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql_reference/aggregate_functions/reference/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/sql_reference/aggregate_functions/reference/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-página o de una sola página"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Versión de varias páginas" title="Versión de varias páginas"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Versión de una sola página" title="Versión de una sola página"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Versión: <span class=text-light>reciente</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/es/ class="dropdown-item disable"> <span class=text-light>reciente</span> </a> <a href=/docs/v20.3/es/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/es/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/es/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/es/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/es/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/es/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/es/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/es/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/es/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/es/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/es/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../introduction/distinctive_features/ title="Características distintivas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Características distintivas</a> <a href=../../../introduction/features_considered_disadvantages/ title="Características de ClickHouse que pueden considerarse desventajas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Características de ClickHouse que pueden considerarse desventajas</a> <a href=../../../introduction/performance/ title=Rendimiento class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rendimiento</a> <a href=../../../introduction/history/ title=Historia class="nav-link text-light text-wrap d-inline-block w-100 px-0">Historia</a> <a href=../../../introduction/adopters/ title=Adoptante class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adoptante</a> </nav> </div> <a href=../../../ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../getting_started/install/ title=Instalación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Instalación</a> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../getting_started/example_datasets/ontime/ title="A tiempo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">A tiempo</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="Datos de taxis de Nueva York" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos de taxis de Nueva York</a> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="Referencia de Big Data de AMPLab" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Referencia de Big Data de AMPLab</a> <a href=../../../getting_started/example_datasets/wikistat/ title="Nombre de la red inalámbrica (SSID):" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nombre de la red inalámbrica (SSID):</a> <a href=../../../getting_started/example_datasets/criteo/ title="Registros de clics de Terabyte de Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registros de clics de Terabyte de Criteo</a> <a href=../../../getting_started/example_datasets/star_schema/ title="Estrella Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Estrella Schema Benchmark</a> <a href=../../../getting_started/example_datasets/metrica/ title="El Yandex.Metrica Datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">El Yandex.Metrica Datos</a> </nav> </div> <a href=../../../getting_started/tutorial/ title=Tutorial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a> <a href=../../../getting_started/playground/ title=Infantil class="nav-link text-light text-wrap d-inline-block w-100 px-0">Infantil</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../interfaces/cli/ title="Cliente de línea de comandos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cliente de línea de comandos</a> <a href=../../../interfaces/tcp/ title="Interfaz nativa (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz nativa (TCP)</a> <a href=../../../interfaces/http/ title="Interfaz HTTP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz HTTP</a> <a href=../../../interfaces/mysql/ title="Interfaz MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaz MySQL</a> <a href=../../../interfaces/formats/ title="Formatos de entrada y salida" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Formatos de entrada y salida</a> <a href=../../../interfaces/jdbc/ title="Controlador JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Controlador JDBC</a> <a href=../../../interfaces/odbc/ title="Conductor ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conductor ODBC</a> <a href=../../../interfaces/cpp/ title="Biblioteca de clientes de C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Biblioteca de clientes de C++</a> <a href=#sidebar-sidebar-4-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-10 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-4-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../../interfaces/third-party/client_libraries/ title="Bibliotecas de clientes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliotecas de clientes</a> <a href=../../../interfaces/third-party/integrations/ title=Integración class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integración</a> <a href=../../../interfaces/third-party/gui/ title="Interfaces Visuales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interfaces Visuales</a> <a href=../../../interfaces/third-party/proxy/ title=Proxy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxy</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../../engines/table_engines/mergetree_family/mergetree/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../engines/table_engines/mergetree_family/replication/ title="Replicación de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Replicación de datos</a> <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ title="Clave de partición personalizada" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave de partición personalizada</a> <a href=../../../engines/table_engines/mergetree_family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AgregaciónMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AgregaciónMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/collapsingmergetree/ title=ColapsarMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ColapsarMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-5-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-5-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../../engines/table_engines/log_family/log_family/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table_engines/log_family/log/ title=Registro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Registro</a> <a href=../../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-5-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../../engines/table_engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-5-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../../engines/table_engines/special/distributed/ title=Distribuido class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distribuido</a> <a href=../../../engines/table_engines/special/external_data/ title="Datos externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Datos externos</a> <a href=../../../engines/table_engines/special/dictionary/ title=Diccionario class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionario</a> <a href=../../../engines/table_engines/special/merge/ title=Fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fusionar</a> <a href=../../../engines/table_engines/special/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../../engines/table_engines/special/null/ title=Nulo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nulo</a> <a href=../../../engines/table_engines/special/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../../engines/table_engines/special/join/ title=Unir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Unir</a> <a href=../../../engines/table_engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table_engines/special/view/ title=Vista class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vista</a> <a href=../../../engines/table_engines/special/materializedview/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../engines/table_engines/special/memory/ title=Memoria class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memoria</a> <a href=../../../engines/table_engines/special/buffer/ title=Búfer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Búfer</a> <a href=../../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database_engines/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database_engines/lazy/ title=Perezoso class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perezoso</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/syntax/ title=Sintaxis class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sintaxis</a> <a href=#sidebar-sidebar-6-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-3 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-6-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../../sql_reference/statements/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../../sql_reference/statements/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../sql_reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql_reference/statements/misc/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/functions/arithmetic_functions/ title=Aritmética class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aritmética</a> <a href=../../../sql_reference/functions/comparison_functions/ title=Comparación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparación</a> <a href=../../../sql_reference/functions/logical_functions/ title=Lógico class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lógico</a> <a href=../../../sql_reference/functions/type_conversion_functions/ title="Conversión de tipo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conversión de tipo</a> <a href=../../../sql_reference/functions/date_time_functions/ title="Trabajar con fechas y horas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con fechas y horas</a> <a href=../../../sql_reference/functions/string_functions/ title="Trabajar con cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con cadenas</a> <a href=../../../sql_reference/functions/string_search_functions/ title="Para buscar cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para buscar cadenas</a> <a href=../../../sql_reference/functions/string_replace_functions/ title="Para reemplazar en cadenas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Para reemplazar en cadenas</a> <a href=../../../sql_reference/functions/conditional_functions/ title=Condicional class="nav-link text-light text-wrap d-inline-block w-100 px-0">Condicional</a> <a href=../../../sql_reference/functions/math_functions/ title=Matemática class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matemática</a> <a href=../../../sql_reference/functions/rounding_functions/ title=Redondeo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Redondeo</a> <a href=../../../sql_reference/functions/array_functions/ title="Trabajar con matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con matrices</a> <a href=../../../sql_reference/functions/splitting_merging_functions/ title="División y fusión de cuerdas y matrices" class="nav-link text-light text-wrap d-inline-block w-100 px-0">División y fusión de cuerdas y matrices</a> <a href=../../../sql_reference/functions/bit_functions/ title=Trozo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trozo</a> <a href=../../../sql_reference/functions/bitmap_functions/ title=Bits class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bits</a> <a href=../../../sql_reference/functions/hash_functions/ title=Hash class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a> <a href=../../../sql_reference/functions/random_functions/ title="Generación de números pseudo-aleatorios" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de números pseudo-aleatorios</a> <a href=../../../sql_reference/functions/encoding_functions/ title=Codificación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Codificación</a> <a href=../../../sql_reference/functions/uuid_functions/ title="Trabajando con UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con UUID</a> <a href=../../../sql_reference/functions/url_functions/ title="Trabajar con URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con URL</a> <a href=../../../sql_reference/functions/ip_address_functions/ title="Trabajar con direcciones IP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con direcciones IP</a> <a href=../../../sql_reference/functions/json_functions/ title="Trabajando con JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con JSON</a> <a href=../../../sql_reference/functions/higher_order_functions/ title="Orden superior" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Orden superior</a> <a href=../../../sql_reference/functions/ext_dict_functions/ title="Trabajar con diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con diccionarios externos</a> <a href=../../../sql_reference/functions/ym_dict_functions/ title="Trabajando con Yandex.Diccionarios de Metrica" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajando con Yandex.Diccionarios de Metrica</a> <a href=../../../sql_reference/functions/in_functions/ title="Implementación del operador IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implementación del operador IN</a> <a href=../../../sql_reference/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../../sql_reference/functions/geo/ title="Trabajar con coordenadas geográficas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con coordenadas geográficas</a> <a href=../../../sql_reference/functions/functions_for_nulls/ title="Trabajar con argumentos Nullable" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Trabajar con argumentos Nullable</a> <a href=../../../sql_reference/functions/machine_learning_functions/ title="Funciones de aprendizaje automático" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Funciones de aprendizaje automático</a> <a href=../../../sql_reference/functions/introspection/ title=Introspección class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspección</a> <a href=../../../sql_reference/functions/other_functions/ title=Otro class="nav-link text-light text-wrap d-inline-block w-100 px-0">Otro</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/aggregate_functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/aggregate_functions/reference/ title=Referencia class="nav-link text-white active text-wrap d-inline-block w-100 px-0">Referencia</a> <a href=../../../sql_reference/aggregate_functions/combinators/ title="Combinadores de funciones agregadas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Combinadores de funciones agregadas</a> <a href=../../../sql_reference/aggregate_functions/parametric_functions/ title="Funciones agregadas paramétricas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Funciones agregadas paramétricas</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/table_functions/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../../sql_reference/table_functions/merge/ title=fusionar class="nav-link text-light text-wrap d-inline-block w-100 px-0">fusionar</a> <a href=../../../sql_reference/table_functions/numbers/ title=numero class="nav-link text-light text-wrap d-inline-block w-100 px-0">numero</a> <a href=../../../sql_reference/table_functions/remote/ title=remoto class="nav-link text-light text-wrap d-inline-block w-100 px-0">remoto</a> <a href=../../../sql_reference/table_functions/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql_reference/table_functions/odbc/ title=Nosotros class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nosotros</a> <a href=../../../sql_reference/table_functions/hdfs/ title=Hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hdfs</a> <a href=../../../sql_reference/table_functions/input/ title=entrada class="nav-link text-light text-wrap d-inline-block w-100 px-0">entrada</a> <a href=../../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title="Descripción General" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción General</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title="Configuración de un diccionario externo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración de un diccionario externo</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title="Almacenamiento de diccionarios en la memoria" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Almacenamiento de diccionarios en la memoria</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title="Actualizaciones del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualizaciones del diccionario</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title="Fuentes de diccionarios externos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fuentes de diccionarios externos</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title="Clave y campos del diccionario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clave y campos del diccionario</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title="Diccionarios jerárquicos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios jerárquicos</a> </nav> </div> <a href=../../../sql_reference/dictionaries/internal_dicts/ title="Diccionarios internos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Diccionarios internos</a> </nav> </div> <a href=#sidebar-sidebar-6-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-6-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../sql_reference/data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql_reference/data_types/float/ title="Descripción del producto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción del producto</a> <a href=../../../sql_reference/data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../../sql_reference/data_types/boolean/ title=Booleana class="nav-link text-light text-wrap d-inline-block w-100 px-0">Booleana</a> <a href=../../../sql_reference/data_types/string/ title=Cadena class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena</a> <a href=../../../sql_reference/data_types/fixedstring/ title="Cadena fija (N)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cadena fija (N)</a> <a href=../../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql_reference/data_types/date/ title=Fecha class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fecha</a> <a href=../../../sql_reference/data_types/datetime/ title=FechaHora class="nav-link text-light text-wrap d-inline-block w-100 px-0">FechaHora</a> <a href=../../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql_reference/data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql_reference/data_types/array/ title="Matriz (T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Matriz (T)</a> <a href=../../../sql_reference/data_types/aggregatefunction/ title="Agregar función (nombre, types_of_arguments)...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Agregar función (nombre, types_of_arguments)...)</a> <a href=../../../sql_reference/data_types/tuple/ title="Tuple (T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple (T1, T2, ...)</a> <a href=../../../sql_reference/data_types/nullable/ title=NULL class="nav-link text-light text-wrap d-inline-block w-100 px-0">NULL</a> <a href=#sidebar-sidebar-6-8-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-17 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-6-8-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/nested_data_structures/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/data_types/nested_data_structures/nested/ title="Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Anidado (Nombre1 Tipo1, Nombre2 Tipo2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-6-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-18 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-6-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/special_data_types/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../sql_reference/data_types/special_data_types/expression/ title=Expresion class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expresion</a> <a href=../../../sql_reference/data_types/special_data_types/set/ title=Establecer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Establecer</a> <a href=../../../sql_reference/data_types/special_data_types/nothing/ title=Nada class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nada</a> <a href=../../../sql_reference/data_types/special_data_types/interval/ title=Intervalo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intervalo</a> </nav> </div> <a href=#sidebar-sidebar-6-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-19 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../../sql_reference/data_types/domains/overview/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=../../../sql_reference/operators/ title=Operador class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operador</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../guides/apply_catboost_model/ title="Aplicación de modelos CatBoost" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aplicación de modelos CatBoost</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/requirements/ title=Requisito class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requisito</a> <a href=../../../operations/monitoring/ title=Monitoreo class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoreo</a> <a href=../../../operations/troubleshooting/ title="Solución de problemas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Solución de problemas</a> <a href=../../../operations/update/ title="Actualización de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Actualización de ClickHouse</a> <a href=../../../operations/access_rights/ title="Derechos de acceso" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Derechos de acceso</a> <a href=../../../operations/backup/ title="Copia de seguridad de datos" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Copia de seguridad de datos</a> <a href=../../../operations/configuration_files/ title="Archivos de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Archivos de configuración</a> <a href=../../../operations/quotas/ title=Cuota class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cuota</a> <a href=#sidebar-sidebar-8-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-10 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-8-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../../operations/optimizing_performance/sampling_query_profiler/ title="Generación de perfiles de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generación de perfiles de consultas</a> </nav> </div> <a href=../../../operations/system_tables/ title="Tablas del sistema" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tablas del sistema</a> <a href=../../../operations/performance_test/ title="Prueba de hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Prueba de hardware</a> <a href=#sidebar-sidebar-8-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-13 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_configuration_parameters/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/server_configuration_parameters/settings/ title="Configuración del servidor" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del servidor</a> </nav> </div> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=Implantación class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implantación</a> <a href=../../../operations/settings/permissions_for_queries/ title="Permisos para consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permisos para consultas</a> <a href=../../../operations/settings/query_complexity/ title="Restricciones en la complejidad de consultas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la complejidad de consultas</a> <a href=../../../operations/settings/settings/ title=Configuración class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración</a> <a href=../../../operations/settings/settings_profiles/ title="Perfiles de configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Perfiles de configuración</a> <a href=../../../operations/settings/constraints_on_settings/ title="Restricciones en la configuración" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restricciones en la configuración</a> <a href=../../../operations/settings/settings_users/ title="Configuración del usuario" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuración del usuario</a> </nav> </div> <a href=#sidebar-sidebar-8-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-15 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title=Descripción class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción</a> <a href=../../../operations/utilities/clickhouse-copier/ title="Método de codificación de datos:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Método de codificación de datos:</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title="Sistema abierto" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sistema abierto</a> </nav> </div> <a href=../../../operations/tips/ title="Recomendaciones de uso" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Recomendaciones de uso</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/ title=oculto class="nav-link text-light text-wrap d-inline-block w-100 px-0">oculto</a> <a href=../../../development/developer_instruction/ title="La instrucción para desarrolladores de ClickHouse para principiantes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La instrucción para desarrolladores de ClickHouse para principiantes</a> <a href=../../../development/architecture/ title="Descripción general de la arquitectura ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Descripción general de la arquitectura ClickHouse</a> <a href=../../../development/browse_code/ title="Examinar el código fuente de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Examinar el código fuente de ClickHouse</a> <a href=../../../development/build/ title="Cómo crear ClickHouse en Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Linux</a> <a href=../../../development/build_osx/ title="Cómo crear ClickHouse en Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo crear ClickHouse en Mac OS X</a> <a href=../../../development/build_cross_osx/ title="Cómo construir ClickHouse en Linux para Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para Mac OS X</a> <a href=../../../development/build_cross_arm/ title="Cómo construir ClickHouse en Linux para AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo construir ClickHouse en Linux para AARCH64 (ARM64)</a> <a href=../../../development/style/ title="Cómo escribir código C ++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo escribir código C ++</a> <a href=../../../development/tests/ title="Cómo ejecutar pruebas de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Cómo ejecutar pruebas de ClickHouse</a> <a href=../../../development/contrib/ title="Bibliotecas de terceros utilizadas" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliotecas de terceros utilizadas</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../../commercial/cloud/ title="Proveedores de servicios en la nube de ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proveedores de servicios en la nube de ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats_new/roadmap/ title="Hoja de ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja de ruta</a> <a href=../../../whats_new/security_changelog/ title="Seguridad Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Seguridad Changelog</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../../faq/general/ title="Preguntas generales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Preguntas generales</a> </nav> </div> <a href=../../../roadmap/ title="Hoja de ruta" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hoja de ruta</a> <a href=../../../single/clickhouse_es.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="Versión PDF" title="Versión PDF" height=24 class="d-block mr-1 float-left"><div>Versión PDF</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Ayuda quería!</p> <p class=lead>El siguiente contenido de esta página de documentación ha sido traducido por máquina. Pero a diferencia de otros sitios web, no se hace sobre la marcha. Este texto traducido vive en el repositorio de GitHub junto con la base de código principal de ClickHouse y espera a que otros hablantes nativos lo hagan más legible por humanos.</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/es/sql_reference/aggregate_functions/reference.md target=_blank rel="external nofollow noreferrer"> Ayuda a la documentación de ClickHouse editando esta página </a> </p> </div> <h1 id=function-reference>Referencia de la función<a class=headerlink href=#function-reference title="Permanent link">&para;</a></h1> <h2 id=agg_function-count>contar<a class=headerlink href=#agg_function-count title="Permanent link">&para;</a></h2> <p>Cuenta el número de filas o valores no NULL.</p> <p>ClickHouse admite las siguientes sintaxis para <code>count</code>:<br> - <code>count(expr)</code> o <code>COUNT(DISTINCT expr)</code>.<br> - <code>count()</code> o <code>COUNT(*)</code>. El <code>count()</code> la sintaxis es específica de ClickHouse.</p> <p><strong>Parámetros</strong></p> <p>La función puede tomar:</p> <ul> <li>Cero de los parámetros.</li> <li>Una <a href=../../syntax/#syntax-expressions>expresion</a>.</li> </ul> <p><strong>Valor devuelto</strong></p> <ul> <li>Si se llama a la función sin parámetros, cuenta el número de filas.</li> <li>Si el <a href=../../syntax/#syntax-expressions>expresion</a> se pasa, entonces la función cuenta cuántas veces esta expresión devuelve no nula. Si la expresión devuelve un <a href=../../data_types/nullable/ >NULL</a>-type valor, entonces el resultado de <code>count</code> no se queda <code>Nullable</code>. La función devuelve 0 si la expresión devuelta <code>NULL</code> para todas las filas.</li> </ul> <p>En ambos casos el tipo del valor devuelto es <a href=../../data_types/int_uint/ >UInt64</a>.</p> <p><strong>Detalles</strong></p> <p>ClickHouse soporta el <code>COUNT(DISTINCT ...)</code> sintaxis. El comportamiento de esta construcción depende del <a href=../../../operations/settings/settings/#settings-count_distinct_implementation>count_distinct_implementation</a> configuración. Define cuál de las <a href=#agg_function-uniq>uniq*</a> se utiliza para realizar la operación. El valor predeterminado es el <a href=#agg_function-uniqexact>uniqExact</a> función.</p> <p>El <code>SELECT count() FROM table</code> consulta no está optimizado, porque el número de entradas en la tabla no se almacena por separado. Elige una pequeña columna de la tabla y cuenta el número de valores en ella.</p> <p><strong>Ejemplos</strong></p> <p>Ejemplo 1:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>count</span><span class=p>()</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─count()─┐
│       5 │
└─────────┘
</code></pre></div> <p>Ejemplo 2:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;count_distinct_implementation&#39;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─name──────────────────────────┬─value─────┐
│ count_distinct_implementation │ uniqExact │
└───────────────────────────────┴───────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>count</span><span class=p>(</span><span class=k>DISTINCT</span> <span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─uniqExact(num)─┐
│              3 │
└────────────────┘
</code></pre></div> <p>Este ejemplo muestra que <code>count(DISTINCT num)</code> se realiza por el <code>uniqExact</code> función según el <code>count_distinct_implementation</code> valor de ajuste.</p> <h2 id=agg_function-any>cualquiera (x)<a class=headerlink href=#agg_function-any title="Permanent link">&para;</a></h2> <p>Selecciona el primer valor encontrado.<br> La consulta se puede ejecutar en cualquier orden e incluso en un orden diferente cada vez, por lo que el resultado de esta función es indeterminado.<br> Para obtener un resultado determinado, puede usar el ‘min’ o ‘max’ función en lugar de ‘any’.</p> <p>En algunos casos, puede confiar en el orden de ejecución. Esto se aplica a los casos en que SELECT proviene de una subconsulta que usa ORDER BY.</p> <p>Cuando un <code>SELECT</code> consulta tiene el <code>GROUP BY</code> cláusula o al menos una función agregada, ClickHouse (en contraste con MySQL) requiere que todas las expresiones <code>SELECT</code>, <code>HAVING</code>, y <code>ORDER BY</code> las cláusulas pueden calcularse a partir de claves o de funciones agregadas. En otras palabras, cada columna seleccionada de la tabla debe usarse en claves o dentro de funciones agregadas. Para obtener un comportamiento como en MySQL, puede colocar las otras columnas en el <code>any</code> función de agregado.</p> <h2 id=anyheavyx>Cualquier pesado (x)<a class=headerlink href=#anyheavyx title="Permanent link">&para;</a></h2> <p>Selecciona un valor que ocurre con frecuencia <a href=http://www.cs.umd.edu/~samir/498/karp.pdf rel="external nofollow noreferrer">pesos pesados</a> algoritmo. Si hay un valor que se produce más de la mitad de los casos en cada uno de los subprocesos de ejecución de la consulta, se devuelve este valor. Normalmente, el resultado es no determinista.</p> <div class=codehilite><pre><span></span><code><span class=n>anyHeavy</span><span class=p>(</span><span class=k>column</span><span class=p>)</span>
</code></pre></div> <p><strong>Argumento</strong></p> <ul> <li><code>column</code> – The column name.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Tome el <a href=../../../getting_started/example_datasets/ontime/ >A tiempo</a> conjunto de datos y seleccione cualquier valor que ocurra con frecuencia <code>AirlineID</code> columna.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>anyHeavy</span><span class=p>(</span><span class=n>AirlineID</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
<span class=k>FROM</span> <span class=n>ontime</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌───res─┐
│ 19690 │
└───────┘
</code></pre></div> <h2 id=anylastx>Cualquier último (x)<a class=headerlink href=#anylastx title="Permanent link">&para;</a></h2> <p>Selecciona el último valor encontrado.<br> El resultado es tan indeterminado como para el <code>any</code> función.</p> <h2 id=groupbitand>Método de codificación de datos:<a class=headerlink href=#groupbitand title="Permanent link">&para;</a></h2> <p>Se aplica bit a bit <code>AND</code> para la serie de números.</p> <div class=codehilite><pre><span></span><code><span class=n>groupBitAnd</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> – An expression that results in <code>UInt*</code> tipo.</p> <p><strong>Valor de retorno</strong></p> <p>Valor de la <code>UInt*</code> tipo.</p> <p><strong>Ejemplo</strong></p> <p>Datos de prueba:</p> <div class=codehilite><pre><span></span><code>binary     decimal
00101100 = 44
00011100 = 28
00001101 = 13
01010101 = 85
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>groupBitAnd</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Donde <code>num</code> es la columna con los datos de prueba.</p> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>binary     decimal
00000100 = 4
</code></pre></div> <h2 id=groupbitor>GrupoBitO<a class=headerlink href=#groupbitor title="Permanent link">&para;</a></h2> <p>Se aplica bit a bit <code>OR</code> para la serie de números.</p> <div class=codehilite><pre><span></span><code><span class=n>groupBitOr</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> – An expression that results in <code>UInt*</code> tipo.</p> <p><strong>Valor de retorno</strong></p> <p>Valor de la <code>UInt*</code> tipo.</p> <p><strong>Ejemplo</strong></p> <p>Datos de prueba:</p> <div class=codehilite><pre><span></span><code>binary     decimal
00101100 = 44
00011100 = 28
00001101 = 13
01010101 = 85
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>groupBitOr</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Donde <code>num</code> es la columna con los datos de prueba.</p> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>binary     decimal
01111101 = 125
</code></pre></div> <h2 id=groupbitxor>GrupoBitXor<a class=headerlink href=#groupbitxor title="Permanent link">&para;</a></h2> <p>Se aplica bit a bit <code>XOR</code> para la serie de números.</p> <div class=codehilite><pre><span></span><code><span class=n>groupBitXor</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> – An expression that results in <code>UInt*</code> tipo.</p> <p><strong>Valor de retorno</strong></p> <p>Valor de la <code>UInt*</code> tipo.</p> <p><strong>Ejemplo</strong></p> <p>Datos de prueba:</p> <div class=codehilite><pre><span></span><code>binary     decimal
00101100 = 44
00011100 = 28
00001101 = 13
01010101 = 85
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>groupBitXor</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Donde <code>num</code> es la columna con los datos de prueba.</p> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>binary     decimal
01101000 = 104
</code></pre></div> <h2 id=groupbitmap>Método de codificación de datos:<a class=headerlink href=#groupbitmap title="Permanent link">&para;</a></h2> <p>Mapa de bits o cálculos agregados de una columna entera sin signo, devuelve cardinalidad de tipo UInt64, si agrega el sufijo -State, luego devuelve <a href=../../functions/bitmap_functions/ >objeto de mapa de bits</a>.</p> <div class=codehilite><pre><span></span><code><span class=n>groupBitmap</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> – An expression that results in <code>UInt*</code> tipo.</p> <p><strong>Valor de retorno</strong></p> <p>Valor de la <code>UInt64</code> tipo.</p> <p><strong>Ejemplo</strong></p> <p>Datos de prueba:</p> <div class=codehilite><pre><span></span><code>UserID
1
1
2
3
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>groupBitmap</span><span class=p>(</span><span class=n>UserID</span><span class=p>)</span> <span class=k>as</span> <span class=n>num</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>num
3
</code></pre></div> <h2 id=agg_function-min>Mínimo (x)<a class=headerlink href=#agg_function-min title="Permanent link">&para;</a></h2> <p>Calcula el mínimo.</p> <h2 id=agg_function-max>máximo (x)<a class=headerlink href=#agg_function-max title="Permanent link">&para;</a></h2> <p>Calcula el máximo.</p> <h2 id=agg-function-argmin>¿Cómo puedo hacerlo?)<a class=headerlink href=#agg-function-argmin title="Permanent link">&para;</a></h2> <p>Calcula el ‘arg’ para un valor mínimo ‘val’ valor. Si hay varios valores diferentes de ‘arg’ para valores mínimos de ‘val’, el primero de estos valores encontrados es la salida.</p> <p><strong>Ejemplo:</strong></p> <div class=codehilite><pre><span></span><code>┌─user─────┬─salary─┐
│ director │   5000 │
│ manager  │   3000 │
│ worker   │   1000 │
└──────────┴────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>argMin</span><span class=p>(</span><span class=k>user</span><span class=p>,</span> <span class=n>salary</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>salary</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─argMin(user, salary)─┐
│ worker               │
└──────────────────────┘
</code></pre></div> <h2 id=agg-function-argmax>Descripción)<a class=headerlink href=#agg-function-argmax title="Permanent link">&para;</a></h2> <p>Calcula el ‘arg’ para un valor máximo ‘val’ valor. Si hay varios valores diferentes de ‘arg’ para valores máximos de ‘val’, el primero de estos valores encontrados es la salida.</p> <h2 id=agg_function-sum>suma (x)<a class=headerlink href=#agg_function-sum title="Permanent link">&para;</a></h2> <p>Calcula la suma.<br> Solo funciona para números.</p> <h2 id=sumwithoverflowx>¿Cómo puedo obtener más información?)<a class=headerlink href=#sumwithoverflowx title="Permanent link">&para;</a></h2> <p>Calcula la suma de los números, utilizando el mismo tipo de datos para el resultado que para los parámetros de entrada. Si la suma supera el valor máximo para este tipo de datos, la función devuelve un error.</p> <p>Solo funciona para números.</p> <h2 id=agg_functions-summap>sumMap(clave, valor)<a class=headerlink href=#agg_functions-summap title="Permanent link">&para;</a></h2> <p>Totals el ‘value’ matriz de acuerdo con las claves especificadas en el ‘key’ matriz.<br> El número de elementos en ‘key’ y ‘value’ debe ser el mismo para cada fila que se sume.<br> Returns a tuple of two arrays: keys in sorted order, and values ​​summed for the corresponding keys.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>sum_map</span><span class=p>(</span>
    <span class=nb>date</span> <span class=nb>Date</span><span class=p>,</span>
    <span class=n>timeslot</span> <span class=n>DateTime</span><span class=p>,</span>
    <span class=n>statusMap</span> <span class=n>Nested</span><span class=p>(</span>
        <span class=n>status</span> <span class=n>UInt16</span><span class=p>,</span>
        <span class=n>requests</span> <span class=n>UInt64</span>
    <span class=p>)</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Log</span><span class=p>;</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>sum_map</span> <span class=k>VALUES</span>
    <span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 00:00:00&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>]),</span>
    <span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 00:00:00&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>]),</span>
    <span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 00:01:00&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>]),</span>
    <span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 00:01:00&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>]);</span>
<span class=k>SELECT</span>
    <span class=n>timeslot</span><span class=p>,</span>
    <span class=n>sumMap</span><span class=p>(</span><span class=n>statusMap</span><span class=p>.</span><span class=n>status</span><span class=p>,</span> <span class=n>statusMap</span><span class=p>.</span><span class=n>requests</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>sum_map</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>timeslot</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌────────────timeslot─┬─sumMap(statusMap.status, statusMap.requests)─┐
│ 2000-01-01 00:00:00 │ ([1,2,3,4,5],[10,10,20,10,10])               │
│ 2000-01-01 00:01:00 │ ([4,5,6,7,8],[10,10,20,10,10])               │
└─────────────────────┴──────────────────────────────────────────────┘
</code></pre></div> <h2 id=skewpop>SkewPop<a class=headerlink href=#skewpop title="Permanent link">&para;</a></h2> <p>Calcula el <a href=https://en.wikipedia.org/wiki/Skewness rel="external nofollow noreferrer">la asimetría</a> de una secuencia.</p> <div class=codehilite><pre><span></span><code><span class=n>skewPop</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> devolviendo un número.</p> <p><strong>Valor devuelto</strong></p> <p>The skewness of the given distribution. Type — <a href=../../data_types/float/ >Float64</a></p> <p><strong>Ejemplo</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>skewPop</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=skewsamp>Sistema abierto.<a class=headerlink href=#skewsamp title="Permanent link">&para;</a></h2> <p>Calcula el <a href=https://en.wikipedia.org/wiki/Skewness rel="external nofollow noreferrer">asimetría de la muestra</a> de una secuencia.</p> <p>Representa una estimación imparcial de la asimetría de una variable aleatoria si los valores pasados forman su muestra.</p> <div class=codehilite><pre><span></span><code><span class=n>skewSamp</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> devolviendo un número.</p> <p><strong>Valor devuelto</strong></p> <p>The skewness of the given distribution. Type — <a href=../../data_types/float/ >Float64</a>. Si <code>n &lt;= 1</code> (<code>n</code> es el tamaño de la muestra), luego la función devuelve <code>nan</code>.</p> <p><strong>Ejemplo</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>skewSamp</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=kurtpop>KurtPop<a class=headerlink href=#kurtpop title="Permanent link">&para;</a></h2> <p>Calcula el <a href=https://en.wikipedia.org/wiki/Kurtosis rel="external nofollow noreferrer">curtosis</a> de una secuencia.</p> <div class=codehilite><pre><span></span><code><span class=n>kurtPop</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> devolviendo un número.</p> <p><strong>Valor devuelto</strong></p> <p>The kurtosis of the given distribution. Type — <a href=../../data_types/float/ >Float64</a></p> <p><strong>Ejemplo</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>kurtPop</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=kurtsamp>KurtSamp<a class=headerlink href=#kurtsamp title="Permanent link">&para;</a></h2> <p>Calcula el <a href=https://en.wikipedia.org/wiki/Kurtosis rel="external nofollow noreferrer">curtosis muestra</a> de una secuencia.</p> <p>Representa una estimación imparcial de la curtosis de una variable aleatoria si los valores pasados forman su muestra.</p> <div class=codehilite><pre><span></span><code><span class=n>kurtSamp</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> devolviendo un número.</p> <p><strong>Valor devuelto</strong></p> <p>The kurtosis of the given distribution. Type — <a href=../../data_types/float/ >Float64</a>. Si <code>n &lt;= 1</code> (<code>n</code> es un tamaño de la muestra), luego la función devuelve <code>nan</code>.</p> <p><strong>Ejemplo</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>kurtSamp</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>series_with_value_column</span>
</code></pre></div> <h2 id=agg-function-timeseriesgroupsum>Para obtener más información, consulta nuestra Política de privacidad y nuestras Condiciones de uso)<a class=headerlink href=#agg-function-timeseriesgroupsum title="Permanent link">&para;</a></h2> <p><code>timeSeriesGroupSum</code> puede agregar diferentes series de tiempo que muestran la marca de tiempo no la alineación.<br> Utilizará la interpolación lineal entre dos marcas de tiempo de muestra y luego sumará series temporales juntas.</p> <ul> <li><code>uid</code> es la identificación única de la serie temporal, <code>UInt64</code>.</li> <li><code>timestamp</code> es el tipo Int64 para admitir milisegundos o microsegundos.</li> <li><code>value</code> es la métrica.</li> </ul> <p>La función devuelve una matriz de tuplas con <code>(timestamp, aggregated_value)</code> par.</p> <p>Antes de utilizar esta función, asegúrese de <code>timestamp</code> está en orden ascendente.</p> <p>Ejemplo:</p> <div class=codehilite><pre><span></span><code>┌─uid─┬─timestamp─┬─value─┐
│ 1   │     2     │   0.2 │
│ 1   │     7     │   0.7 │
│ 1   │    12     │   1.2 │
│ 1   │    17     │   1.7 │
│ 1   │    25     │   2.5 │
│ 2   │     3     │   0.6 │
│ 2   │     8     │   1.6 │
│ 2   │    12     │   2.4 │
│ 2   │    18     │   3.6 │
│ 2   │    24     │   4.8 │
└─────┴───────────┴───────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>time_series</span><span class=p>(</span>
    <span class=n>uid</span>       <span class=n>UInt64</span><span class=p>,</span>
    <span class=k>timestamp</span> <span class=n>Int64</span><span class=p>,</span>
    <span class=n>value</span>     <span class=n>Float64</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>time_series</span> <span class=k>VALUES</span>
    <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>.</span><span class=mi>2</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>0</span><span class=p>.</span><span class=mi>7</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>1</span><span class=p>.</span><span class=mi>2</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mi>1</span><span class=p>.</span><span class=mi>7</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>25</span><span class=p>,</span><span class=mi>2</span><span class=p>.</span><span class=mi>5</span><span class=p>),</span>
    <span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>0</span><span class=p>.</span><span class=mi>6</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>1</span><span class=p>.</span><span class=mi>6</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>2</span><span class=p>.</span><span class=mi>4</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>18</span><span class=p>,</span><span class=mi>3</span><span class=p>.</span><span class=mi>6</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>24</span><span class=p>,</span><span class=mi>4</span><span class=p>.</span><span class=mi>8</span><span class=p>);</span>

<span class=k>SELECT</span> <span class=n>timeSeriesGroupSum</span><span class=p>(</span><span class=n>uid</span><span class=p>,</span> <span class=k>timestamp</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<span class=k>FROM</span> <span class=p>(</span>
    <span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>time_series</span> <span class=k>order</span> <span class=k>by</span> <span class=k>timestamp</span> <span class=k>ASC</span>
<span class=p>);</span>
</code></pre></div> <p>Y el resultado será:</p> <div class=codehilite><pre><span></span><code>[(2,0.2),(3,0.9),(7,2.1),(8,2.4),(12,3.6),(17,5.1),(18,5.4),(24,7.2),(25,2.5)]
</code></pre></div> <h2 id=agg-function-timeseriesgroupratesum>También puede utilizar el siguiente ejemplo:)<a class=headerlink href=#agg-function-timeseriesgroupratesum title="Permanent link">&para;</a></h2> <p>Del mismo modo timeSeriesGroupRateSum, timeSeriesGroupRateSum calculará la tasa de series temporales y luego sumará las tasas juntas.<br> Además, la marca de tiempo debe estar en orden ascendente antes de usar esta función.</p> <p>Use esta función, el resultado anterior será:</p> <div class=codehilite><pre><span></span><code>[(2,0),(3,0.1),(7,0.3),(8,0.3),(12,0.3),(17,0.3),(18,0.3),(24,0.3),(25,0.1)]
</code></pre></div> <h2 id=agg_function-avg>Acerca de)<a class=headerlink href=#agg_function-avg title="Permanent link">&para;</a></h2> <p>Calcula el promedio.<br> Solo funciona para números.<br> El resultado es siempre Float64.</p> <h2 id=agg_function-uniq>uniq<a class=headerlink href=#agg_function-uniq title="Permanent link">&para;</a></h2> <p>Calcula el número aproximado de diferentes valores del argumento.</p> <div class=codehilite><pre><span></span><code><span class=n>uniq</span><span class=p>(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p>La función toma un número variable de parámetros. Los parámetros pueden ser <code>Tuple</code>, <code>Array</code>, <code>Date</code>, <code>DateTime</code>, <code>String</code>, o tipos numéricos.</p> <p><strong>Valor devuelto</strong></p> <ul> <li>A <a href=../../data_types/int_uint/ >UInt64</a>-tipo número.</li> </ul> <p><strong>Detalles de implementación</strong></p> <p>Función:</p> <ul> <li> <p>Calcula un hash para todos los parámetros en el agregado, luego lo usa en los cálculos.</p> </li> <li> <p>Utiliza un algoritmo de muestreo adaptativo. Para el estado de cálculo, la función utiliza una muestra de valores hash de elemento de hasta 65536.</p> <div class=codehilite><pre><span></span><code><span class=n>This</span> <span class=n>algorithm</span> <span class=k>is</span> <span class=n>very</span> <span class=n>accurate</span> <span class=k>and</span> <span class=n>very</span> <span class=n>efficient</span> <span class=k>on</span> <span class=n>the</span> <span class=n>CPU</span><span class=p>.</span> <span class=k>When</span> <span class=n>the</span> <span class=n>query</span> <span class=n>contains</span> <span class=n>several</span> <span class=n>of</span> <span class=n>these</span> <span class=n>functions</span><span class=p>,</span> <span class=k>using</span> <span class=ss>`uniq`</span> <span class=k>is</span> <span class=n>almost</span> <span class=k>as</span> <span class=n>fast</span> <span class=k>as</span> <span class=k>using</span> <span class=n>other</span> <span class=n>aggregate</span> <span class=n>functions</span><span class=p>.</span>
</code></pre></div> </li> <li> <p>Proporciona el resultado de forma determinista (no depende del orden de procesamiento de la consulta).</p> </li> </ul> <p>Recomendamos usar esta función en casi todos los escenarios.</p> <p><strong>Ver también</strong></p> <ul> <li><a href=#agg_function-uniqcombined>uniqCombined</a></li> <li><a href=#agg_function-uniqcombined64>UniqCombined64</a></li> <li><a href=#agg_function-uniqhll12>uniqHLL12</a></li> <li><a href=#agg_function-uniqexact>uniqExact</a></li> </ul> <h2 id=agg_function-uniqcombined>uniqCombined<a class=headerlink href=#agg_function-uniqcombined title="Permanent link">&para;</a></h2> <p>Calcula el número aproximado de diferentes valores de argumento.</p> <div class=codehilite><pre><span></span><code><span class=n>uniqCombined</span><span class=p>(</span><span class=n>HLL_precision</span><span class=p>)(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p>El <code>uniqCombined</code> es una buena opción para calcular el número de valores diferentes.</p> <p><strong>Parámetros</strong></p> <p>La función toma un número variable de parámetros. Los parámetros pueden ser <code>Tuple</code>, <code>Array</code>, <code>Date</code>, <code>DateTime</code>, <code>String</code>, o tipos numéricos.</p> <p><code>HLL_precision</code> es el logaritmo base-2 del número de células en <a href=https://en.wikipedia.org/wiki/HyperLogLog rel="external nofollow noreferrer">HyperLogLog</a>. Opcional, puede utilizar la función como <code>uniqCombined(x[, ...])</code>. El valor predeterminado para <code>HLL_precision</code> es 17, que es efectivamente 96 KiB de espacio (2 ^ 17 celdas, 6 bits cada una).</p> <p><strong>Valor devuelto</strong></p> <ul> <li>Un número <a href=../../data_types/int_uint/ >UInt64</a>-tipo número.</li> </ul> <p><strong>Detalles de implementación</strong></p> <p>Función:</p> <ul> <li> <p>Calcula un hash (hash de 64 bits para <code>String</code> y 32 bits de lo contrario) para todos los parámetros en el agregado, luego lo usa en los cálculos.</p> </li> <li> <p>Utiliza una combinación de tres algoritmos: matriz, tabla hash e HyperLogLog con una tabla de corrección de errores.</p> <div class=codehilite><pre><span></span><code><span class=err>For a small number of distinct elements, an array is used. When the set size is larger, a hash table is used. For a larger number of elements, HyperLogLog is used, which will occupy a fixed amount of memory.</span>
</code></pre></div> </li> <li> <p>Proporciona el resultado de forma determinista (no depende del orden de procesamiento de la consulta).</p> </li> </ul> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Dado que usa hash de 32 bits para no-<code>String</code> tipo, el resultado tendrá un error muy alto para cardinalidades significativamente mayores que <code>UINT_MAX</code> (el error aumentará rápidamente después de unas pocas decenas de miles de millones de valores distintos), por lo tanto, en este caso debe usar <a href=#agg_function-uniqcombined64>UniqCombined64</a></p> </div> <p>En comparación con el <a href=#agg_function-uniq>uniq</a> función, el <code>uniqCombined</code>:</p> <ul> <li>Consume varias veces menos memoria.</li> <li>Calcula con una precisión varias veces mayor.</li> <li>Por lo general, tiene un rendimiento ligeramente menor. En algunos escenarios, <code>uniqCombined</code> puede funcionar mejor que <code>uniq</code>, por ejemplo, con consultas distribuidas que transmiten un gran número de estados de agregación a través de la red.</li> </ul> <p><strong>Ver también</strong></p> <ul> <li><a href=#agg_function-uniq>uniq</a></li> <li><a href=#agg_function-uniqcombined64>UniqCombined64</a></li> <li><a href=#agg_function-uniqhll12>uniqHLL12</a></li> <li><a href=#agg_function-uniqexact>uniqExact</a></li> </ul> <h2 id=agg_function-uniqcombined64>UniqCombined64<a class=headerlink href=#agg_function-uniqcombined64 title="Permanent link">&para;</a></h2> <p>Lo mismo que <a href=#agg_function-uniqcombined>uniqCombined</a>, pero utiliza hash de 64 bits para todos los tipos de datos.</p> <h2 id=agg_function-uniqhll12>uniqHLL12<a class=headerlink href=#agg_function-uniqhll12 title="Permanent link">&para;</a></h2> <p>Calcula el número aproximado de diferentes valores de argumento <a href=https://en.wikipedia.org/wiki/HyperLogLog rel="external nofollow noreferrer">HyperLogLog</a> algoritmo.</p> <div class=codehilite><pre><span></span><code><span class=n>uniqHLL12</span><span class=p>(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p>La función toma un número variable de parámetros. Los parámetros pueden ser <code>Tuple</code>, <code>Array</code>, <code>Date</code>, <code>DateTime</code>, <code>String</code>, o tipos numéricos.</p> <p><strong>Valor devuelto</strong></p> <ul> <li>A <a href=../../data_types/int_uint/ >UInt64</a>-tipo número.</li> </ul> <p><strong>Detalles de implementación</strong></p> <p>Función:</p> <ul> <li> <p>Calcula un hash para todos los parámetros en el agregado, luego lo usa en los cálculos.</p> </li> <li> <p>Utiliza el algoritmo HyperLogLog para aproximar el número de valores de argumento diferentes.</p> <div class=codehilite><pre><span></span><code><span class=err>212 5-bit cells are used. The size of the state is slightly more than 2.5 KB. The result is not very accurate (up to ~10% error) for small data sets (&lt;10K elements). However, the result is fairly accurate for high-cardinality data sets (10K-100M), with a maximum error of ~1.6%. Starting from 100M, the estimation error increases, and the function will return very inaccurate results for data sets with extremely high cardinality (1B+ elements).</span>
</code></pre></div> </li> <li> <p>Proporciona el resultado determinado (no depende del orden de procesamiento de la consulta).</p> </li> </ul> <p>No recomendamos usar esta función. En la mayoría de los casos, use el <a href=#agg_function-uniq>uniq</a> o <a href=#agg_function-uniqcombined>uniqCombined</a> función.</p> <p><strong>Ver también</strong></p> <ul> <li><a href=#agg_function-uniq>uniq</a></li> <li><a href=#agg_function-uniqcombined>uniqCombined</a></li> <li><a href=#agg_function-uniqexact>uniqExact</a></li> </ul> <h2 id=agg_function-uniqexact>uniqExact<a class=headerlink href=#agg_function-uniqexact title="Permanent link">&para;</a></h2> <p>Calcula el número exacto de diferentes valores de argumento.</p> <div class=codehilite><pre><span></span><code><span class=n>uniqExact</span><span class=p>(</span><span class=n>x</span><span class=p>[,</span> <span class=p>...])</span>
</code></pre></div> <p>Utilice el <code>uniqExact</code> función si necesita absolutamente un resultado exacto. De lo contrario, use el <a href=#agg_function-uniq>uniq</a> función.</p> <p>El <code>uniqExact</code> función utiliza más memoria que <code>uniq</code>, porque el tamaño del estado tiene un crecimiento ilimitado a medida que aumenta el número de valores diferentes.</p> <p><strong>Parámetros</strong></p> <p>La función toma un número variable de parámetros. Los parámetros pueden ser <code>Tuple</code>, <code>Array</code>, <code>Date</code>, <code>DateTime</code>, <code>String</code>, o tipos numéricos.</p> <p><strong>Ver también</strong></p> <ul> <li><a href=#agg_function-uniq>uniq</a></li> <li><a href=#agg_function-uniqcombined>uniqCombined</a></li> <li><a href=#agg_function-uniqhll12>uniqHLL12</a></li> </ul> <h2 id=agg_function-grouparray>¿Cómo puedo hacerlo?)<a class=headerlink href=#agg_function-grouparray title="Permanent link">&para;</a></h2> <p>Crea una matriz de valores de argumento.<br> Los valores se pueden agregar a la matriz en cualquier orden (indeterminado).</p> <p>La segunda versión (con el <code>max_size</code> parámetro) limita el tamaño de la matriz resultante a <code>max_size</code> elemento.<br> Por ejemplo, <code>groupArray (1) (x)</code> es equivalente a <code>[any (x)]</code>.</p> <p>En algunos casos, aún puede confiar en el orden de ejecución. Esto se aplica a los casos en que <code>SELECT</code> procede de una subconsulta que utiliza <code>ORDER BY</code>.</p> <h2 id=grouparrayinsertatvalue-position>Para obtener más información, consulte el siguiente enlace:)<a class=headerlink href=#grouparrayinsertatvalue-position title="Permanent link">&para;</a></h2> <p>Inserta un valor en la matriz en la posición especificada.</p> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Esta función utiliza posiciones de base cero, contrariamente a las posiciones de base única convencionales para matrices SQL.</p> </div> <p>Accepts the value and position as input. If several values ​​are inserted into the same position, any of them might end up in the resulting array (the first one will be used in the case of single-threaded execution). If no value is inserted into a position, the position is assigned the default value.</p> <p>Parámetros opcionales:</p> <ul> <li>El valor predeterminado para sustituir en posiciones vacías.</li> <li>La longitud de la matriz resultante. Esto le permite recibir matrices del mismo tamaño para todas las claves agregadas. Al utilizar este parámetro, se debe especificar el valor predeterminado.</li> </ul> <h2 id=agg_function-grouparraymovingsum>groupArrayMovingSum<a class=headerlink href=#agg_function-grouparraymovingsum title="Permanent link">&para;</a></h2> <p>Calcula la suma móvil de los valores de entrada.</p> <div class=codehilite><pre><span></span><code><span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
<span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=n>window_size</span><span class=p>)(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
</code></pre></div> <p>La función puede tomar el tamaño de la ventana como un parámetro. Si no se especifica, la función toma el tamaño de ventana igual al número de filas de la columna.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>numbers_for_summing</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> dando como resultado un valor de tipo de datos numérico.</li> <li><code>window_size</code> — Size of the calculation window.</li> </ul> <p><strong>Valores devueltos</strong></p> <ul> <li>Matriz del mismo tamaño y tipo que los datos de entrada.</li> </ul> <p><strong>Ejemplo</strong></p> <p>La tabla de ejemplo:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>t</span>
<span class=p>(</span>
    <span class=o>`</span><span class=nb>int</span><span class=o>`</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>float</span><span class=o>`</span> <span class=n>Float32</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>dec</span><span class=o>`</span> <span class=n>Decimal32</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─int─┬─float─┬──dec─┐
│   1 │   1.1 │ 1.10 │
│   2 │   2.2 │ 2.20 │
│   4 │   4.4 │ 4.40 │
│   7 │  7.77 │ 7.77 │
└─────┴───────┴──────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─I──────────┬─F───────────────────────────────┬─D──────────────────────┐
│ [1,3,7,14] │ [1.1,3.3000002,7.7000003,15.47] │ [1.10,3.30,7.70,15.47] │
└────────────┴─────────────────────────────────┴────────────────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingSum</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─I──────────┬─F───────────────────────────────┬─D──────────────────────┐
│ [1,3,6,11] │ [1.1,3.3000002,6.6000004,12.17] │ [1.10,3.30,6.60,12.17] │
└────────────┴─────────────────────────────────┴────────────────────────┘
</code></pre></div> <h2 id=agg_function-grouparraymovingavg>Método de codificación de datos:<a class=headerlink href=#agg_function-grouparraymovingavg title="Permanent link">&para;</a></h2> <p>Calcula la media móvil de los valores de entrada.</p> <div class=codehilite><pre><span></span><code><span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
<span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=n>window_size</span><span class=p>)(</span><span class=n>numbers_for_summing</span><span class=p>)</span>
</code></pre></div> <p>La función puede tomar el tamaño de la ventana como un parámetro. Si no se especifica, la función toma el tamaño de ventana igual al número de filas de la columna.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>numbers_for_summing</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> dando como resultado un valor de tipo de datos numérico.</li> <li><code>window_size</code> — Size of the calculation window.</li> </ul> <p><strong>Valores devueltos</strong></p> <ul> <li>Matriz del mismo tamaño y tipo que los datos de entrada.</li> </ul> <p>La función utiliza <a href=https://en.wikipedia.org/wiki/Rounding#Rounding_towards_zero rel="external nofollow noreferrer">redondeando hacia cero</a>. Trunca los decimales insignificantes para el tipo de datos resultante.</p> <p><strong>Ejemplo</strong></p> <p>La tabla de ejemplo <code>b</code>:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>t</span>
<span class=p>(</span>
    <span class=o>`</span><span class=nb>int</span><span class=o>`</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>float</span><span class=o>`</span> <span class=n>Float32</span><span class=p>,</span>
    <span class=o>`</span><span class=nb>dec</span><span class=o>`</span> <span class=n>Decimal32</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>TinyLog</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─int─┬─float─┬──dec─┐
│   1 │   1.1 │ 1.10 │
│   2 │   2.2 │ 2.20 │
│   4 │   4.4 │ 4.40 │
│   7 │  7.77 │ 7.77 │
└─────┴───────┴──────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─I─────────┬─F───────────────────────────────────┬─D─────────────────────┐
│ [0,0,1,3] │ [0.275,0.82500005,1.9250001,3.8675] │ [0.27,0.82,1.92,3.86] │
└───────────┴─────────────────────────────────────┴───────────────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>int</span><span class=p>)</span> <span class=k>AS</span> <span class=n>I</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>float</span><span class=p>)</span> <span class=k>AS</span> <span class=n>F</span><span class=p>,</span>
    <span class=n>groupArrayMovingAvg</span><span class=p>(</span><span class=mi>2</span><span class=p>)(</span><span class=nb>dec</span><span class=p>)</span> <span class=k>AS</span> <span class=n>D</span>
<span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─I─────────┬─F────────────────────────────────┬─D─────────────────────┐
│ [0,1,3,5] │ [0.55,1.6500001,3.3000002,6.085] │ [0.55,1.65,3.30,6.08] │
└───────────┴──────────────────────────────────┴───────────────────────┘
</code></pre></div> <h2 id=groupuniqarrayx-groupuniqarraymax-sizex>¿Cómo puedo obtener más información?)<a class=headerlink href=#groupuniqarrayx-groupuniqarraymax-sizex title="Permanent link">&para;</a></h2> <p>Crea una matriz a partir de diferentes valores de argumento. El consumo de memoria es el mismo que para el <code>uniqExact</code> función.</p> <p>La segunda versión (con el <code>max_size</code> parámetro) limita el tamaño de la matriz resultante a <code>max_size</code> elemento.<br> Por ejemplo, <code>groupUniqArray(1)(x)</code> es equivalente a <code>[any(x)]</code>.</p> <h2 id=quantile>cuantil<a class=headerlink href=#quantile title="Permanent link">&para;</a></h2> <p>Calcula un aproximado <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos.</p> <p>Esta función se aplica <a href=https://en.wikipedia.org/wiki/Reservoir_sampling rel="external nofollow noreferrer">muestreo de embalses</a> con un tamaño de depósito de hasta 8192 y un generador de números aleatorios para el muestreo. El resultado es no determinista. Para obtener un cuantil exacto, use el <a href=#quantileexact>quantileExact</a> función.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantile</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>median</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</li> <li><code>expr</code> — Expression over the column values resulting in numeric <a href=../../data_types/#data_types>tipos de datos</a>, <a href=../../data_types/date/ >Fecha</a> o <a href=../../data_types/datetime/ >FechaHora</a>.</li> </ul> <p><strong>Valor devuelto</strong></p> <ul> <li>Cuantil aproximado del nivel especificado.</li> </ul> <p>Tipo:</p> <ul> <li><a href=../../data_types/float/ >Float64</a> para la entrada de tipo de datos numéricos.</li> <li><a href=../../data_types/date/ >Fecha</a> si los valores de entrada tienen <code>Date</code> tipo.</li> <li><a href=../../data_types/datetime/ >FechaHora</a> si los valores de entrada tienen <code>DateTime</code> tipo.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Tabla de entrada:</p> <div class=codehilite><pre><span></span><code>┌─val─┐
│   1 │
│   1 │
│   2 │
│   3 │
└─────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantile</span><span class=p>(</span><span class=n>val</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantile(val)─┐
│           1.5 │
└───────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=quantiledeterministic>quantileDeterminista<a class=headerlink href=#quantiledeterministic title="Permanent link">&para;</a></h2> <p>Calcula un aproximado <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos.</p> <p>Esta función se aplica <a href=https://en.wikipedia.org/wiki/Reservoir_sampling rel="external nofollow noreferrer">muestreo de embalses</a> con un tamaño de depósito de hasta 8192 y algoritmo determinista de muestreo. El resultado es determinista. Para obtener un cuantil exacto, use el <a href=#quantileexact>quantileExact</a> función.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantileDeterministic</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>,</span> <span class=n>determinator</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>medianDeterministic</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</li> <li><code>expr</code> — Expression over the column values resulting in numeric <a href=../../data_types/#data_types>tipos de datos</a>, <a href=../../data_types/date/ >Fecha</a> o <a href=../../data_types/datetime/ >FechaHora</a>.</li> <li><code>determinator</code> — Number whose hash is used instead of a random number generator in the reservoir sampling algorithm to make the result of sampling deterministic. As a determinator you can use any deterministic positive number, for example, a user id or an event id. If the same determinator value occures too often, the function works incorrectly.</li> </ul> <p><strong>Valor devuelto</strong></p> <ul> <li>Aproximado cuantil del nivel especificado.</li> </ul> <p>Tipo:</p> <ul> <li><a href=../../data_types/float/ >Float64</a> para el tipo de datos numérico de entrada.</li> <li><a href=../../data_types/date/ >Fecha</a> si los valores de entrada tienen <code>Date</code> tipo.</li> <li><a href=../../data_types/datetime/ >FechaHora</a> si los valores de entrada tienen <code>DateTime</code> tipo.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Tabla de entrada:</p> <div class=codehilite><pre><span></span><code>┌─val─┐
│   1 │
│   1 │
│   2 │
│   3 │
└─────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantileDeterministic</span><span class=p>(</span><span class=n>val</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantileDeterministic(val, 1)─┐
│                           1.5 │
└───────────────────────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=quantileexact>quantileExact<a class=headerlink href=#quantileexact title="Permanent link">&para;</a></h2> <p>Calcula exactamente el <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos.</p> <p>To get exact value, all the passed values ​​are combined into an array, which is then partially sorted. Therefore, the function consumes <code>O(n)</code> memoria, donde <code>n</code> es un número de valores que se pasaron. Sin embargo, para un pequeño número de valores, la función es muy efectiva.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantileExact</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>medianExact</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</li> <li><code>expr</code> — Expression over the column values resulting in numeric <a href=../../data_types/#data_types>tipos de datos</a>, <a href=../../data_types/date/ >Fecha</a> o <a href=../../data_types/datetime/ >FechaHora</a>.</li> </ul> <p><strong>Valor devuelto</strong></p> <ul> <li>Cuantil del nivel especificado.</li> </ul> <p>Tipo:</p> <ul> <li><a href=../../data_types/float/ >Float64</a> para el tipo de datos numérico de entrada.</li> <li><a href=../../data_types/date/ >Fecha</a> si los valores de entrada tienen <code>Date</code> tipo.</li> <li><a href=../../data_types/datetime/ >FechaHora</a> si los valores de entrada tienen <code>DateTime</code> tipo.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantileExact</span><span class=p>(</span><span class=nb>number</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantileExact(number)─┐
│                     5 │
└───────────────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=quantileexactweighted>quantileExactWeighted<a class=headerlink href=#quantileexactweighted title="Permanent link">&para;</a></h2> <p>Calcula exactamente el <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos, teniendo en cuenta el peso de cada elemento.</p> <p>To get exact value, all the passed values ​​are combined into an array, which is then partially sorted. Each value is counted with its weight, as if it is present <code>weight</code> times. A hash table is used in the algorithm. Because of this, if the passed values ​​are frequently repeated, the function consumes less RAM than <a href=#quantileexact>quantileExact</a>. Puede usar esta función en lugar de <code>quantileExact</code> y especifique el peso 1.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantileExactWeighted</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>medianExactWeighted</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</li> <li><code>expr</code> — Expression over the column values resulting in numeric <a href=../../data_types/#data_types>tipos de datos</a>, <a href=../../data_types/date/ >Fecha</a> o <a href=../../data_types/datetime/ >FechaHora</a>.</li> <li><code>weight</code> — Column with weights of sequence members. Weight is a number of value occurrences.</li> </ul> <p><strong>Valor devuelto</strong></p> <ul> <li>Cuantil del nivel especificado.</li> </ul> <p>Tipo:</p> <ul> <li><a href=../../data_types/float/ >Float64</a> para la entrada de tipo de datos numéricos.</li> <li><a href=../../data_types/date/ >Fecha</a> si los valores de entrada tienen <code>Date</code> tipo.</li> <li><a href=../../data_types/datetime/ >FechaHora</a> si los valores de entrada tienen <code>DateTime</code> tipo.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Tabla de entrada:</p> <div class=codehilite><pre><span></span><code>┌─n─┬─val─┐
│ 0 │   3 │
│ 1 │   2 │
│ 2 │   1 │
│ 5 │   4 │
└───┴─────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantileExactWeighted</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>val</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantileExactWeighted(n, val)─┐
│                             1 │
└───────────────────────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=quantiletiming>quantileTiming<a class=headerlink href=#quantiletiming title="Permanent link">&para;</a></h2> <p>Con la precisión determinada calcula el <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos.</p> <p>El resultado es determinista (no depende del orden de procesamiento de la consulta). La función está optimizada para trabajar con secuencias que describen distribuciones como tiempos de carga de páginas web o tiempos de respuesta de back-end.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantileTiming</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>medianTiming</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li> <p><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</p> </li> <li> <p><code>expr</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> sobre una columna valores que devuelven un <a href=../../data_types/float/ >Flotante*</a>-tipo número.</p> <div class=codehilite><pre><span></span><code><span class=err>- If negative values are passed to the function, the behavior is undefined.</span>
<span class=err>- If the value is greater than 30,000 (a page loading time of more than 30 seconds), it is assumed to be 30,000.</span>
</code></pre></div> </li> </ul> <p><strong>Exactitud</strong></p> <p>El cálculo es preciso si:</p> <ul> <li>El número total de valores no supera los 5670.</li> <li>El número total de valores supera los 5670, pero el tiempo de carga de la página es inferior a 1024 ms.</li> </ul> <p>De lo contrario, el resultado del cálculo se redondea al múltiplo más cercano de 16 ms.</p> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Para calcular los cuantiles de tiempo de carga de la página, esta función es más efectiva y precisa que <a href=#quantile>cuantil</a>.</p> </div> <p><strong>Valor devuelto</strong></p> <ul> <li>Cuantil del nivel especificado.</li> </ul> <p>Tipo: <code>Float32</code>.</p> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Si no se pasan valores a la función (cuando se <code>quantileTimingIf</code>), <a href=../../data_types/float/#data_type-float-nan-inf>NaN</a> se devuelve. El propósito de esto es diferenciar estos casos de los casos que resultan en cero. Ver <a href=../../statements/select/#select-order-by>ORDER BY cláusula</a> para notas sobre la clasificación <code>NaN</code> valor.</p> </div> <p><strong>Ejemplo</strong></p> <p>Tabla de entrada:</p> <div class=codehilite><pre><span></span><code>┌─response_time─┐
│            72 │
│           112 │
│           126 │
│           145 │
│           104 │
│           242 │
│           313 │
│           168 │
│           108 │
└───────────────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantileTiming</span><span class=p>(</span><span class=n>response_time</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantileTiming(response_time)─┐
│                           126 │
└───────────────────────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=quantiletimingweighted>quantileTimingWeighted<a class=headerlink href=#quantiletimingweighted title="Permanent link">&para;</a></h2> <p>Con la precisión determinada calcula el <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos según el peso de cada miembro de secuencia.</p> <p>El resultado es determinista (no depende del orden de procesamiento de la consulta). La función está optimizada para trabajar con secuencias que describen distribuciones como tiempos de carga de páginas web o tiempos de respuesta de back-end.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantileTimingWeighted</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>medianTimingWeighted</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li> <p><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</p> </li> <li> <p><code>expr</code> — <a href=../../syntax/#syntax-expressions>Expresion</a> sobre una columna valores que devuelven un <a href=../../data_types/float/ >Flotante*</a>-tipo número.</p> <div class=codehilite><pre><span></span><code><span class=err>- If negative values are passed to the function, the behavior is undefined.</span>
<span class=err>- If the value is greater than 30,000 (a page loading time of more than 30 seconds), it is assumed to be 30,000.</span>
</code></pre></div> </li> <li> <p><code>weight</code> — Column with weights of sequence elements. Weight is a number of value occurrences.</p> </li> </ul> <p><strong>Exactitud</strong></p> <p>El cálculo es preciso si:</p> <ul> <li>El número total de valores no supera los 5670.</li> <li>El número total de valores supera los 5670, pero el tiempo de carga de la página es inferior a 1024 ms.</li> </ul> <p>De lo contrario, el resultado del cálculo se redondea al múltiplo más cercano de 16 ms.</p> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Para calcular los cuantiles de tiempo de carga de la página, esta función es más efectiva y precisa que <a href=#quantile>cuantil</a>.</p> </div> <p><strong>Valor devuelto</strong></p> <ul> <li>Cuantil del nivel especificado.</li> </ul> <p>Tipo: <code>Float32</code>.</p> <div class="admonition note"> <p class=admonition-title>Nota</p> <p>Si no se pasan valores a la función (cuando se <code>quantileTimingIf</code>), <a href=../../data_types/float/#data_type-float-nan-inf>NaN</a> se devuelve. El propósito de esto es diferenciar estos casos de los casos que resultan en cero. Ver <a href=../../statements/select/#select-order-by>ORDER BY cláusula</a> para notas sobre la clasificación <code>NaN</code> valor.</p> </div> <p><strong>Ejemplo</strong></p> <p>Tabla de entrada:</p> <div class=codehilite><pre><span></span><code>┌─response_time─┬─weight─┐
│            68 │      1 │
│           104 │      2 │
│           112 │      3 │
│           126 │      2 │
│           138 │      1 │
│           162 │      1 │
└───────────────┴────────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantileTimingWeighted</span><span class=p>(</span><span class=n>response_time</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantileTimingWeighted(response_time, weight)─┐
│                                           112 │
└───────────────────────────────────────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=quantiletdigest>quantileTDigest<a class=headerlink href=#quantiletdigest title="Permanent link">&para;</a></h2> <p>Calcula un aproximado <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos usando el <a href=https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf rel="external nofollow noreferrer">T-digest</a> algoritmo.</p> <p>El error máximo es 1%. El consumo de memoria es <code>log(n)</code>, donde <code>n</code> es un número de valores. El resultado depende del orden de ejecución de la consulta y no es determinista.</p> <p>El rendimiento de la función es menor que el rendimiento de <a href=#quantile>cuantil</a> o <a href=#quantiletiming>quantileTiming</a>. En términos de la relación entre el tamaño del estado y la precisión, esta función es mucho mejor que <code>quantile</code>.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantileTDigest</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>medianTDigest</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</li> <li><code>expr</code> — Expression over the column values resulting in numeric <a href=../../data_types/#data_types>tipos de datos</a>, <a href=../../data_types/date/ >Fecha</a> o <a href=../../data_types/datetime/ >FechaHora</a>.</li> </ul> <p><strong>Valor devuelto</strong></p> <ul> <li>Cuantil aproximado del nivel especificado.</li> </ul> <p>Tipo:</p> <ul> <li><a href=../../data_types/float/ >Float64</a> para la entrada de tipo de datos numéricos.</li> <li><a href=../../data_types/date/ >Fecha</a> si los valores de entrada tienen <code>Date</code> tipo.</li> <li><a href=../../data_types/datetime/ >FechaHora</a> si los valores de entrada tienen <code>DateTime</code> tipo.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantileTDigest</span><span class=p>(</span><span class=nb>number</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantileTDigest(number)─┐
│                     4.5 │
└─────────────────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=quantiletdigestweighted>quantileTDigestWeighted<a class=headerlink href=#quantiletdigestweighted title="Permanent link">&para;</a></h2> <p>Calcula un aproximado <a href=https://en.wikipedia.org/wiki/Quantile rel="external nofollow noreferrer">cuantil</a> de una secuencia de datos numéricos usando el <a href=https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf rel="external nofollow noreferrer">T-digest</a> algoritmo. La función tiene en cuenta el peso de cada miembro de secuencia. El error máximo es 1%. El consumo de memoria es <code>log(n)</code>, donde <code>n</code> es un número de valores.</p> <p>El rendimiento de la función es menor que el rendimiento de <a href=#quantile>cuantil</a> o <a href=#quantiletiming>quantileTiming</a>. En términos de la relación entre el tamaño del estado y la precisión, esta función es mucho mejor que <code>quantile</code>.</p> <p>El resultado depende del orden de ejecución de la consulta y no es determinista.</p> <p>Cuando se utilizan múltiples <code>quantile*</code> funciones con diferentes niveles en una consulta, los estados internos no se combinan (es decir, la consulta funciona de manera menos eficiente de lo que podría). En este caso, use el <a href=#quantiles>cantiles</a> función.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>quantileTDigest</span><span class=p>(</span><span class=k>level</span><span class=p>)(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p>Apodo: <code>medianTDigest</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li><code>level</code> — Level of quantile. Optional parameter. Constant floating-point number from 0 to 1. We recommend using a <code>level</code> valor en el rango de <code>[0.01, 0.99]</code>. Valor predeterminado: 0.5. En <code>level=0.5</code> la función calcula <a href=https://en.wikipedia.org/wiki/Median rel="external nofollow noreferrer">mediana</a>.</li> <li><code>expr</code> — Expression over the column values resulting in numeric <a href=../../data_types/#data_types>tipos de datos</a>, <a href=../../data_types/date/ >Fecha</a> o <a href=../../data_types/datetime/ >FechaHora</a>.</li> <li><code>weight</code> — Column with weights of sequence elements. Weight is a number of value occurrences.</li> </ul> <p><strong>Valor devuelto</strong></p> <ul> <li>Cuantil aproximado del nivel especificado.</li> </ul> <p>Tipo:</p> <ul> <li><a href=../../data_types/float/ >Float64</a> para la entrada de tipo de datos numéricos.</li> <li><a href=../../data_types/date/ >Fecha</a> si los valores de entrada tienen <code>Date</code> tipo.</li> <li><a href=../../data_types/datetime/ >FechaHora</a> si los valores de entrada tienen <code>DateTime</code> tipo.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>quantileTDigestWeighted</span><span class=p>(</span><span class=nb>number</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─quantileTDigestWeighted(number, 1)─┐
│                                4.5 │
└────────────────────────────────────┘
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#median>mediana</a></li> <li><a href=#quantiles>cantiles</a></li> </ul> <h2 id=median>mediana<a class=headerlink href=#median title="Permanent link">&para;</a></h2> <p>El <code>median*</code> funciones son los alias para el <code>quantile*</code> función. Calculan la mediana de una muestra de datos numéricos.</p> <p>Función:</p> <ul> <li><code>median</code> — Alias for <a href=#quantile>cuantil</a>.</li> <li><code>medianDeterministic</code> — Alias for <a href=#quantiledeterministic>quantileDeterminista</a>.</li> <li><code>medianExact</code> — Alias for <a href=#quantileexact>quantileExact</a>.</li> <li><code>medianExactWeighted</code> — Alias for <a href=#quantileexactweighted>quantileExactWeighted</a>.</li> <li><code>medianTiming</code> — Alias for <a href=#quantiletiming>quantileTiming</a>.</li> <li><code>medianTimingWeighted</code> — Alias for <a href=#quantiletimingweighted>quantileTimingWeighted</a>.</li> <li><code>medianTDigest</code> — Alias for <a href=#quantiletdigest>quantileTDigest</a>.</li> <li><code>medianTDigestWeighted</code> — Alias for <a href=#quantiletdigestweighted>quantileTDigestWeighted</a>.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Tabla de entrada:</p> <div class=codehilite><pre><span></span><code>┌─val─┐
│   1 │
│   1 │
│   2 │
│   3 │
└─────┘
</code></pre></div> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>medianDeterministic</span><span class=p>(</span><span class=n>val</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>t</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─medianDeterministic(val, 1)─┐
│                         1.5 │
└─────────────────────────────┘
</code></pre></div> <h2 id=quantiles>quantiles(level1, level2, …)(x)<a class=headerlink href=#quantiles title="Permanent link">&para;</a></h2> <p>Todas las funciones de cuantiles también tienen funciones de cuantiles correspondientes: <code>quantiles</code>, <code>quantilesDeterministic</code>, <code>quantilesTiming</code>, <code>quantilesTimingWeighted</code>, <code>quantilesExact</code>, <code>quantilesExactWeighted</code>, <code>quantilesTDigest</code>. Estas funciones calculan todos los cuantiles de los niveles enumerados en una sola pasada y devuelven una matriz de los valores resultantes.</p> <h2 id=varsampx>Acerca de Nosotros)<a class=headerlink href=#varsampx title="Permanent link">&para;</a></h2> <p>Calcula la cantidad <code>Σ((x - x̅)^2) / (n - 1)</code>, donde <code>n</code> es el tamaño de la muestra y <code>x̅</code>es el valor promedio de <code>x</code>.</p> <p>Representa una estimación imparcial de la varianza de una variable aleatoria si los valores pasados forman su muestra.</p> <p>Devoluciones <code>Float64</code>. Cuando <code>n &lt;= 1</code>, devoluciones <code>+∞</code>.</p> <h2 id=varpopx>Nombre de la red inalámbrica (SSID):)<a class=headerlink href=#varpopx title="Permanent link">&para;</a></h2> <p>Calcula la cantidad <code>Σ((x - x̅)^2) / n</code>, donde <code>n</code> es el tamaño de la muestra y <code>x̅</code>es el valor promedio de <code>x</code>.</p> <p>En otras palabras, dispersión para un conjunto de valores. Devoluciones <code>Float64</code>.</p> <h2 id=stddevsampx>Soporte técnico)<a class=headerlink href=#stddevsampx title="Permanent link">&para;</a></h2> <p>El resultado es igual a la raíz cuadrada de <code>varSamp(x)</code>.</p> <h2 id=stddevpopx>stddevPop(x)<a class=headerlink href=#stddevpopx title="Permanent link">&para;</a></h2> <p>El resultado es igual a la raíz cuadrada de <code>varPop(x)</code>.</p> <h2 id=topknx>topK(N)(x)<a class=headerlink href=#topknx title="Permanent link">&para;</a></h2> <p>Devuelve una matriz de los valores aproximadamente más frecuentes de la columna especificada. La matriz resultante se ordena en orden descendente de frecuencia aproximada de valores (no por los valores mismos).</p> <p>Implementa el <a href=http://www.l2f.inesc-id.pt/~fmmb/wiki/uploads/Work/misnis.ref0a.pdf rel="external nofollow noreferrer">Ahorro de espacio filtrado</a> algoritmo para analizar TopK, basado en el algoritmo de reducción y combinación de <a href=https://arxiv.org/pdf/1401.0702.pdf rel="external nofollow noreferrer">Ahorro de espacio paralelo</a>.</p> <div class=codehilite><pre><span></span><code><span class=n>topK</span><span class=p>(</span><span class=n>N</span><span class=p>)(</span><span class=k>column</span><span class=p>)</span>
</code></pre></div> <p>Esta función no proporciona un resultado garantizado. En ciertas situaciones, pueden producirse errores y pueden devolver valores frecuentes que no son los valores más frecuentes.</p> <p>Recomendamos usar el <code>N &lt; 10</code> valor; el rendimiento se reduce con grandes <code>N</code> valor. Valor máximo de <code>N = 65536</code>.</p> <p><strong>Parámetros</strong></p> <ul> <li>‘N’ es el número de elementos a devolver.</li> </ul> <p>Si se omite el parámetro, se utiliza el valor predeterminado 10.</p> <p><strong>Argumento</strong></p> <ul> <li>' x ' – The value to calculate frequency.</li> </ul> <p><strong>Ejemplo</strong></p> <p>Tome el <a href=../../../getting_started/example_datasets/ontime/ >A tiempo</a> conjunto de datos y seleccione los tres valores más frecuentes <code>AirlineID</code> columna.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>topK</span><span class=p>(</span><span class=mi>3</span><span class=p>)(</span><span class=n>AirlineID</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
<span class=k>FROM</span> <span class=n>ontime</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─res─────────────────┐
│ [19393,19790,19805] │
└─────────────────────┘
</code></pre></div> <h2 id=topkweighted>topKPeso<a class=headerlink href=#topkweighted title="Permanent link">&para;</a></h2> <p>Similar a <code>topK</code> pero toma un argumento adicional de tipo entero - <code>weight</code>. Cada valor se contabiliza <code>weight</code> veces para el cálculo de la frecuencia.</p> <p><strong>Sintaxis</strong></p> <div class=codehilite><pre><span></span><code><span class=n>topKWeighted</span><span class=p>(</span><span class=n>N</span><span class=p>)(</span><span class=n>x</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <ul> <li><code>N</code> — The number of elements to return.</li> </ul> <p><strong>Argumento</strong></p> <ul> <li><code>x</code> – The value.</li> <li><code>weight</code> — The weight. <a href=../../data_types/int_uint/ >UInt8</a>.</li> </ul> <p><strong>Valor devuelto</strong></p> <p>Devuelve una matriz de los valores con la suma aproximada máxima de pesos.</p> <p><strong>Ejemplo</strong></p> <p>Consulta:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>topKWeighted</span><span class=p>(</span><span class=mi>10</span><span class=p>)(</span><span class=nb>number</span><span class=p>,</span> <span class=nb>number</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
</code></pre></div> <p>Resultado:</p> <div class=codehilite><pre><span></span><code>┌─topKWeighted(10)(number, number)──────────┐
│ [999,998,997,996,995,994,993,992,991,990] │
└───────────────────────────────────────────┘
</code></pre></div> <h2 id=covarsampx-y>covarSamp(x, y)<a class=headerlink href=#covarsampx-y title="Permanent link">&para;</a></h2> <p>Calcula el valor de <code>Σ((x - x̅)(y - y̅)) / (n - 1)</code>.</p> <p>Devuelve Float64. Cuando <code>n &lt;= 1</code>, returns +∞.</p> <h2 id=covarpopx-y>covarPop(x, y)<a class=headerlink href=#covarpopx-y title="Permanent link">&para;</a></h2> <p>Calcula el valor de <code>Σ((x - x̅)(y - y̅)) / n</code>.</p> <h2 id=corrx-y>corr(x, y)<a class=headerlink href=#corrx-y title="Permanent link">&para;</a></h2> <p>Calcula el coeficiente de correlación de Pearson: <code>Σ((x - x̅)(y - y̅)) / sqrt(Σ((x - x̅)^2) * Σ((y - y̅)^2))</code>.</p> <h2 id=categoricalinformationvalue>categoricalInformationValue<a class=headerlink href=#categoricalinformationvalue title="Permanent link">&para;</a></h2> <p>Calcula el valor de <code>(P(tag = 1) - P(tag = 0))(log(P(tag = 1)) - log(P(tag = 0)))</code> para cada categoría.</p> <div class=codehilite><pre><span></span><code><span class=n>categoricalInformationValue</span><span class=p>(</span><span class=n>category1</span><span class=p>,</span> <span class=n>category2</span><span class=p>,</span> <span class=p>...,</span> <span class=n>tag</span><span class=p>)</span>
</code></pre></div> <p>El resultado indica cómo una característica discreta (categórica <code>[category1, category2, ...]</code> contribuir a un modelo de aprendizaje que predice el valor de <code>tag</code>.</p> <h2 id=simplelinearregression>SimpleLinearRegression<a class=headerlink href=#simplelinearregression title="Permanent link">&para;</a></h2> <p>Realiza una regresión lineal simple (unidimensional).</p> <div class=codehilite><pre><span></span><code><span class=n>simpleLinearRegression</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</code></pre></div> <p>Parámetros:</p> <ul> <li><code>x</code> — Column with dependent variable values.</li> <li><code>y</code> — Column with explanatory variable values.</li> </ul> <p>Valores devueltos:</p> <p>Constante <code>(a, b)</code> de la línea resultante <code>y = a*x + b</code>.</p> <p><strong>Ejemplos</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>arrayReduce</span><span class=p>(</span><span class=s1>&#39;simpleLinearRegression&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─arrayReduce(&#39;simpleLinearRegression&#39;, [0, 1, 2, 3], [0, 1, 2, 3])─┐
│ (1,0)                                                             │
└───────────────────────────────────────────────────────────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>arrayReduce</span><span class=p>(</span><span class=s1>&#39;simpleLinearRegression&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─arrayReduce(&#39;simpleLinearRegression&#39;, [0, 1, 2, 3], [3, 4, 5, 6])─┐
│ (1,3)                                                             │
└───────────────────────────────────────────────────────────────────┘
</code></pre></div> <h2 id=agg_functions-stochasticlinearregression>stochasticLinearRegression<a class=headerlink href=#agg_functions-stochasticlinearregression title="Permanent link">&para;</a></h2> <p>Esta función implementa la regresión lineal estocástica. Admite parámetros personalizados para la tasa de aprendizaje, el coeficiente de regularización L2, el tamaño de mini lote y tiene pocos métodos para actualizar los pesos (<a href=https://en.wikipedia.org/wiki/Stochastic_gradient_descent#Adam rel="external nofollow noreferrer">Adán</a> (utilizado por defecto), <a href=https://en.wikipedia.org/wiki/Stochastic_gradient_descent rel="external nofollow noreferrer">SGD simple</a>, <a href=https://en.wikipedia.org/wiki/Stochastic_gradient_descent#Momentum rel="external nofollow noreferrer">Impulso</a>, <a href=https://mipt.ru/upload/medialibrary/d7e/41-91.pdf rel="external nofollow noreferrer">Nesterov</a>).</p> <h3 id=agg_functions-stochasticlinearregression-parameters>Parámetros<a class=headerlink href=#agg_functions-stochasticlinearregression-parameters title="Permanent link">&para;</a></h3> <p>Hay 4 parámetros personalizables. Se pasan a la función secuencialmente, pero no es necesario pasar los cuatro; se usarán valores predeterminados, sin embargo, un buen modelo requirió algún ajuste de parámetros.</p> <div class=codehilite><pre><span></span><code>stochasticLinearRegression(1.0, 1.0, 10, &#39;SGD&#39;)
</code></pre></div> <ol> <li><code>learning rate</code> es el coeficiente en la longitud del paso, cuando se realiza el paso de descenso de gradiente. Una tasa de aprendizaje demasiado grande puede causar pesos infinitos del modelo. El valor predeterminado es <code>0.00001</code>.</li> <li><code>l2 regularization coefficient</code> que puede ayudar a prevenir el sobreajuste. El valor predeterminado es <code>0.1</code>.</li> <li><code>mini-batch size</code> establece el número de elementos, cuyos gradientes se calcularán y sumarán para realizar un paso de descenso de gradiente. El descenso estocástico puro usa un elemento, sin embargo, tener lotes pequeños (aproximadamente 10 elementos) hace que los pasos de gradiente sean más estables. El valor predeterminado es <code>15</code>.</li> <li><code>method for updating weights</code>, son: <code>Adam</code> (predeterminada), <code>SGD</code>, <code>Momentum</code>, <code>Nesterov</code>. <code>Momentum</code> y <code>Nesterov</code> requieren un poco más de cálculos y memoria, sin embargo, resultan útiles en términos de velocidad de convergencia y estabilidad de los métodos de gradiente estocásticos.</li> </ol> <h3 id=agg_functions-stochasticlinearregression-usage>Uso<a class=headerlink href=#agg_functions-stochasticlinearregression-usage title="Permanent link">&para;</a></h3> <p><code>stochasticLinearRegression</code> se utiliza en dos pasos: ajustar el modelo y predecir nuevos datos. Para ajustar el modelo y guardar su estado para su uso posterior, utilizamos <code>-State</code> combinador, que básicamente guarda el estado (pesos del modelo, etc.).<br> Para predecir usamos la función <a href=../../functions/machine_learning_functions/#machine_learning_methods-evalmlmethod>evalMLMethod</a>, que toma un estado como argumento, así como características para predecir.</p> <p><a name=stochasticlinearregression-usage-fitting></a></p> <p><strong>1.</strong> Accesorio</p> <p>Dicha consulta puede ser utilizada.</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>train_data</span>
<span class=p>(</span>
    <span class=n>param1</span> <span class=n>Float64</span><span class=p>,</span>
    <span class=n>param2</span> <span class=n>Float64</span><span class=p>,</span>
    <span class=n>target</span> <span class=n>Float64</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>

<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>your_model</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span> <span class=k>AS</span> <span class=k>SELECT</span>
<span class=n>stochasticLinearRegressionState</span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>.</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=s1>&#39;SGD&#39;</span><span class=p>)(</span><span class=n>target</span><span class=p>,</span> <span class=n>param1</span><span class=p>,</span> <span class=n>param2</span><span class=p>)</span>
<span class=k>AS</span> <span class=k>state</span> <span class=k>FROM</span> <span class=n>train_data</span><span class=p>;</span>
</code></pre></div> <p>Aquí también tenemos que insertar datos en <code>train_data</code> tabla. El número de parámetros no es fijo, depende solo del número de argumentos, pasados a <code>linearRegressionState</code>. Todos deben ser valores numéricos.<br> Tenga en cuenta que la columna con valor objetivo (que nos gustaría aprender a predecir) se inserta como primer argumento.</p> <p><strong>2.</strong> Predecir</p> <p>Después de guardar un estado en la tabla, podemos usarlo varias veces para la predicción, o incluso fusionarlo con otros estados y crear nuevos modelos aún mejores.</p> <div class=codehilite><pre><span></span><code><span class=k>WITH</span> <span class=p>(</span><span class=k>SELECT</span> <span class=k>state</span> <span class=k>FROM</span> <span class=n>your_model</span><span class=p>)</span> <span class=k>AS</span> <span class=n>model</span> <span class=k>SELECT</span>
<span class=n>evalMLMethod</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>param1</span><span class=p>,</span> <span class=n>param2</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>test_data</span>
</code></pre></div> <p>La consulta devolverá una columna de valores predichos. Tenga en cuenta que el primer argumento de <code>evalMLMethod</code> ser <code>AggregateFunctionState</code> objeto, siguiente son columnas de características.</p> <p><code>test_data</code> es una mesa como <code>train_data</code> pero puede no contener el valor objetivo.</p> <h3 id=agg_functions-stochasticlinearregression-notes>Nota<a class=headerlink href=#agg_functions-stochasticlinearregression-notes title="Permanent link">&para;</a></h3> <ol> <li> <p>Para fusionar dos modelos, el usuario puede crear dicha consulta:<br> <code>sql SELECT state1 + state2 FROM your_models</code><br> donde <code>your_models</code> la tabla contiene ambos modelos. Esta consulta devolverá un nuevo <code>AggregateFunctionState</code> objeto.</p> </li> <li> <p>El usuario puede obtener pesos del modelo creado para sus propios fines sin guardar el modelo si no <code>-State</code> combinador se utiliza.<br> <code>sql SELECT stochasticLinearRegression(0.01)(target, param1, param2) FROM train_data</code><br> Dicha consulta se ajustará al modelo y devolverá sus pesos: primero son los pesos, que corresponden a los parámetros del modelo, el último es el sesgo. Entonces, en el ejemplo anterior, la consulta devolverá una columna con 3 valores.</p> </li> </ol> <p><strong>Ver también</strong></p> <ul> <li><a href=#agg_functions-stochasticlogisticregression>stochasticLogisticRegression</a></li> <li><a href=https://stackoverflow.com/questions/12146914/what-is-the-difference-between-linear-regression-and-logistic-regression rel="external nofollow noreferrer">Diferencia entre regresiones lineales y logísticas</a></li> </ul> <h2 id=agg_functions-stochasticlogisticregression>stochasticLogisticRegression<a class=headerlink href=#agg_functions-stochasticlogisticregression title="Permanent link">&para;</a></h2> <p>Esta función implementa la regresión logística estocástica. Se puede usar para problemas de clasificación binaria, admite los mismos parámetros personalizados que stochasticLinearRegression y funciona de la misma manera.</p> <h3 id=agg_functions-stochasticlogisticregression-parameters>Parámetros<a class=headerlink href=#agg_functions-stochasticlogisticregression-parameters title="Permanent link">&para;</a></h3> <p>Los parámetros son exactamente los mismos que en stochasticLinearRegression:<br> <code>learning rate</code>, <code>l2 regularization coefficient</code>, <code>mini-batch size</code>, <code>method for updating weights</code>.<br> Para obtener más información, consulte <a href=#agg_functions-stochasticlinearregression-parameters>parámetros</a>.</p> <div class=codehilite><pre><span></span><code>stochasticLogisticRegression(1.0, 1.0, 10, &#39;SGD&#39;)
</code></pre></div> <ol> <li>Accesorio</li> </ol> <!-- --> <div class=codehilite><pre><span></span><code><span class=n>See</span> <span class=n>the</span> <span class=ss>`Fitting`</span> <span class=n>section</span> <span class=k>in</span> <span class=n>the</span> <span class=p>[</span><span class=n>stochasticLinearRegression</span><span class=p>](</span><span class=c1>#stochasticlinearregression-usage-fitting) description.</span>

<span class=n>Predicted</span> <span class=n>labels</span> <span class=n>have</span> <span class=k>to</span> <span class=n>be</span> <span class=k>in</span> <span class=err>\</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=err>\</span><span class=p>].</span>
</code></pre></div> <ol> <li>Predecir</li> </ol> <!-- --> <div class=codehilite><pre><span></span><code><span class=k>Using</span> <span class=n>saved</span> <span class=n>state</span> <span class=n>we</span> <span class=n>can</span> <span class=n>predict</span> <span class=n>probability</span> <span class=n>of</span> <span class=n>object</span> <span class=k>having</span> <span class=n>label</span> <span class=ss>`1`</span><span class=p>.</span>

<span class=ss>``` sql</span>
<span class=ss>WITH (SELECT state FROM your_model) AS model SELECT</span>
<span class=ss>evalMLMethod(model, param1, param2) FROM test_data</span>
<span class=ss>```</span>

<span class=n>The</span> <span class=n>query</span> <span class=n>will</span> <span class=k>return</span> <span class=n>a</span> <span class=k>column</span> <span class=n>of</span> <span class=n>probabilities</span><span class=p>.</span> <span class=n>Note</span> <span class=n>that</span> <span class=n>first</span> <span class=n>argument</span> <span class=n>of</span> <span class=ss>`evalMLMethod`</span> <span class=k>is</span> <span class=ss>`AggregateFunctionState`</span> <span class=n>object</span><span class=p>,</span> <span class=n>next</span> <span class=n>are</span> <span class=n>columns</span> <span class=n>of</span> <span class=n>features</span><span class=p>.</span>

<span class=n>We</span> <span class=n>can</span> <span class=n>also</span> <span class=kt>set</span> <span class=n>a</span> <span class=n>bound</span> <span class=n>of</span> <span class=n>probability</span><span class=p>,</span> <span class=n>which</span> <span class=n>assigns</span> <span class=n>elements</span> <span class=k>to</span> <span class=n>different</span> <span class=n>labels</span><span class=p>.</span>

<span class=ss>``` sql</span>
<span class=ss>SELECT ans &lt; 1.1 AND ans &gt; 0.5 FROM</span>
<span class=ss>(WITH (SELECT state FROM your_model) AS model SELECT</span>
<span class=ss>evalMLMethod(model, param1, param2) AS ans FROM test_data)</span>
<span class=ss>```</span>

<span class=k>Then</span> <span class=n>the</span> <span class=n>result</span> <span class=n>will</span> <span class=n>be</span> <span class=n>labels</span><span class=p>.</span>

<span class=ss>`test_data`</span> <span class=k>is</span> <span class=n>a</span> <span class=k>table</span> <span class=k>like</span> <span class=ss>`train_data`</span> <span class=n>but</span> <span class=n>may</span> <span class=k>not</span> <span class=n>contain</span> <span class=n>target</span> <span class=n>value</span><span class=p>.</span>
</code></pre></div> <p><strong>Ver también</strong></p> <ul> <li><a href=#agg_functions-stochasticlinearregression>stochasticLinearRegression</a></li> <li><a href=https://stackoverflow.com/questions/12146914/what-is-the-difference-between-linear-regression-and-logistic-regression rel="external nofollow noreferrer">Diferencia entre regresiones lineales y logísticas.</a></li> </ul> <h2 id=groupbitmapand>Método de codificación de datos:<a class=headerlink href=#groupbitmapand title="Permanent link">&para;</a></h2> <p>Calcula el AND de una columna de mapa de bits, devuelve la cardinalidad del tipo UInt64, si agrega el sufijo -State, luego devuelve <a href=../../functions/bitmap_functions/ >objeto de mapa de bits</a>.</p> <div class=codehilite><pre><span></span><code><span class=n>groupBitmapAnd</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> – An expression that results in <code>AggregateFunction(groupBitmap, UInt*)</code> tipo.</p> <p><strong>Valor de retorno</strong></p> <p>Valor de la <code>UInt64</code> tipo.</p> <p><strong>Ejemplo</strong></p> <div class=codehilite><pre><span></span><code><span class=k>DROP</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>EXISTS</span> <span class=n>bitmap_column_expr_test2</span><span class=p>;</span>
<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>bitmap_column_expr_test2</span>
<span class=p>(</span>
    <span class=n>tag_id</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>z</span> <span class=n>AggregateFunction</span><span class=p>(</span><span class=n>groupBitmap</span><span class=p>,</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>tag_id</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag1&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag2&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag3&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>12</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>

<span class=k>SELECT</span> <span class=n>groupBitmapAnd</span><span class=p>(</span><span class=n>z</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>&#39;tag%&#39;</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>groupBitmapAnd</span><span class=p>(</span><span class=n>z</span><span class=p>)</span><span class=err>─┐</span>
<span class=err>│</span>               <span class=mi>3</span>   <span class=err>│</span>
<span class=err>└───────────────────┘</span>

<span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapAndState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>&#39;tag%&#39;</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapAndState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span><span class=err>─┐</span>
<span class=err>│</span> <span class=p>[</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span>                                         <span class=err>│</span>
<span class=err>└──────────────────────────────────────────────────┘</span>
</code></pre></div> <h2 id=groupbitmapor>Método de codificación de datos:<a class=headerlink href=#groupbitmapor title="Permanent link">&para;</a></h2> <p>Calcula el OR de una columna de mapa de bits, devuelve la cardinalidad del tipo UInt64, si agrega el sufijo -State, luego devuelve <a href=../../functions/bitmap_functions/ >objeto de mapa de bits</a>. Esto es equivalente a <code>groupBitmapMerge</code>.</p> <div class=codehilite><pre><span></span><code><span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> – An expression that results in <code>AggregateFunction(groupBitmap, UInt*)</code> tipo.</p> <p><strong>Valor de retorno</strong></p> <p>Valor de la <code>UInt64</code> tipo.</p> <p><strong>Ejemplo</strong></p> <div class=codehilite><pre><span></span><code><span class=k>DROP</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>EXISTS</span> <span class=n>bitmap_column_expr_test2</span><span class=p>;</span>
<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>bitmap_column_expr_test2</span>
<span class=p>(</span>
    <span class=n>tag_id</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>z</span> <span class=n>AggregateFunction</span><span class=p>(</span><span class=n>groupBitmap</span><span class=p>,</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>tag_id</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag1&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag2&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag3&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>12</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>

<span class=k>SELECT</span> <span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>z</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>&#39;tag%&#39;</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>z</span><span class=p>)</span><span class=err>─┐</span>
<span class=err>│</span>             <span class=mi>15</span>   <span class=err>│</span>
<span class=err>└──────────────────┘</span>

<span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapOrState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>&#39;tag%&#39;</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapOrState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span><span class=err>─┐</span>
<span class=err>│</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span>           <span class=err>│</span>
<span class=err>└─────────────────────────────────────────────────┘</span>
</code></pre></div> <h2 id=groupbitmapxor>Método de codificación de datos:<a class=headerlink href=#groupbitmapxor title="Permanent link">&para;</a></h2> <p>Calcula el XOR de una columna de mapa de bits, devuelve la cardinalidad del tipo UInt64, si agrega el sufijo -State, luego devuelve <a href=../../functions/bitmap_functions/ >objeto de mapa de bits</a>.</p> <div class=codehilite><pre><span></span><code><span class=n>groupBitmapOr</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
</code></pre></div> <p><strong>Parámetros</strong></p> <p><code>expr</code> – An expression that results in <code>AggregateFunction(groupBitmap, UInt*)</code> tipo.</p> <p><strong>Valor de retorno</strong></p> <p>Valor de la <code>UInt64</code> tipo.</p> <p><strong>Ejemplo</strong></p> <div class=codehilite><pre><span></span><code><span class=k>DROP</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>EXISTS</span> <span class=n>bitmap_column_expr_test2</span><span class=p>;</span>
<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>bitmap_column_expr_test2</span>
<span class=p>(</span>
    <span class=n>tag_id</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>z</span> <span class=n>AggregateFunction</span><span class=p>(</span><span class=n>groupBitmap</span><span class=p>,</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>tag_id</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag1&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag2&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;tag3&#39;</span><span class=p>,</span> <span class=n>bitmapBuild</span><span class=p>(</span><span class=k>cast</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>12</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>))));</span>

<span class=k>SELECT</span> <span class=n>groupBitmapXor</span><span class=p>(</span><span class=n>z</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>&#39;tag%&#39;</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>groupBitmapXor</span><span class=p>(</span><span class=n>z</span><span class=p>)</span><span class=err>─┐</span>
<span class=err>│</span>              <span class=mi>10</span>   <span class=err>│</span>
<span class=err>└───────────────────┘</span>

<span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapXorState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span> <span class=k>FROM</span> <span class=n>bitmap_column_expr_test2</span> <span class=k>WHERE</span> <span class=k>like</span><span class=p>(</span><span class=n>tag_id</span><span class=p>,</span> <span class=s1>&#39;tag%&#39;</span><span class=p>);</span>
<span class=err>┌─</span><span class=n>arraySort</span><span class=p>(</span><span class=n>bitmapToArray</span><span class=p>(</span><span class=n>groupBitmapXorState</span><span class=p>(</span><span class=n>z</span><span class=p>)))</span><span class=err>─┐</span>
<span class=err>│</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>15</span><span class=p>]</span>                       <span class=err>│</span>
<span class=err>└──────────────────────────────────────────────────┘</span>
</code></pre></div> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Construido a partir de <a href=https://github.com/ClickHouse/ClickHouse/commit/3166eab2dfc89323b9d756aeba6866381fd9c186 rel="external nofollow noreferrer" target=_blank class=text-reset>3166eab2df</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Tabla de contenido</label> <a href=#agg_function-count title=contar class="nav-link text-wrap d-inline-block w-100"> contar </a> <a href=#agg_function-any title="cualquiera (x)" class="nav-link text-wrap d-inline-block w-100"> cualquiera (x) </a> <a href=#anyheavyx title="Cualquier pesado (x)" class="nav-link text-wrap d-inline-block w-100"> Cualquier pesado (x) </a> <a href=#anylastx title="Cualquier último (x)" class="nav-link text-wrap d-inline-block w-100"> Cualquier último (x) </a> <a href=#groupbitand title="Método de codificación de datos:" class="nav-link text-wrap d-inline-block w-100"> Método de codificación de datos: </a> <a href=#groupbitor title=GrupoBitO class="nav-link text-wrap d-inline-block w-100"> GrupoBitO </a> <a href=#groupbitxor title=GrupoBitXor class="nav-link text-wrap d-inline-block w-100"> GrupoBitXor </a> <a href=#groupbitmap title="Método de codificación de datos:" class="nav-link text-wrap d-inline-block w-100"> Método de codificación de datos: </a> <a href=#agg_function-min title="Mínimo (x)" class="nav-link text-wrap d-inline-block w-100"> Mínimo (x) </a> <a href=#agg_function-max title="máximo (x)" class="nav-link text-wrap d-inline-block w-100"> máximo (x) </a> <a href=#agg-function-argmin title="¿Cómo puedo hacerlo?)" class="nav-link text-wrap d-inline-block w-100"> ¿Cómo puedo hacerlo?) </a> <a href=#agg-function-argmax title=Descripción) class="nav-link text-wrap d-inline-block w-100"> Descripción) </a> <a href=#agg_function-sum title="suma (x)" class="nav-link text-wrap d-inline-block w-100"> suma (x) </a> <a href=#sumwithoverflowx title="¿Cómo puedo obtener más información?)" class="nav-link text-wrap d-inline-block w-100"> ¿Cómo puedo obtener más información?) </a> <a href=#agg_functions-summap title="sumMap(clave, valor)" class="nav-link text-wrap d-inline-block w-100"> sumMap(clave, valor) </a> <a href=#skewpop title=SkewPop class="nav-link text-wrap d-inline-block w-100"> SkewPop </a> <a href=#skewsamp title="Sistema abierto." class="nav-link text-wrap d-inline-block w-100"> Sistema abierto. </a> <a href=#kurtpop title=KurtPop class="nav-link text-wrap d-inline-block w-100"> KurtPop </a> <a href=#kurtsamp title=KurtSamp class="nav-link text-wrap d-inline-block w-100"> KurtSamp </a> <a href=#agg-function-timeseriesgroupsum title="Para obtener más información, consulta nuestra Política de privacidad y nuestras Condiciones de uso)" class="nav-link text-wrap d-inline-block w-100"> Para obtener más información, consulta nuestra Política de privacidad y nuestras Condiciones de uso) </a> <a href=#agg-function-timeseriesgroupratesum title="También puede utilizar el siguiente ejemplo:)" class="nav-link text-wrap d-inline-block w-100"> También puede utilizar el siguiente ejemplo:) </a> <a href=#agg_function-avg title="Acerca de)" class="nav-link text-wrap d-inline-block w-100"> Acerca de) </a> <a href=#agg_function-uniq title=uniq class="nav-link text-wrap d-inline-block w-100"> uniq </a> <a href=#agg_function-uniqcombined title=uniqCombined class="nav-link text-wrap d-inline-block w-100"> uniqCombined </a> <a href=#agg_function-uniqcombined64 title=UniqCombined64 class="nav-link text-wrap d-inline-block w-100"> UniqCombined64 </a> <a href=#agg_function-uniqhll12 title=uniqHLL12 class="nav-link text-wrap d-inline-block w-100"> uniqHLL12 </a> <a href=#agg_function-uniqexact title=uniqExact class="nav-link text-wrap d-inline-block w-100"> uniqExact </a> <a href=#agg_function-grouparray title="¿Cómo puedo hacerlo?)" class="nav-link text-wrap d-inline-block w-100"> ¿Cómo puedo hacerlo?) </a> <a href=#grouparrayinsertatvalue-position title="Para obtener más información, consulte el siguiente enlace:)" class="nav-link text-wrap d-inline-block w-100"> Para obtener más información, consulte el siguiente enlace:) </a> <a href=#agg_function-grouparraymovingsum title=groupArrayMovingSum class="nav-link text-wrap d-inline-block w-100"> groupArrayMovingSum </a> <a href=#agg_function-grouparraymovingavg title="Método de codificación de datos:" class="nav-link text-wrap d-inline-block w-100"> Método de codificación de datos: </a> <a href=#groupuniqarrayx-groupuniqarraymax-sizex title="¿Cómo puedo obtener más información?)" class="nav-link text-wrap d-inline-block w-100"> ¿Cómo puedo obtener más información?) </a> <a href=#quantile title=cuantil class="nav-link text-wrap d-inline-block w-100"> cuantil </a> <a href=#quantiledeterministic title=quantileDeterminista class="nav-link text-wrap d-inline-block w-100"> quantileDeterminista </a> <a href=#quantileexact title=quantileExact class="nav-link text-wrap d-inline-block w-100"> quantileExact </a> <a href=#quantileexactweighted title=quantileExactWeighted class="nav-link text-wrap d-inline-block w-100"> quantileExactWeighted </a> <a href=#quantiletiming title=quantileTiming class="nav-link text-wrap d-inline-block w-100"> quantileTiming </a> <a href=#quantiletimingweighted title=quantileTimingWeighted class="nav-link text-wrap d-inline-block w-100"> quantileTimingWeighted </a> <a href=#quantiletdigest title=quantileTDigest class="nav-link text-wrap d-inline-block w-100"> quantileTDigest </a> <a href=#quantiletdigestweighted title=quantileTDigestWeighted class="nav-link text-wrap d-inline-block w-100"> quantileTDigestWeighted </a> <a href=#median title=mediana class="nav-link text-wrap d-inline-block w-100"> mediana </a> <a href=#quantiles title="quantiles(level1, level2, …)(x)" class="nav-link text-wrap d-inline-block w-100"> quantiles(level1, level2, …)(x) </a> <a href=#varsampx title="Acerca de Nosotros)" class="nav-link text-wrap d-inline-block w-100"> Acerca de Nosotros) </a> <a href=#varpopx title="Nombre de la red inalámbrica (SSID):)" class="nav-link text-wrap d-inline-block w-100"> Nombre de la red inalámbrica (SSID):) </a> <a href=#stddevsampx title="Soporte técnico)" class="nav-link text-wrap d-inline-block w-100"> Soporte técnico) </a> <a href=#stddevpopx title=stddevPop(x) class="nav-link text-wrap d-inline-block w-100"> stddevPop(x) </a> <a href=#topknx title=topK(N)(x) class="nav-link text-wrap d-inline-block w-100"> topK(N)(x) </a> <a href=#topkweighted title=topKPeso class="nav-link text-wrap d-inline-block w-100"> topKPeso </a> <a href=#covarsampx-y title="covarSamp(x, y)" class="nav-link text-wrap d-inline-block w-100"> covarSamp(x, y) </a> <a href=#covarpopx-y title="covarPop(x, y)" class="nav-link text-wrap d-inline-block w-100"> covarPop(x, y) </a> <a href=#corrx-y title="corr(x, y)" class="nav-link text-wrap d-inline-block w-100"> corr(x, y) </a> <a href=#categoricalinformationvalue title=categoricalInformationValue class="nav-link text-wrap d-inline-block w-100"> categoricalInformationValue </a> <a href=#simplelinearregression title=SimpleLinearRegression class="nav-link text-wrap d-inline-block w-100"> SimpleLinearRegression </a> <a href=#agg_functions-stochasticlinearregression title=stochasticLinearRegression class="nav-link text-wrap d-inline-block w-100"> stochasticLinearRegression </a> <nav id=toc-toc-54 class="nav flex-column pl-2"> <a href=#agg_functions-stochasticlinearregression-parameters title=Parámetros class="nav-link text-wrap d-inline-block w-100"> Parámetros </a> <a href=#agg_functions-stochasticlinearregression-usage title=Uso class="nav-link text-wrap d-inline-block w-100"> Uso </a> <a href=#agg_functions-stochasticlinearregression-notes title=Nota class="nav-link text-wrap d-inline-block w-100"> Nota </a> </nav> <a href=#agg_functions-stochasticlogisticregression title=stochasticLogisticRegression class="nav-link text-wrap d-inline-block w-100"> stochasticLogisticRegression </a> <nav id=toc-toc-55 class="nav flex-column pl-2"> <a href=#agg_functions-stochasticlogisticregression-parameters title=Parámetros class="nav-link text-wrap d-inline-block w-100"> Parámetros </a> </nav> <a href=#groupbitmapand title="Método de codificación de datos:" class="nav-link text-wrap d-inline-block w-100"> Método de codificación de datos: </a> <a href=#groupbitmapor title="Método de codificación de datos:" class="nav-link text-wrap d-inline-block w-100"> Método de codificación de datos: </a> <a href=#groupbitmapxor title="Método de codificación de datos:" class="nav-link text-wrap d-inline-block w-100"> Método de codificación de datos: </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>