<!DOCTYPE html><html lang=ja data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>C++コードの書き方 - ClickHouseドキュメント</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="C++コードの書き方 - ClickHouseドキュメント "><meta property=og:description content="C++コードの書き方 一般的な推奨事項 1. 以下は要件ではなく推奨事項です。 2. コードを編集している場合は、既存のコードの書式設定に従うことが理にかなっています。 3. 一貫性のためにコードスタイルが必要です。 一貫性により、コードを"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="C++コードの書き方 - ClickHouseドキュメント "><meta name=description content="C++コードの書き方 一般的な推奨事項 1. 以下は要件ではなく推奨事項です。 2. コードを編集している場合は、既存のコードの書式設定に従うことが理にかなっています。 3. 一貫性のためにコードスタイルが必要です。 一貫性により、コードを"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> C++コードの書き方 </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/development/style.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/ja.svg alt=日本語 title=日本語 width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/development/style/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/development/style/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/development/style/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/development/style/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/development/style/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/development/style/ class="dropdown-item disabled"> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/development/style/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label=複数ページまたは単一ページ> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt=複数ページバージョン title=複数ページバージョン> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt=単一ページ版 title=単一ページ版> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> バージョン: <span class=text-light>最新の</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/ja/ class="dropdown-item disable"> <span class=text-light>最新の</span> </a> <a href=/docs/v20.3/ja/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/ja/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/ja/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/ja/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/ja/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/ja/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/ja/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/ja/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/ja/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/ja/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/ja/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../introduction/distinctive_features/ title=特徴的な機能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">特徴的な機能</a> <a href=../../introduction/features_considered_disadvantages/ title=欠点と見なすことができるClickHouseの機能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">欠点と見なすことができるClickHouseの機能</a> <a href=../../introduction/performance/ title=パフォーマンス class="nav-link text-light text-wrap d-inline-block w-100 px-0">パフォーマンス</a> <a href=../../introduction/history/ title=歴史 class="nav-link text-light text-wrap d-inline-block w-100 px-0">歴史</a> <a href=../../introduction/adopters/ title=アーリーアダプター class="nav-link text-light text-wrap d-inline-block w-100 px-0">アーリーアダプター</a> </nav> </div> <a href=../../ title=概観 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概観</a> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/ title=隠された class="nav-link text-light text-wrap d-inline-block w-100 px-0">隠された</a> <a href=../../getting_started/install/ title=設置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">設置</a> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/example_datasets/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../getting_started/example_datasets/ontime/ title=オンタイム class="nav-link text-light text-wrap d-inline-block w-100 px-0">オンタイム</a> <a href=../../getting_started/example_datasets/nyc_taxi/ title=ニューヨーク class="nav-link text-light text-wrap d-inline-block w-100 px-0">ニューヨーク</a> <a href=../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Dataベンチマーク" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Dataベンチマーク</a> <a href=../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../getting_started/example_datasets/criteo/ title=CriteoからのTerabyteクリックログ class="nav-link text-light text-wrap d-inline-block w-100 px-0">CriteoからのTerabyteクリックログ</a> <a href=../../getting_started/example_datasets/star_schema/ title=スタースキーマのベンチマーク class="nav-link text-light text-wrap d-inline-block w-100 px-0">スタースキーマのベンチマーク</a> <a href=../../getting_started/example_datasets/metrica/ title=Yandexの。Metricaデータ class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandexの。Metricaデータ</a> </nav> </div> <a href=../../getting_started/tutorial/ title=Tutorial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a> <a href=../../getting_started/playground/ title=遊び場 class="nav-link text-light text-wrap d-inline-block w-100 px-0">遊び場</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../interfaces/cli/ title=コマンドライン class="nav-link text-light text-wrap d-inline-block w-100 px-0">コマンドライン</a> <a href=../../interfaces/tcp/ title=ネイティブインタフェース(TCP) class="nav-link text-light text-wrap d-inline-block w-100 px-0">ネイティブインタフェース(TCP)</a> <a href=../../interfaces/http/ title=HTTPインター class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTPインター</a> <a href=../../interfaces/mysql/ title=MySQLイン class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQLイン</a> <a href=../../interfaces/formats/ title=入力および出力形式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">入力および出力形式</a> <a href=../../interfaces/jdbc/ title=JDBCドライバ class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBCドライバ</a> <a href=../../interfaces/odbc/ title=ODBCドライバ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBCドライバ</a> <a href=../../interfaces/cpp/ title=C++クライアント class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++クライアント</a> <a href=#sidebar-sidebar-4-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-10 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-4-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../interfaces/third-party/client_libraries/ title=クライアント class="nav-link text-light text-wrap d-inline-block w-100 px-0">クライアント</a> <a href=../../interfaces/third-party/integrations/ title=統合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">統合</a> <a href=../../interfaces/third-party/gui/ title=ビジュアル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ビジュアル</a> <a href=../../interfaces/third-party/proxy/ title=プロキシ class="nav-link text-light text-wrap d-inline-block w-100 px-0">プロキシ</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../engines/table_engines/mergetree_family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../engines/table_engines/mergetree_family/replication/ title=データ複製 class="nav-link text-light text-wrap d-inline-block w-100 px-0">データ複製</a> <a href=../../engines/table_engines/mergetree_family/custom_partitioning_key/ title=カスタム分割キー class="nav-link text-light text-wrap d-inline-block w-100 px-0">カスタム分割キー</a> <a href=../../engines/table_engines/mergetree_family/replacingmergetree/ title=ﾂつｨﾂ姪 ﾂつ&quot;ﾂ債ﾂつｹ&quot; class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂつｨﾂ姪"ﾂつ"ﾂ債ﾂつｹ</a> <a href=../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=ﾂつｨﾂ姪 ﾂつ&quot;ﾂ債ﾂづｭﾂつｹ&quot; class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂつｨﾂ姪"ﾂつ"ﾂ債ﾂづｭﾂつｹ</a> <a href=../../engines/table_engines/mergetree_family/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/graphitemergetree/ title=グラフィットメールグツリー class="nav-link text-light text-wrap d-inline-block w-100 px-0">グラフィットメールグツリー</a> </nav> </div> <a href=#sidebar-sidebar-5-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-5-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../engines/table_engines/log_family/log_family/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../engines/table_engines/log_family/stripelog/ title=ストリップログ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ストリップログ</a> <a href=../../engines/table_engines/log_family/log/ title=ログ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ログ</a> <a href=../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-5-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../engines/table_engines/integrations/kafka/ title=カフカname class="nav-link text-light text-wrap d-inline-block w-100 px-0">カフカname</a> <a href=../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-5-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../engines/table_engines/special/distributed/ title=分散 class="nav-link text-light text-wrap d-inline-block w-100 px-0">分散</a> <a href=../../engines/table_engines/special/external_data/ title=外部データ class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部データ</a> <a href=../../engines/table_engines/special/dictionary/ title=辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書</a> <a href=../../engines/table_engines/special/merge/ title=マージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">マージ</a> <a href=../../engines/table_engines/special/file/ title=ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ファイル</a> <a href=../../engines/table_engines/special/null/ title=ヌル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ヌル</a> <a href=../../engines/table_engines/special/set/ title=セット class="nav-link text-light text-wrap d-inline-block w-100 px-0">セット</a> <a href=../../engines/table_engines/special/join/ title=参加 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参加</a> <a href=../../engines/table_engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../engines/table_engines/special/view/ title=ビュー class="nav-link text-light text-wrap d-inline-block w-100 px-0">ビュー</a> <a href=../../engines/table_engines/special/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../engines/table_engines/special/memory/ title=メモリ class="nav-link text-light text-wrap d-inline-block w-100 px-0">メモリ</a> <a href=../../engines/table_engines/special/buffer/ title=バッファ class="nav-link text-light text-wrap d-inline-block w-100 px-0">バッファ</a> <a href=../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/database_engines/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/database_engines/lazy/ title=怠け者 class="nav-link text-light text-wrap d-inline-block w-100 px-0">怠け者</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/ title=隠された class="nav-link text-light text-wrap d-inline-block w-100 px-0">隠された</a> <a href=#sidebar-sidebar-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-2 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../sql_reference/statements/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../sql_reference/statements/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../sql_reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../sql_reference/statements/misc/ title=その他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">その他</a> </nav> </div> <a href=../../sql_reference/syntax/ title=構文 class="nav-link text-light text-wrap d-inline-block w-100 px-0">構文</a> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/functions/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../sql_reference/functions/arithmetic_functions/ title=算数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">算数</a> <a href=../../sql_reference/functions/comparison_functions/ title=比較 class="nav-link text-light text-wrap d-inline-block w-100 px-0">比較</a> <a href=../../sql_reference/functions/logical_functions/ title=論理 class="nav-link text-light text-wrap d-inline-block w-100 px-0">論理</a> <a href=../../sql_reference/functions/type_conversion_functions/ title=タイプ変換 class="nav-link text-light text-wrap d-inline-block w-100 px-0">タイプ変換</a> <a href=../../sql_reference/functions/date_time_functions/ title=日付と時刻の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日付と時刻の操作</a> <a href=../../sql_reference/functions/string_functions/ title=文字列の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列の操作</a> <a href=../../sql_reference/functions/string_search_functions/ title=文字列を検索する場合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列を検索する場合</a> <a href=../../sql_reference/functions/string_replace_functions/ title=文字列で置換する場合 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列で置換する場合</a> <a href=../../sql_reference/functions/conditional_functions/ title=条件付き class="nav-link text-light text-wrap d-inline-block w-100 px-0">条件付き</a> <a href=../../sql_reference/functions/math_functions/ title=数学 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数学</a> <a href=../../sql_reference/functions/rounding_functions/ title=丸め class="nav-link text-light text-wrap d-inline-block w-100 px-0">丸め</a> <a href=../../sql_reference/functions/array_functions/ title=配列の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配列の操作</a> <a href=../../sql_reference/functions/splitting_merging_functions/ title=文字列と配列の分割とマージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列と配列の分割とマージ</a> <a href=../../sql_reference/functions/bit_functions/ title=ビット class="nav-link text-light text-wrap d-inline-block w-100 px-0">ビット</a> <a href=../../sql_reference/functions/bitmap_functions/ title=Bitmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bitmap</a> <a href=../../sql_reference/functions/hash_functions/ title=ハッシュ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ハッシュ</a> <a href=../../sql_reference/functions/random_functions/ title=擬似乱数の生成 class="nav-link text-light text-wrap d-inline-block w-100 px-0">擬似乱数の生成</a> <a href=../../sql_reference/functions/encoding_functions/ title=エンコード class="nav-link text-light text-wrap d-inline-block w-100 px-0">エンコード</a> <a href=../../sql_reference/functions/uuid_functions/ title=UUIDの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUIDの操作</a> <a href=../../sql_reference/functions/url_functions/ title=Urlの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Urlの操作</a> <a href=../../sql_reference/functions/ip_address_functions/ title=IPアドレスの操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPアドレスの操作</a> <a href=../../sql_reference/functions/json_functions/ title=JSONでの作業 class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSONでの作業</a> <a href=../../sql_reference/functions/higher_order_functions/ title=より高い次数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">より高い次数</a> <a href=../../sql_reference/functions/ext_dict_functions/ title=外部辞書の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部辞書の操作</a> <a href=../../sql_reference/functions/ym_dict_functions/ title=Yandexのでの作業。メトリカ辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandexのでの作業。メトリカ辞書</a> <a href=../../sql_reference/functions/in_functions/ title=IN演算子の実装 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN演算子の実装</a> <a href=../../sql_reference/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../sql_reference/functions/geo/ title=地理座標の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">地理座標の操作</a> <a href=../../sql_reference/functions/functions_for_nulls/ title=ヌル可能な引数の操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ヌル可能な引数の操作</a> <a href=../../sql_reference/functions/machine_learning_functions/ title=機械学習の機能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">機械学習の機能</a> <a href=../../sql_reference/functions/introspection/ title=イントロスペクション class="nav-link text-light text-wrap d-inline-block w-100 px-0">イントロスペクション</a> <a href=../../sql_reference/functions/other_functions/ title=その他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">その他</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/aggregate_functions/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../sql_reference/aggregate_functions/reference/ title=参照 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参照</a> <a href=../../sql_reference/aggregate_functions/combinators/ title=集計関数のコンビネータ class="nav-link text-light text-wrap d-inline-block w-100 px-0">集計関数のコンビネータ</a> <a href=../../sql_reference/aggregate_functions/parametric_functions/ title=パラメトリック集計関数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">パラメトリック集計関数</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/table_functions/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../sql_reference/table_functions/file/ title=ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">ファイル</a> <a href=../../sql_reference/table_functions/merge/ title=マージ class="nav-link text-light text-wrap d-inline-block w-100 px-0">マージ</a> <a href=../../sql_reference/table_functions/numbers/ title=数字 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数字</a> <a href=../../sql_reference/table_functions/remote/ title=リモート class="nav-link text-light text-wrap d-inline-block w-100 px-0">リモート</a> <a href=../../sql_reference/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../sql_reference/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../sql_reference/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../sql_reference/table_functions/input/ title=入力 class="nav-link text-light text-wrap d-inline-block w-100 px-0">入力</a> <a href=../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/dictionaries/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title=一般的な説明 class="nav-link text-light text-wrap d-inline-block w-100 px-0">一般的な説明</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title=外部ディクショナリの設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部ディクショナリの設定</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title=辞書をメモリに保存する class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書をメモリに保存する</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title=辞書の更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書の更新</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title=外部辞書のソース class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部辞書のソース</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title=辞書のキーとフィールド class="nav-link text-light text-wrap d-inline-block w-100 px-0">辞書のキーとフィールド</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title=階層辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">階層辞書</a> </nav> </div> <a href=../../sql_reference/dictionaries/internal_dicts/ title=内部辞書 class="nav-link text-light text-wrap d-inline-block w-100 px-0">内部辞書</a> </nav> </div> <a href=#sidebar-sidebar-6-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-6-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../sql_reference/data_types/int_uint/ title=UInt8、UInt16、UInt32、UInt64、Int8、Int16、Int32、Int64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8、UInt16、UInt32、UInt64、Int8、Int16、Int32、Int64</a> <a href=../../sql_reference/data_types/float/ title=Float32,Float64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32,Float64</a> <a href=../../sql_reference/data_types/decimal/ title=小数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">小数</a> <a href=../../sql_reference/data_types/boolean/ title=ブール値 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ブール値</a> <a href=../../sql_reference/data_types/string/ title=文字列 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文字列</a> <a href=../../sql_reference/data_types/fixedstring/ title=FixedString(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a> <a href=../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../sql_reference/data_types/date/ title=日付 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日付</a> <a href=../../sql_reference/data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../sql_reference/data_types/enum/ title=列挙型 class="nav-link text-light text-wrap d-inline-block w-100 px-0">列挙型</a> <a href=../../sql_reference/data_types/array/ title=配列(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">配列(T)</a> <a href=../../sql_reference/data_types/aggregatefunction/ title=AggregateFunction(name,types_of_arguments)...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name,types_of_arguments)...)</a> <a href=../../sql_reference/data_types/tuple/ title=タプル(T1,T2,...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">タプル(T1,T2,...)</a> <a href=#sidebar-sidebar-6-8-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-16 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-6-8-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/nested_data_structures/ title=隠された class="nav-link text-light text-wrap d-inline-block w-100 px-0">隠された</a> <a href=../../sql_reference/data_types/nested_data_structures/nested/ title=ネスト(Name1タイプ1,Name2タイプ2,...) class="nav-link text-light text-wrap d-inline-block w-100 px-0">ネスト(Name1タイプ1,Name2タイプ2,...)</a> </nav> </div> <a href=../../sql_reference/data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-6-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-18 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-6-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/special_data_types/ title=隠された class="nav-link text-light text-wrap d-inline-block w-100 px-0">隠された</a> <a href=../../sql_reference/data_types/special_data_types/expression/ title=式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">式</a> <a href=../../sql_reference/data_types/special_data_types/set/ title=セット class="nav-link text-light text-wrap d-inline-block w-100 px-0">セット</a> <a href=../../sql_reference/data_types/special_data_types/nothing/ title=何もない class="nav-link text-light text-wrap d-inline-block w-100 px-0">何もない</a> <a href=../../sql_reference/data_types/special_data_types/interval/ title=間隔 class="nav-link text-light text-wrap d-inline-block w-100 px-0">間隔</a> </nav> </div> <a href=#sidebar-sidebar-6-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-19 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../sql_reference/data_types/domains/overview/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=../../sql_reference/operators/ title=演算子 class="nav-link text-light text-wrap d-inline-block w-100 px-0">演算子</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../guides/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../guides/apply_catboost_model/ title=CatBoostモデルの適用 class="nav-link text-light text-wrap d-inline-block w-100 px-0">CatBoostモデルの適用</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../operations/requirements/ title=要件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">要件</a> <a href=../../operations/monitoring/ title=監視 class="nav-link text-light text-wrap d-inline-block w-100 px-0">監視</a> <a href=../../operations/troubleshooting/ title=トラブル class="nav-link text-light text-wrap d-inline-block w-100 px-0">トラブル</a> <a href=../../operations/update/ title=クリックハウス更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウス更新</a> <a href=../../operations/access_rights/ title=アクセス権 class="nav-link text-light text-wrap d-inline-block w-100 px-0">アクセス権</a> <a href=../../operations/backup/ title=データバック class="nav-link text-light text-wrap d-inline-block w-100 px-0">データバック</a> <a href=../../operations/configuration_files/ title=設定ファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定ファイル</a> <a href=../../operations/quotas/ title=クォータ class="nav-link text-light text-wrap d-inline-block w-100 px-0">クォータ</a> <a href=#sidebar-sidebar-8-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-10 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-8-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../operations/optimizing_performance/sampling_query_profiler/ title=Queryプロファイリング class="nav-link text-light text-wrap d-inline-block w-100 px-0">Queryプロファイリング</a> </nav> </div> <a href=../../operations/system_tables/ title=システム表 class="nav-link text-light text-wrap d-inline-block w-100 px-0">システム表</a> <a href=#sidebar-sidebar-8-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-12 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server_configuration_parameters/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../operations/server_configuration_parameters/settings/ title=サーバー設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">サーバー設定</a> </nav> </div> <a href=../../operations/performance_test/ title=ハードウェア試験 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ハードウェア試験</a> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/ title=導入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">導入</a> <a href=../../operations/settings/permissions_for_queries/ title=クエリの権限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クエリの権限</a> <a href=../../operations/settings/query_complexity/ title=クエリの複雑さの制限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クエリの複雑さの制限</a> <a href=../../operations/settings/settings/ title=設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定</a> <a href=../../operations/settings/settings_profiles/ title=設定プロファイル class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定プロファイル</a> <a href=../../operations/settings/constraints_on_settings/ title=設定の制約 class="nav-link text-light text-wrap d-inline-block w-100 px-0">設定の制約</a> <a href=../../operations/settings/settings_users/ title=ユーザー設定 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ユーザー設定</a> </nav> </div> <a href=#sidebar-sidebar-8-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-15 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utilities/ title=概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概要</a> <a href=../../operations/utilities/clickhouse-copier/ title=クリックハウスコピー機 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウスコピー機</a> <a href=../../operations/utilities/clickhouse-local/ title=ﾂつ ﾂづ按つｵﾂ！&quot; class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂつ"ﾂづ按つｵﾂ！</a> <a href=../../operations/utilities/clickhouse-benchmark/ title=clickhouse-ベンチマーク class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-ベンチマーク</a> </nav> </div> <a href=../../operations/tips/ title=使用の推奨事項 class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用の推奨事項</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/ title=隠された class="nav-link text-light text-wrap d-inline-block w-100 px-0">隠された</a> <a href=../../development/developer_instruction/ title=初心者の方ClickHouse開発者の指示 class="nav-link text-light text-wrap d-inline-block w-100 px-0">初心者の方ClickHouse開発者の指示</a> <a href=../../development/architecture/ title=クリックハウスの概要 class="nav-link text-light text-wrap d-inline-block w-100 px-0">クリックハウスの概要</a> <a href=../../development/browse_code/ title=ClickHouseのソースコードを参照 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouseのソースコードを参照</a> <a href=../../development/build/ title=LinuxでClickHouseを構築する方法 class="nav-link text-light text-wrap d-inline-block w-100 px-0">LinuxでClickHouseを構築する方法</a> <a href=../../development/build_osx/ title="Mac OS XでClickHouseを構築する方法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mac OS XでClickHouseを構築する方法</a> <a href=../../development/build_cross_osx/ title="Mac OS X用のLinuxでClickHouseを構築する方法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mac OS X用のLinuxでClickHouseを構築する方法</a> <a href=../../development/build_cross_arm/ title=AARCH64用LinuxでClickHouseをビルドする方法（ARM64) class="nav-link text-light text-wrap d-inline-block w-100 px-0">AARCH64用LinuxでClickHouseをビルドする方法（ARM64)</a> <a href=../../development/style/ title=C++コードの書き方 class="nav-link text-white active text-wrap d-inline-block w-100 px-0">C++コードの書き方</a> <a href=../../development/tests/ title=ClickHouseテストを実行する方法 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouseテストを実行する方法</a> <a href=../../development/contrib/ title=サードパーティ製ライブラリ class="nav-link text-light text-wrap d-inline-block w-100 px-0">サードパーティ製ライブラリ</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../commercial/cloud/ title=ClickHouseしてクラウドサービスプロバイダ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouseしてクラウドサービスプロバイダ</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../whats_new/roadmap/ title=ロードマップ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ロードマップ</a> <a href=../../whats_new/security_changelog/ title=セキュリティの変更履歴 class="nav-link text-light text-wrap d-inline-block w-100 px-0">セキュリティの変更履歴</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../faq/general/ title=一般的な質問 class="nav-link text-light text-wrap d-inline-block w-100 px-0">一般的な質問</a> </nav> </div> <a href=../../single/clickhouse_ja.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt=PDFバージョン title=PDFバージョン height=24 class="d-block mr-1 float-left"><div>PDFバージョン</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">助けが欲しかった！</p> <p class=lead>このドキュメントページの以下の内容は機械翻訳されています。 異な他のウェブサイトで行われませんができます。 この翻訳テキスト生活をGitHubリポジトリとClickHouseコードベース、待ち員ネイティブスピーカーで人間が読む.</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ja/development/style.md target=_blank rel="external nofollow noreferrer"> このページを編集してClickHouseの文書を編集する </a> </p> </div> <h1 id=how-to-write-c-code>C++コードの書き方<a class=headerlink href=#how-to-write-c-code title="Permanent link">&para;</a></h1> <h2 id=general-recommendations>一般的な推奨事項<a class=headerlink href=#general-recommendations title="Permanent link">&para;</a></h2> <p><strong>1.</strong> 以下は要件ではなく推奨事項です。</p> <p><strong>2.</strong> コードを編集している場合は、既存のコードの書式設定に従うことが理にかなっています。</p> <p><strong>3.</strong> 一貫性のためにコードスタイルが必要です。 一貫性により、コードを読みやすくなり、コードの検索も容易になります。</p> <p><strong>4.</strong> ルールの多くは論理的な理由を持っていない;彼らは確立された慣行によって決定されます。</p> <h2 id=formatting>書式設定<a class=headerlink href=#formatting title="Permanent link">&para;</a></h2> <p><strong>1.</strong> 書式設定のほとんどは自動的に行われます <code>clang-format</code>.</p> <p><strong>2.</strong> インデントは4スペースです。 タブが四つのスペースを追加するように開発環境を構成します。</p> <p><strong>3.</strong> 中括弧を開くと閉じるには、別の行にする必要があります。</p> <div class=codehilite><pre><span></span><code><span class=kr>inline</span> <span class=kt>void</span> <span class=nf>readBoolText</span><span class=p>(</span><span class=kt>bool</span> <span class=o>&amp;</span> <span class=n>x</span><span class=p>,</span> <span class=n>ReadBuffer</span> <span class=o>&amp;</span> <span class=n>buf</span><span class=p>)</span>
<span class=p>{</span>
    <span class=kt>char</span> <span class=n>tmp</span> <span class=o>=</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>
    <span class=n>readChar</span><span class=p>(</span><span class=n>tmp</span><span class=p>,</span> <span class=n>buf</span><span class=p>);</span>
    <span class=n>x</span> <span class=o>=</span> <span class=n>tmp</span> <span class=o>!=</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> <p><strong>4.</strong> 関数本体全体が単一の場合 <code>statement</code>、それは単一ラインに置くことができます。 中括弧の周りにスペースを配置します（行末のスペース以外）。</p> <div class=codehilite><pre><span></span><code><span class=kr>inline</span> <span class=kt>size_t</span> <span class=nf>mask</span><span class=p>()</span> <span class=k>const</span>                <span class=p>{</span> <span class=k>return</span> <span class=n>buf_size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=p>}</span>
<span class=kr>inline</span> <span class=kt>size_t</span> <span class=nf>place</span><span class=p>(</span><span class=n>HashValue</span> <span class=n>x</span><span class=p>)</span> <span class=k>const</span>    <span class=p>{</span> <span class=k>return</span> <span class=n>x</span> <span class=o>&amp;</span> <span class=n>mask</span><span class=p>();</span> <span class=p>}</span>
</code></pre></div> <p><strong>5.</strong> 機能のため。 をかけないスットに固定して使用します。</p> <div class=codehilite><pre><span></span><code><span class=kt>void</span> <span class=n>reinsert</span><span class=p>(</span><span class=k>const</span> <span class=n>Value</span> <span class=o>&amp;</span> <span class=n>x</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>memcpy</span><span class=p>(</span><span class=o>&amp;</span><span class=n>buf</span><span class=p>[</span><span class=n>place_value</span><span class=p>],</span> <span class=o>&amp;</span><span class=n>x</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>x</span><span class=p>));</span>
</code></pre></div> <p><strong>6.</strong> で <code>if</code>, <code>for</code>, <code>while</code> その他の式では、関数呼び出しではなく、開き括弧の前にスペースが挿入されます。</p> <div class=codehilite><pre><span></span><code><span class=k>for</span> <span class=p>(</span><span class=kt>size_t</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>rows</span><span class=p>;</span> <span class=n>i</span> <span class=o>+=</span> <span class=n>storage</span><span class=p>.</span><span class=n>index_granularity</span><span class=p>)</span>
</code></pre></div> <p><strong>7.</strong> 二項演算子の前後にスペースを追加 (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, …) and the ternary operator <code>?:</code>.</p> <div class=codehilite><pre><span></span><code><span class=n>UInt16</span> <span class=n>year</span> <span class=o>=</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=o>*</span> <span class=mi>1000</span> <span class=o>+</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span> <span class=o>+</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=o>*</span> <span class=mi>10</span> <span class=o>+</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>);</span>
<span class=n>UInt8</span> <span class=n>month</span> <span class=o>=</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=o>*</span> <span class=mi>10</span> <span class=o>+</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>6</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>);</span>
<span class=n>UInt8</span> <span class=n>day</span> <span class=o>=</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>8</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=o>*</span> <span class=mi>10</span> <span class=o>+</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>9</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>);</span>
</code></pre></div> <p><strong>8.</strong> ラインフィードが入力された場合は、オペレータを新しい行に置き、その前にインデントを増やします。</p> <div class=codehilite><pre><span></span><code><span class=k>if</span> <span class=p>(</span><span class=n>elapsed_ns</span><span class=p>)</span>
    <span class=n>message</span> <span class=o>&lt;&lt;</span> <span class=s>&quot; (&quot;</span>
        <span class=o>&lt;&lt;</span> <span class=n>rows_read_on_server</span> <span class=o>*</span> <span class=mi>1000000000</span> <span class=o>/</span> <span class=n>elapsed_ns</span> <span class=o>&lt;&lt;</span> <span class=s>&quot; rows/s., &quot;</span>
        <span class=o>&lt;&lt;</span> <span class=n>bytes_read_on_server</span> <span class=o>*</span> <span class=mf>1000.0</span> <span class=o>/</span> <span class=n>elapsed_ns</span> <span class=o>&lt;&lt;</span> <span class=s>&quot; MB/s.) &quot;</span><span class=p>;</span>
</code></pre></div> <p><strong>9.</strong> 必要に応じて、行内の整列にスペースを使用できます。</p> <div class=codehilite><pre><span></span><code><span class=n>dst</span><span class=p>.</span><span class=n>ClickLogID</span>         <span class=o>=</span> <span class=n>click</span><span class=p>.</span><span class=n>LogID</span><span class=p>;</span>
<span class=n>dst</span><span class=p>.</span><span class=n>ClickEventID</span>       <span class=o>=</span> <span class=n>click</span><span class=p>.</span><span class=n>EventID</span><span class=p>;</span>
<span class=n>dst</span><span class=p>.</span><span class=n>ClickGoodEvent</span>     <span class=o>=</span> <span class=n>click</span><span class=p>.</span><span class=n>GoodEvent</span><span class=p>;</span>
</code></pre></div> <p><strong>10.</strong> 演算子の周囲にスペースを使用しない <code>.</code>, <code>-&gt;</code>.</p> <p>必要に応じて、オペレータは次の行にラップすることができます。 この場合、その前のオフセットが増加する。</p> <p><strong>11.</strong> 単項演算子を区切るためにスペースを使用しない (<code>--</code>, <code>++</code>, <code>*</code>, <code>&amp;</code>, …) from the argument.</p> <p><strong>12.</strong> 入れの後に空白、コンマといえるものです。 同じルールはaの中のセミコロンのために行く <code>for</code> 式。</p> <p><strong>13.</strong> を区切るためにスペースを使用しない。 <code>[]</code> オペレーター</p> <p><strong>14.</strong> で <code>template &lt;...&gt;</code> 式の間にスペースを使用します <code>template</code> と <code>&lt;</code>;後にスペースなし <code>&lt;</code> または前に <code>&gt;</code>.</p> <div class=codehilite><pre><span></span><code><span class=k>template</span> <span class=o>&lt;</span><span class=k>typename</span> <span class=n>TKey</span><span class=p>,</span> <span class=k>typename</span> <span class=n>TValue</span><span class=o>&gt;</span>
<span class=k>struct</span> <span class=n>AggregatedStatElement</span>
<span class=p>{}</span>
</code></pre></div> <p><strong>15.</strong> クラスと構造では、 <code>public</code>, <code>private</code>、と <code>protected</code> 同じレベルで <code>class/struct</code> コードの残りの部分をインデントします。</p> <div class=codehilite><pre><span></span><code><span class=k>template</span> <span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>
<span class=k>class</span> <span class=nc>MultiVersion</span>
<span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=c1>/// Version of object for usage. shared_ptr manage lifetime of version.</span>
    <span class=k>using</span> <span class=n>Version</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=k>const</span> <span class=n>T</span><span class=o>&gt;</span><span class=p>;</span>
    <span class=p>...</span>
<span class=p>}</span>
</code></pre></div> <p><strong>16.</strong> 同じ場合 <code>namespace</code> ファイル全体に使用され、他に重要なものはありません。 <code>namespace</code>.</p> <p><strong>17.</strong> のためのブロック <code>if</code>, <code>for</code>, <code>while</code>、または他の式は、単一の <code>statement</code> 中括弧は省略可能です。 場所は <code>statement</code> 別の行に、代わりに。 この規則は、ネストされた場合にも有効です <code>if</code>, <code>for</code>, <code>while</code>, …</p> <p>しかし、内側の場合 <code>statement</code> 中括弧または <code>else</code>、外部ブロックは中括弧で記述する必要があります。</p> <div class=codehilite><pre><span></span><code><span class=c1>/// Finish write.</span>
<span class=k>for</span> <span class=p>(</span><span class=k>auto</span> <span class=o>&amp;</span> <span class=nl>stream</span> <span class=p>:</span> <span class=n>streams</span><span class=p>)</span>
    <span class=n>stream</span><span class=p>.</span><span class=n>second</span><span class=o>-&gt;</span><span class=n>finalize</span><span class=p>();</span>
</code></pre></div> <p><strong>18.</strong> ラインの端にスペースがあってはなりません。</p> <p><strong>19.</strong> ソースファイルはUTF-8エンコードです。</p> <p><strong>20.</strong> ASCII以外の文字は、文字列リテラルで使用できます。</p> <div class=codehilite><pre><span></span><code><span class=o>&lt;&lt;</span> <span class=s>&quot;, &quot;</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>timer</span><span class=p>.</span><span class=n>elapsed</span><span class=p>()</span> <span class=o>/</span> <span class=n>chunks_stats</span><span class=p>.</span><span class=n>hits</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&quot; μsec/hit.&quot;</span><span class=p>;</span>
</code></pre></div> <p><strong>21.</strong> 単一行に複数の式を書き込まないでください。</p> <p><strong>22.</strong> 関数内のコードのセクションをグループ化し、複数の空行で区切ります。</p> <p><strong>23.</strong> 関数、クラスなどを一つまたは二つの空行で区切ります。</p> <p><strong>24.</strong> <code>A const</code> (値に関連する)型名の前に記述する必要があります。</p> <div class=codehilite><pre><span></span><code><span class=c1>//correct</span>
<span class=k>const</span> <span class=kt>char</span> <span class=o>*</span> <span class=n>pos</span>
<span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>string</span> <span class=o>&amp;</span> <span class=n>s</span>
<span class=c1>//incorrect</span>
<span class=kt>char</span> <span class=k>const</span> <span class=o>*</span> <span class=n>pos</span>
</code></pre></div> <p><strong>25.</strong> ポインタまたは参照を宣言するとき、 <code>*</code> と <code>&amp;</code> 記号は両側のスペースで区切る必要があります。</p> <div class=codehilite><pre><span></span><code><span class=c1>//correct</span>
<span class=k>const</span> <span class=kt>char</span> <span class=o>*</span> <span class=n>pos</span>
<span class=c1>//incorrect</span>
<span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>pos</span>
<span class=k>const</span> <span class=kt>char</span> <span class=o>*</span><span class=n>pos</span>
</code></pre></div> <p><strong>26.</strong> テンプレート-タイプを使用する場合は、それらを <code>using</code> キーワード(最も単純な場合を除く)。</p> <p>つまり、テンプレートのパラメータは指定しみ <code>using</code> そして、コードで繰り返されていません。</p> <p><code>using</code> 関数の内部など、ローカルで宣言できます。</p> <div class=codehilite><pre><span></span><code><span class=c1>//correct</span>
<span class=k>using</span> <span class=n>FileStreams</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>map</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=p>,</span> <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Stream</span><span class=o>&gt;&gt;</span><span class=p>;</span>
<span class=n>FileStreams</span> <span class=n>streams</span><span class=p>;</span>
<span class=c1>//incorrect</span>
<span class=n>std</span><span class=o>::</span><span class=n>map</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=p>,</span> <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Stream</span><span class=o>&gt;&gt;</span> <span class=n>streams</span><span class=p>;</span>
</code></pre></div> <p><strong>27.</strong> なを宣言するのに複数の変数の異なる種類の一つです。</p> <div class=codehilite><pre><span></span><code><span class=c1>//incorrect</span>
<span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=o>*</span><span class=n>y</span><span class=p>;</span>
</code></pre></div> <p><strong>28.</strong> Cスタイルのキャストは使用しないでください。</p> <div class=codehilite><pre><span></span><code><span class=c1>//incorrect</span>
<span class=n>std</span><span class=o>::</span><span class=n>cerr</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>c</span> <span class=o>&lt;&lt;</span><span class=p>;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
<span class=c1>//correct</span>
<span class=n>std</span><span class=o>::</span><span class=n>cerr</span> <span class=o>&lt;&lt;</span> <span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</code></pre></div> <p><strong>29.</strong> 授業や構造体、グループのメンバーは、機能別に各部の可視性です。</p> <p><strong>30.</strong> 小さなクラスや構造体の場合、メソッド宣言を実装から分離する必要はありません。</p> <p>同じことが、クラスや構造体の小さなメソッドにも当てはまります。</p> <p>テンプレート化されたクラスと構造体の場合、メソッド宣言を実装から分離しないでください（そうでない場合は、同じ翻訳単位で定義する必要があ</p> <p><strong>31.</strong> 行を140文字で折り返すことができます（80文字ではなく）。</p> <p><strong>32.</strong> Postfixが不要な場合は、必ずprefix increment/decrement演算子を使用してください。</p> <div class=codehilite><pre><span></span><code><span class=k>for</span> <span class=p>(</span><span class=n>Names</span><span class=o>::</span><span class=n>const_iterator</span> <span class=n>it</span> <span class=o>=</span> <span class=n>column_names</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span> <span class=n>it</span> <span class=o>!=</span> <span class=n>column_names</span><span class=p>.</span><span class=n>end</span><span class=p>();</span> <span class=o>++</span><span class=n>it</span><span class=p>)</span>
</code></pre></div> <h2 id=comments>コメント<a class=headerlink href=#comments title="Permanent link">&para;</a></h2> <p><strong>1.</strong> コードのすべての非自明な部分にコメントを追加してください。</p> <p>これは非常に重要です。 書面でのコメントだけを更新したいのですが--このコードに必要な、又は間違っています。</p> <div class=codehilite><pre><span></span><code><span class=cm>/** Part of piece of memory, that can be used.</span>
<span class=cm>  * For example, if internal_buffer is 1MB, and there was only 10 bytes loaded to buffer from file for reading,</span>
<span class=cm>  * then working_buffer will have size of only 10 bytes</span>
<span class=cm>  * (working_buffer.end() will point to position right after those 10 bytes available for read).</span>
<span class=cm>  */</span>
</code></pre></div> <p><strong>2.</strong> コメントは、必要に応じて詳細に記述できます。</p> <p><strong>3.</strong> コメントを記述するコードの前に配置します。 まれに、コメントは同じ行のコードの後に来ることがあります。</p> <div class=codehilite><pre><span></span><code><span class=cm>/** Parses and executes the query.</span>
<span class=cm>*/</span>
<span class=kt>void</span> <span class=n>executeQuery</span><span class=p>(</span>
    <span class=n>ReadBuffer</span> <span class=o>&amp;</span> <span class=n>istr</span><span class=p>,</span> <span class=c1>/// Where to read the query from (and data for INSERT, if applicable)</span>
    <span class=n>WriteBuffer</span> <span class=o>&amp;</span> <span class=n>ostr</span><span class=p>,</span> <span class=c1>/// Where to write the result</span>
    <span class=n>Context</span> <span class=o>&amp;</span> <span class=n>context</span><span class=p>,</span> <span class=c1>/// DB, tables, data types, engines, functions, aggregate functions...</span>
    <span class=n>BlockInputStreamPtr</span> <span class=o>&amp;</span> <span class=n>query_plan</span><span class=p>,</span> <span class=c1>/// Here could be written the description on how query was executed</span>
    <span class=n>QueryProcessingStage</span><span class=o>::</span><span class=n>Enum</span> <span class=n>stage</span> <span class=o>=</span> <span class=n>QueryProcessingStage</span><span class=o>::</span><span class=n>Complete</span> <span class=c1>/// Up to which stage process the SELECT query</span>
    <span class=p>)</span>
</code></pre></div> <p><strong>4.</strong> コメントは英語のみで記述する必要があります。</p> <p><strong>5.</strong> を書いていて図書館を含む詳細なコメントで説明を主なヘッダファイルです。</p> <p><strong>6.</strong> 追加情報を提供しないコメントを追加しないでください。 特に放置しないでください空のコメントこのような:</p> <div class=codehilite><pre><span></span><code><span class=cm>/*</span>
<span class=cm>* Procedure Name:</span>
<span class=cm>* Original procedure name:</span>
<span class=cm>* Author:</span>
<span class=cm>* Date of creation:</span>
<span class=cm>* Dates of modification:</span>
<span class=cm>* Modification authors:</span>
<span class=cm>* Original file name:</span>
<span class=cm>* Purpose:</span>
<span class=cm>* Intent:</span>
<span class=cm>* Designation:</span>
<span class=cm>* Classes used:</span>
<span class=cm>* Constants:</span>
<span class=cm>* Local variables:</span>
<span class=cm>* Parameters:</span>
<span class=cm>* Date of creation:</span>
<span class=cm>* Purpose:</span>
<span class=cm>*/</span>
</code></pre></div> <p>この例はリソースから借用されていますhttp://home.tamk.fi/~jaalto/course/coding-style/doc/unmaintainable-code/。</p> <p><strong>7.</strong> ガベージコメント（作成者、作成日）を書いてはいけません。.）各ファイルの先頭に。</p> <p><strong>8.</strong> シングルラインのコメントずつスラッシュ: <code>///</code> 複数行のコメントは次の形式で始まります <code>/**</code>. これらのコメントは、 “documentation”.</p> <p>注:doxygenを使用して、これらのコメントからドキュメントを生成できます。 しかし、doxygenはideのコードをナビゲートする方が便利なので、一般的には使用されません。</p> <p><strong>9.</strong> 複数行のコメントは、先頭と末尾に空の行を含めることはできません(複数行のコメントを閉じる行を除く)。</p> <p><strong>10.</strong> コメント行コードは、基本的なコメントは、 “documenting” コメント.</p> <p><strong>11.</strong> コミットする前に、コードのコメント部分を削除します。</p> <p><strong>12.</strong> コメントやコードで冒涜を使用しないでください。</p> <p><strong>13.</strong> 大文字は使用しないでください。 過度の句読点を使用しないでください。</p> <div class=codehilite><pre><span></span><code><span class=c1>/// WHAT THE FAIL???</span>
</code></pre></div> <p><strong>14.</strong> 区切り文字の作成にはコメントを使用しません。</p> <div class=codehilite><pre><span></span><code><span class=c1>///******************************************************</span>
</code></pre></div> <p><strong>15.</strong> コメントで議論を開始しないでください。</p> <div class=codehilite><pre><span></span><code><span class=c1>/// Why did you do this stuff?</span>
</code></pre></div> <p><strong>16.</strong> それが何であるかを記述するブロックの最後にコメントを書く必要はありません。</p> <div class=codehilite><pre><span></span><code><span class=c1>/// for</span>
</code></pre></div> <h2 id=names>名前<a class=headerlink href=#names title="Permanent link">&para;</a></h2> <p><strong>1.</strong> 変数とクラスメンバーの名前には、アンダースコア付きの小文字を使用します。</p> <div class=codehilite><pre><span></span><code><span class=kt>size_t</span> <span class=n>max_block_size</span><span class=p>;</span>
</code></pre></div> <p><strong>2.</strong> 関数(メソッド)の名前には、小文字で始まるcamelCaseを使用します。</p> <div class=codehilite><pre><span></span><code><span class=n>std</span><span class=o>::</span><span class=n>string</span> <span class=n>getName</span><span class=p>()</span> <span class=k>const</span> <span class=k>override</span> <span class=p>{</span> <span class=k>return</span> <span class=s>&quot;Memory&quot;</span><span class=p>;</span> <span class=p>}</span>
</code></pre></div> <p><strong>3.</strong> クラス（構造体）の名前には、大文字で始まるCamelCaseを使用します。 I以外の接頭辞はインターフェイスには使用されません。</p> <div class=codehilite><pre><span></span><code><span class=k>class</span> <span class=nc>StorageMemory</span> <span class=o>:</span> <span class=k>public</span> <span class=n>IStorage</span>
</code></pre></div> <p><strong>4.</strong> <code>using</code> クラスと同じように名前が付けられます。 <code>_t</code> 最後に。</p> <p><strong>5.</strong> テンプレート型引数の名前:単純なケースでは、 <code>T</code>; <code>T</code>, <code>U</code>; <code>T1</code>, <code>T2</code>.</p> <p>より複雑なケースでは、クラス名の規則に従うか、プレフィックスを追加します <code>T</code>.</p> <div class=codehilite><pre><span></span><code><span class=k>template</span> <span class=o>&lt;</span><span class=k>typename</span> <span class=n>TKey</span><span class=p>,</span> <span class=k>typename</span> <span class=n>TValue</span><span class=o>&gt;</span>
<span class=k>struct</span> <span class=n>AggregatedStatElement</span>
</code></pre></div> <p><strong>6.</strong> テンプレート定数引数の名前:変数名の規則に従うか、または <code>N</code> 単純なケースでは。</p> <div class=codehilite><pre><span></span><code><span class=k>template</span> <span class=o>&lt;</span><span class=kt>bool</span> <span class=n>without_www</span><span class=o>&gt;</span>
<span class=k>struct</span> <span class=n>ExtractDomain</span>
</code></pre></div> <p><strong>7.</strong> 抽象クラス（インターフェイス）の場合は、 <code>I</code> 接頭辞。</p> <div class=codehilite><pre><span></span><code><span class=k>class</span> <span class=nc>IBlockInputStream</span>
</code></pre></div> <p><strong>8.</strong> ローカルで変数を使用する場合は、短い名前を使用できます。</p> <p>それ以外の場合は、意味を説明する名前を使用します。</p> <div class=codehilite><pre><span></span><code><span class=kt>bool</span> <span class=n>info_successfully_loaded</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
</code></pre></div> <p><strong>9.</strong> の名前 <code>define</code>sおよびグローバル定数は、ALL_CAPSとアンダースコアを使用します。</p> <div class=codehilite><pre><span></span><code><span class=cp>#define MAX_SRC_TABLE_NAMES_TO_STORE 1000</span>
</code></pre></div> <p><strong>10.</strong> ファイル名は内容と同じスタイルを使用する必要があります。</p> <p>ファイルに単一のクラスが含まれている場合は、クラス（camelcase）と同じようにファイルに名前を付けます。</p> <p>ファイルに単一の関数が含まれている場合は、そのファイルに関数(camelcase)と同じ名前を付けます。</p> <p><strong>11.</strong> 名前に略語が含まれている場合は、:</p> <ul> <li>変数名の場合、省略形は小文字を使用する必要があります <code>mysql_connection</code> (ない <code>mySQL_connection</code>).</li> <li>クラスと関数の名前については、大文字を省略形にしておきます<code>MySQLConnection</code> (ない <code>MySqlConnection</code>).</li> </ul> <p><strong>12.</strong> クラスメンバを初期化するためだけに使用されるコンストラクタ引数は、クラスメンバと同じように名前を付ける必要がありますが、最後にアン</p> <div class=codehilite><pre><span></span><code><span class=n>FileQueueProcessor</span><span class=p>(</span>
    <span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>string</span> <span class=o>&amp;</span> <span class=n>path_</span><span class=p>,</span>
    <span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>string</span> <span class=o>&amp;</span> <span class=n>prefix_</span><span class=p>,</span>
    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>FileHandler</span><span class=o>&gt;</span> <span class=n>handler_</span><span class=p>)</span>
    <span class=o>:</span> <span class=n>path</span><span class=p>(</span><span class=n>path_</span><span class=p>),</span>
    <span class=n>prefix</span><span class=p>(</span><span class=n>prefix_</span><span class=p>),</span>
    <span class=n>handler</span><span class=p>(</span><span class=n>handler_</span><span class=p>),</span>
    <span class=n>log</span><span class=p>(</span><span class=o>&amp;</span><span class=n>Logger</span><span class=o>::</span><span class=n>get</span><span class=p>(</span><span class=s>&quot;FileQueueProcessor&quot;</span><span class=p>))</span>
<span class=p>{</span>
<span class=p>}</span>
</code></pre></div> <p>のアンダースコアの接尾辞ければ省略することができ、引数を使用していないのコンストラクタ。</p> <p><strong>13.</strong> ローカル変数とクラスメンバの名前に違いはありません（接頭辞は必要ありません）。</p> <div class=codehilite><pre><span></span><code><span class=n>timer</span> <span class=p>(</span><span class=n>not</span> <span class=n>m_timer</span><span class=p>)</span>
</code></pre></div> <p><strong>14.</strong> の定数のために <code>enum</code>、大文字でキャメルケースを使用します。 ALL_CAPSも許容されます。 この <code>enum</code> ローカルではなく、 <code>enum class</code>.</p> <div class=codehilite><pre><span></span><code><span class=k>enum</span> <span class=k>class</span> <span class=nc>CompressionMethod</span>
<span class=p>{</span>
    <span class=n>QuickLZ</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
    <span class=n>LZ4</span>     <span class=o>=</span> <span class=mi>1</span><span class=p>,</span>
<span class=p>};</span>
</code></pre></div> <p><strong>15.</strong> すべての名前は英語である必要があります。 ロシア語の音訳は許可されていません。</p> <div class=codehilite><pre><span></span><code><span class=err>not Stroka</span>
</code></pre></div> <p><strong>16.</strong> 略語は、よく知られている場合（ウィキペディアや検索エンジンで略語の意味を簡単に見つけることができる場合）には許容されます。</p> <div class=codehilite><pre><span></span><code><span class=ss>`AST`</span><span class=p>,</span> <span class=ss>`SQL`</span><span class=p>.</span>

<span class=k>Not</span> <span class=ss>`NVDH`</span> <span class=p>(</span><span class=n>some</span> <span class=n>random</span> <span class=n>letters</span><span class=p>)</span>
</code></pre></div> <p>短くされた版が共通の使用なら不完全な単語は受諾可能である。</p> <p>コメントの横にフルネームが含まれている場合は、省略形を使用することもできます。</p> <p><strong>17.</strong> C++ソースコードを持つファイル名には、 <code>.cpp</code> 拡張子。 ヘッダーファイルには、 <code>.h</code> 拡張子。</p> <h2 id=how-to-write-code>コードの書き方<a class=headerlink href=#how-to-write-code title="Permanent link">&para;</a></h2> <p><strong>1.</strong> メモリ管理。</p> <p>手動メモリ割り当て解除 (<code>delete</code>)ライブラリコードでのみ使用できます。</p> <p>ライブラリコードでは、 <code>delete</code> 演算子はデストラクターでのみ使用できます。</p> <p>アプリケーショ</p> <p>例:</p> <ul> <li>最も簡単な方法は、スタックにオブジェクトを配置するか、別のクラスのメンバーにすることです。</li> <li>多数の小さなオブジェクトの場合は、コンテナを使用します。</li> <li>ヒープに存在する少数のオブジェクトの自動割り当て解除の場合は、以下を使用します <code>shared_ptr/unique_ptr</code>.</li> </ul> <p><strong>2.</strong> リソース管理。</p> <p>使用 <code>RAII</code> と上記参照。</p> <p><strong>3.</strong> エラー処理。</p> <p>例外を使用します。 ほとんどの場合、例外をスローするだけで、例外をキャッチする必要はありません <code>RAII</code>).</p> <p>オフラインのデータ処理アプリケーションでは、しばしば可能な漁例外をスローしました。</p> <p>ユーザー要求を処理するサーバーでは、通常、接続ハンドラの最上位レベルで例外をキャッチするだけで十分です。</p> <p>スレッド機能、とくすべての例外rethrowのメインスレッド後 <code>join</code>.</p> <div class=codehilite><pre><span></span><code><span class=c1>/// If there weren&#39;t any calculations yet, calculate the first block synchronously</span>
<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>started</span><span class=p>)</span>
<span class=p>{</span>
    <span class=n>calculate</span><span class=p>();</span>
    <span class=n>started</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
<span class=p>}</span>
<span class=k>else</span> <span class=c1>/// If calculations are already in progress, wait for the result</span>
    <span class=n>pool</span><span class=p>.</span><span class=n>wait</span><span class=p>();</span>

<span class=k>if</span> <span class=p>(</span><span class=n>exception</span><span class=p>)</span>
    <span class=n>exception</span><span class=o>-&gt;</span><span class=n>rethrow</span><span class=p>();</span>
</code></pre></div> <p>ない非表示の例外なります。 盲目的にすべての例外をログに記録することはありません。</p> <div class=codehilite><pre><span></span><code><span class=c1>//Not correct</span>
<span class=k>catch</span> <span class=p>(...)</span> <span class=p>{}</span>
</code></pre></div> <p>いくつかの例外を無視する必要がある場合は、特定の例外に対してのみ行い、残りを再スローします。</p> <div class=codehilite><pre><span></span><code><span class=k>catch</span> <span class=p>(</span><span class=k>const</span> <span class=n>DB</span><span class=o>::</span><span class=n>Exception</span> <span class=o>&amp;</span> <span class=n>e</span><span class=p>)</span>
<span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>e</span><span class=p>.</span><span class=n>code</span><span class=p>()</span> <span class=o>==</span> <span class=n>ErrorCodes</span><span class=o>::</span><span class=n>UNKNOWN_AGGREGATE_FUNCTION</span><span class=p>)</span>
        <span class=k>return</span> <span class=k>nullptr</span><span class=p>;</span>
    <span class=k>else</span>
        <span class=k>throw</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> <p>応答コード付きの関数を使用する場合、または <code>errno</code>、常に結果をチェックし、エラーの場合は例外をスローします。</p> <div class=codehilite><pre><span></span><code><span class=k>if</span> <span class=p>(</span><span class=mi>0</span> <span class=o>!=</span> <span class=n>close</span><span class=p>(</span><span class=n>fd</span><span class=p>))</span>
    <span class=n>throwFromErrno</span><span class=p>(</span><span class=s>&quot;Cannot close file &quot;</span> <span class=o>+</span> <span class=n>file_name</span><span class=p>,</span> <span class=n>ErrorCodes</span><span class=o>::</span><span class=n>CANNOT_CLOSE_FILE</span><span class=p>);</span>
</code></pre></div> <p><code>Do not use assert</code>.</p> <p><strong>4.</strong> 例外タイプ。</p> <p>アプリケーションコードで複雑な例外階層を使用する必要はありません。 例外テキストは、システム管理者が理解できるはずです。</p> <p><strong>5.</strong> 投げから例外がスローされる場合destructors.</p> <p>これは推奨されませんが、許可されています。</p> <p>次のオプションを使用:</p> <ul> <li>関数の作成 (<code>done()</code> または <code>finalize()</code>）それは例外につながる可能性のあるすべての作業を事前に行います。 その関数が呼び出された場合、後でデストラクタに例外はないはずです。</li> <li>複雑すぎるタスク（ネットワーク経由でメッセージを送信するなど）は、クラスユーザーが破棄する前に呼び出す必要がある別のメソッドに入れることがで</li> <li>デストラクタに例外がある場合は、それを隠すよりもログに記録する方が良いでしょう（ロガーが利用可能な場合）。</li> <li>簡単な適用では、頼ることは受諾可能です <code>std::terminate</code> （以下の場合 <code>noexcept</code> デフォルトではC++11）例外を処理する。</li> </ul> <p><strong>6.</strong> 匿名のコードブロック。</p> <p>特定の変数をローカルにするために、単一の関数内に別のコードブロックを作成して、ブロックを終了するときにデストラクタが呼び出されるように</p> <div class=codehilite><pre><span></span><code><span class=n>Block</span> <span class=n>block</span> <span class=o>=</span> <span class=n>data</span><span class=p>.</span><span class=n>in</span><span class=o>-&gt;</span><span class=n>read</span><span class=p>();</span>

<span class=p>{</span>
    <span class=n>std</span><span class=o>::</span><span class=n>lock_guard</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>mutex</span><span class=o>&gt;</span> <span class=n>lock</span><span class=p>(</span><span class=n>mutex</span><span class=p>);</span>
    <span class=n>data</span><span class=p>.</span><span class=n>ready</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
    <span class=n>data</span><span class=p>.</span><span class=n>block</span> <span class=o>=</span> <span class=n>block</span><span class=p>;</span>
<span class=p>}</span>

<span class=n>ready_any</span><span class=p>.</span><span class=n>set</span><span class=p>();</span>
</code></pre></div> <p><strong>7.</strong> マルチスレッド。</p> <p>オフラインのデータ処理プログラム:</p> <ul> <li>単一のcpuコアで最高のパフォーマンスを得るようにしてください。 必要に応じてコードを並列化できます。</li> </ul> <p>でサーバアプリケーション:</p> <ul> <li>スレッドプールを使用して要求を処理します。 この時点で、まだたタスクを必要とした管理コスイッチング時の値です。※</li> </ul> <p>Forkは並列化には使用されません。</p> <p><strong>8.</strong> スレッドの同期。</p> <p>多くの場合、異なるスレッドに異なるメモリセルを使用させることができます（さらに良い：異なるキャッシュライン）。 <code>joinAll</code>).</p> <p>同期が必要な場合は、ほとんどの場合、mutexを使用すれば十分です。 <code>lock_guard</code>.</p> <p>他の例では、システム同期プリミティブを使用します。 使用中の待ち時間を使用しないで下さい。</p> <p>原子操作は、最も単純な場合にのみ使用する必要があります。</p> <p>主な専門分野でない限り、ロックフリーのデータ構造を実装しようとしないでください。</p> <p><strong>9.</strong> ポインタ対参照。</p> <p>ほとんどの場合、参照を好む。</p> <p><strong>10.</strong> const</p> <p>定数参照、定数へのポインタを使用する, <code>const_iterator</code>、およびconstメソッド。</p> <p>考える <code>const</code> デフォルトにしてnonを使用するには-<code>const</code> 必要なときだけ。</p> <p>値によって変数を渡すとき、 <code>const</code> 通常は意味をなさない。</p> <p><strong>11.</strong> 署名なし</p> <p>使用 <code>unsigned</code> 必要であれば。</p> <p><strong>12.</strong> 数値型。</p> <p>タイプの使用 <code>UInt8</code>, <code>UInt16</code>, <code>UInt32</code>, <code>UInt64</code>, <code>Int8</code>, <code>Int16</code>, <code>Int32</code>、と <code>Int64</code>、同様に <code>size_t</code>, <code>ssize_t</code>、と <code>ptrdiff_t</code>.</p> <p>これらの型を数値に使用しないでください: <code>signed/unsigned long</code>, <code>long long</code>, <code>short</code>, <code>signed/unsigned char</code>, <code>char</code>.</p> <p><strong>13.</strong> 引数を渡す。</p> <p>参照によって複雑な値を渡す(以下を含む <code>std::string</code>).</p> <p>関数がヒープで作成されたオブジェクトの所有権を取得する場合は、引数の型を作成します <code>shared_ptr</code> または <code>unique_ptr</code>.</p> <p><strong>14.</strong> 戻り値。</p> <p>ほとんどの場合、単に <code>return</code>. 書き込まない <code>[return std::move(res)]{.strike}</code>.</p> <p>関数がヒープ上にオブジェクトを割り当て、それを返す場合は、 <code>shared_ptr</code> または <code>unique_ptr</code>.</p> <p>まれに、引数を使用して値を返す必要がある場合があります。 この場合、引数は参照でなければなりません。</p> <div class=codehilite><pre><span></span><code><span class=k>using</span> <span class=n>AggregateFunctionPtr</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>IAggregateFunction</span><span class=o>&gt;</span><span class=p>;</span>

<span class=cm>/** Allows creating an aggregate function by its name.</span>
<span class=cm>  */</span>
<span class=k>class</span> <span class=nc>AggregateFunctionFactory</span>
<span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>AggregateFunctionFactory</span><span class=p>();</span>
    <span class=n>AggregateFunctionPtr</span> <span class=nf>get</span><span class=p>(</span><span class=k>const</span> <span class=n>String</span> <span class=o>&amp;</span> <span class=n>name</span><span class=p>,</span> <span class=k>const</span> <span class=n>DataTypes</span> <span class=o>&amp;</span> <span class=n>argument_types</span><span class=p>)</span> <span class=k>const</span><span class=p>;</span>
</code></pre></div> <p><strong>15.</strong> 名前空間。</p> <p>別のものを使用する必要はありません <code>namespace</code> 適用コードのため。</p> <p>小さな図書館にもこれは必要ありません。</p> <p>中規模から大規模のライブラリの場合は、すべてを <code>namespace</code>.</p> <p>ライブラリの中で <code>.h</code> ファイル、使用できます <code>namespace detail</code> アプリケーションコードに必要のない実装の詳細を非表示にする。</p> <p>で <code>.cpp</code> ファイル、あなたが使用できる <code>static</code> または匿名の名前空間は、記号を非表示にします。</p> <p>また、 <code>namespace</code> に使用することができ <code>enum</code> 対応する名前が外部に落ちないようにするには <code>namespace</code> （しかし、それを使用する方が良いです <code>enum class</code>).</p> <p><strong>16.</strong> 遅延初期化。</p> <p>初期化に引数が必要な場合は、通常はデフォルトのコンストラクタを記述すべきではありません。</p> <p>後で初期化を遅らせる必要がある場合は、無効なオブジェクトを作成する既定のコンストラクターを追加できます。 または、少数のオブジェクトの場合は、次のものを使用できます <code>shared_ptr/unique_ptr</code>.</p> <div class=codehilite><pre><span></span><code><span class=n>Loader</span><span class=p>(</span><span class=n>DB</span><span class=o>::</span><span class=n>Connection</span> <span class=o>*</span> <span class=n>connection_</span><span class=p>,</span> <span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>string</span> <span class=o>&amp;</span> <span class=n>query</span><span class=p>,</span> <span class=kt>size_t</span> <span class=n>max_block_size_</span><span class=p>);</span>

<span class=c1>/// For deferred initialization</span>
<span class=n>Loader</span><span class=p>()</span> <span class=p>{}</span>
</code></pre></div> <p><strong>17.</strong> 仮想関数。</p> <p>クラスが多態的な使用を意図していない場合は、関数を仮想にする必要はありません。 これはデストラクタにも当てはまります。</p> <p><strong>18.</strong> エンコーディング。</p> <p>どこでもutf-8を使用します。 使用 <code>std::string</code>と<code>char *</code>. 使用しない <code>std::wstring</code>と<code>wchar_t</code>.</p> <p><strong>19.</strong> ログ記録。</p> <p>コードのどこにでも例を見てください。</p> <p>コミットする前に、無意味なデバッグログとその他のデバッグ出力をすべて削除します。</p> <p>トレースレベルでも、サイクルでのログ記録は避けるべきです。</p> <p>ログには必読でログインです。</p> <p>ログインできるアプリケーションコードにすることができます。</p> <p>ログメッセージは英語で書く必要があります。</p> <p>ログは、システム管理者が理解できることが望ましいです。</p> <p>ログに冒涜を使用しないでください。</p> <p>ログにutf-8エンコーディングを使用します。 まれに、ログに非ascii文字を使用できます。</p> <p><strong>20.</strong> 入出力。</p> <p>使用しない <code>iostreams</code> アプリケーショ <code>stringstream</code>).</p> <p>を使用 <code>DB/IO</code> 代わりに図書館。</p> <p><strong>21.</strong> 日付と時刻。</p> <p>を見る <code>DateLUT</code> ライブラリ。</p> <p><strong>22.</strong> 含める。</p> <p>常に使用 <code>#pragma once</code> 代わりに、警備員を含みます。</p> <p><strong>23.</strong> 使用。</p> <p><code>using namespace</code> は使用されません。 を使用することができ <code>using</code> 特定の何かと。 しかし、クラスや関数の中でローカルにします。</p> <p><strong>24.</strong> 使用しない <code>trailing return type</code> 必要な場合を除き、機能のため。</p> <div class=codehilite><pre><span></span><code><span class=p>[</span><span class=k>auto</span> <span class=n>f</span><span class=p>()</span> <span class=o>-&amp;</span><span class=n>gt</span><span class=p>;</span> <span class=kt>void</span><span class=p>;]{.</span><span class=n>strike</span><span class=p>}</span>
</code></pre></div> <p><strong>25.</strong> 変数の宣言と初期化。</p> <div class=codehilite><pre><span></span><code><span class=c1>//right way</span>
<span class=n>std</span><span class=o>::</span><span class=n>string</span> <span class=n>s</span> <span class=o>=</span> <span class=s>&quot;Hello&quot;</span><span class=p>;</span>
<span class=n>std</span><span class=o>::</span><span class=n>string</span> <span class=n>s</span><span class=p>{</span><span class=s>&quot;Hello&quot;</span><span class=p>};</span>

<span class=c1>//wrong way</span>
<span class=k>auto</span> <span class=n>s</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=p>{</span><span class=s>&quot;Hello&quot;</span><span class=p>};</span>
</code></pre></div> <p><strong>26.</strong> 仮想関数の場合は、以下を記述します <code>virtual</code> 基本クラスでは、次のように記述します <code>override</code> 代わりに <code>virtual</code> 子孫クラスで。</p> <h2 id=unused-features-of-c>C++の未使用機能<a class=headerlink href=#unused-features-of-c title="Permanent link">&para;</a></h2> <p><strong>1.</strong> 仮想継承は使用されません。</p> <p><strong>2.</strong> C++03の例外指定子は使用されません。</p> <h2 id=platform>Platform<a class=headerlink href=#platform title="Permanent link">&para;</a></h2> <p><strong>1.</strong> を書いていますコードの特定の。</p> <p>それが同じ場合には、クロス-プラットフォームまたは携帯コードが好ましい。</p> <p><strong>2.</strong> 言語：C++17。</p> <p><strong>3.</strong> コンパイラ: <code>gcc</code>. この時点で(December2017)、をコードはコンパイル使用してバージョン7.2。 （コンパイルすることもできます <code>clang 4</code>.)</p> <p>標準ライブラリが使用されます (<code>libstdc++</code> または <code>libc++</code>).</p> <p><strong>4.</strong>OS：LinuxのUbuntuは、正確なよりも古いではありません。</p> <p><strong>5.</strong>コードはx86_64cpuアーキテクチャ用に書かれている。</p> <p>CPU命令セットは、当社のサーバー間でサポートされる最小セットです。 現在、SSE4.2です。</p> <p><strong>6.</strong> 使用 <code>-Wall -Wextra -Werror</code> コンパイルフラグ。</p> <p><strong>7.</strong> 静的に接続するのが難しいライブラリを除くすべてのライブラリとの静的リンクを使用します。 <code>ldd</code> コマンド）。</p> <p><strong>8.</strong> コードは開発され、リリース設定でデバッグされます。</p> <h2 id=tools>ツール<a class=headerlink href=#tools title="Permanent link">&para;</a></h2> <p><strong>1.</strong> KDevelopは良いIDEです。</p> <p><strong>2.</strong> デバッグのために、 <code>gdb</code>, <code>valgrind</code> (<code>memcheck</code>), <code>strace</code>, <code>-fsanitize=...</code>、または <code>tcmalloc_minimal_debug</code>.</p> <p><strong>3.</strong> プロファイ <code>Linux Perf</code>, <code>valgrind</code> (<code>callgrind</code>)、または <code>strace -cf</code>.</p> <p><strong>4.</strong> ソースはGitにあります。</p> <p><strong>5.</strong> アセンブリ使用 <code>CMake</code>.</p> <p><strong>6.</strong> プログラムは <code>deb</code> パッケージ。</p> <p><strong>7.</strong> ることを約束し、マスターが破ってはいけないの。</p> <p>選択したリビジョンのみが実行可能と見なされます。</p> <p><strong>8.</strong> コードが部分的にしか準備されていなくても、できるだけ頻繁にコミットを行います。</p> <p>用の支店です。</p> <p>あなたのコードが <code>master</code> ブランチはまだビルド可能ではない。 <code>push</code>. あなたはそれを終了するか、数日以内にそれを削除する必要があります。</p> <p><strong>9.</strong> 些細な変更の場合は、ブランチを使用してサーバーに公開します。</p> <p><strong>10.</strong> 未使用のコードはリポジトリから削除されます。</p> <h2 id=libraries>ライブラリ<a class=headerlink href=#libraries title="Permanent link">&para;</a></h2> <p><strong>1.</strong> C++14標準ライブラリが使用されています（実験的な拡張が許可されています）。 <code>boost</code> と <code>Poco</code> フレームワーク</p> <p><strong>2.</strong> 必要に応じて、OSパッケージで利用可能な既知のライブラリを使用することができます。</p> <p>すでに利用可能な良い解決策がある場合は、別のライブラリをインストールする必要があることを意味していても使用してください。</p> <p>(が準備をしておいてくださ去の悪い図書館からのコードです。)</p> <p><strong>3.</strong> パッケージに必要なものがないか、古いバージョンや間違ったタイプのコンパイルがない場合は、パッケージに含まれていないライブラリをインストール</p> <p><strong>4.</strong> ライブラリが小さく、独自の複雑なビルドシステムを持たない場合は、ソースファイルを <code>contrib</code> フォルダ。</p> <p><strong>5.</strong> すでに使用されているライブラリが優先されます。</p> <h2 id=general-recommendations-1>一般的な推奨事項<a class=headerlink href=#general-recommendations-1 title="Permanent link">&para;</a></h2> <p><strong>1.</strong> できるだけ少ないコードを書く。</p> <p><strong>2.</strong> う最も単純な解決策です。</p> <p><strong>3.</strong> それがどのように機能し、内部ループがどのように機能するかを知るまで、コードを書かないでください。</p> <p><strong>4.</strong> 最も単純な場合は、次のようにします <code>using</code> クラスや構造体の代わりに。</p> <p><strong>5.</strong> 可能であれば、コピーコンストラクター、代入演算子、デストラクター(仮想関数を除く、クラスに少なくとも一つの仮想関数が含まれている場合)、コンストラ つまり、コンパイラ生成機能しないでください。 を使用することができ <code>default</code>.</p> <p><strong>6.</strong> コードの単純化が推奨されます。 可能な場合は、コードのサイズを小さくします。</p> <h2 id=additional-recommendations>その他の推奨事項<a class=headerlink href=#additional-recommendations title="Permanent link">&para;</a></h2> <p><strong>1.</strong> 明示的に指定する <code>std::</code> からのタイプの場合 <code>stddef.h</code></p> <p>は推奨されません。 つまり、我々は書くことをお勧めします <code>size_t</code> 代わりに <code>std::size_t</code>、それは短いですので。</p> <p>それは可能追加する <code>std::</code>.</p> <p><strong>2.</strong> 明示的に指定する <code>std::</code> 標準Cライブラリの関数の場合</p> <p>は推奨されません。 言い換えれば、 <code>memcpy</code> 代わりに <code>std::memcpy</code>.</p> <p>その理由は、次のような非標準的な機能があるからです <code>memmem</code>. 私達は機会にこれらの機能を使用します。 これらの関数は <code>namespace std</code>.</p> <p>あなたが書く場合 <code>std::memcpy</code> 代わりに <code>memcpy</code> どこでも、その後 <code>memmem</code> なし <code>std::</code> 奇妙に見えます。</p> <p>それでも、あなたはまだ <code>std::</code> あなたがそれを好むなら。</p> <p><strong>3.</strong> 同じものが標準C++ライブラリで利用可能な場合、Cの関数を使用する。</p> <p>これは、より効率的であれば許容されます。</p> <p>たとえば、以下を使用します <code>memcpy</code> 代わりに <code>std::copy</code> メモリの大きな塊をコピーするため。</p> <p><strong>4.</strong> 複数行の関数の引数。</p> <p>の他の包装のスタイルを許可:</p> <div class=codehilite><pre><span></span><code><span class=n>function</span><span class=p>(</span>
  <span class=n>T1</span> <span class=n>x1</span><span class=p>,</span>
  <span class=n>T2</span> <span class=n>x2</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>function</span><span class=p>(</span>
  <span class=kt>size_t</span> <span class=n>left</span><span class=p>,</span> <span class=kt>size_t</span> <span class=n>right</span><span class=p>,</span>
  <span class=k>const</span> <span class=o>&amp;</span> <span class=n>RangesInDataParts</span> <span class=n>ranges</span><span class=p>,</span>
  <span class=kt>size_t</span> <span class=n>limit</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>function</span><span class=p>(</span><span class=kt>size_t</span> <span class=n>left</span><span class=p>,</span> <span class=kt>size_t</span> <span class=n>right</span><span class=p>,</span>
  <span class=k>const</span> <span class=o>&amp;</span> <span class=n>RangesInDataParts</span> <span class=n>ranges</span><span class=p>,</span>
  <span class=kt>size_t</span> <span class=n>limit</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>function</span><span class=p>(</span><span class=kt>size_t</span> <span class=n>left</span><span class=p>,</span> <span class=kt>size_t</span> <span class=n>right</span><span class=p>,</span>
      <span class=k>const</span> <span class=o>&amp;</span> <span class=n>RangesInDataParts</span> <span class=n>ranges</span><span class=p>,</span>
      <span class=kt>size_t</span> <span class=n>limit</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>function</span><span class=p>(</span>
      <span class=kt>size_t</span> <span class=n>left</span><span class=p>,</span>
      <span class=kt>size_t</span> <span class=n>right</span><span class=p>,</span>
      <span class=k>const</span> <span class=o>&amp;</span> <span class=n>RangesInDataParts</span> <span class=n>ranges</span><span class=p>,</span>
      <span class=kt>size_t</span> <span class=n>limit</span><span class=p>)</span>
</code></pre></div> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>から構築 <a href=https://github.com/ClickHouse/ClickHouse/commit/a24471233fce463ffd70bff561f7842d4d0b7bd9 rel="external nofollow noreferrer" target=_blank class=text-reset>a24471233f</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>テーブルの内容</label> <a href=#general-recommendations title=一般的な推奨事項 class="nav-link text-wrap d-inline-block w-100"> 一般的な推奨事項 </a> <a href=#formatting title=書式設定 class="nav-link text-wrap d-inline-block w-100"> 書式設定 </a> <a href=#comments title=コメント class="nav-link text-wrap d-inline-block w-100"> コメント </a> <a href=#names title=名前 class="nav-link text-wrap d-inline-block w-100"> 名前 </a> <a href=#how-to-write-code title=コードの書き方 class="nav-link text-wrap d-inline-block w-100"> コードの書き方 </a> <a href=#unused-features-of-c title=C++の未使用機能 class="nav-link text-wrap d-inline-block w-100"> C++の未使用機能 </a> <a href=#platform title=Platform class="nav-link text-wrap d-inline-block w-100"> Platform </a> <a href=#tools title=ツール class="nav-link text-wrap d-inline-block w-100"> ツール </a> <a href=#libraries title=ライブラリ class="nav-link text-wrap d-inline-block w-100"> ライブラリ </a> <a href=#general-recommendations-1 title=一般的な推奨事項 class="nav-link text-wrap d-inline-block w-100"> 一般的な推奨事項 </a> <a href=#additional-recommendations title=その他の推奨事項 class="nav-link text-wrap d-inline-block w-100"> その他の推奨事項 </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>