<!DOCTYPE html><html lang=fa data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>ALTER - مستندات ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="ALTER - مستندات ClickHouse"><meta property=og:description content="ALTER این ALTER پرسوجو فقط برای پشتیبانی *MergeTree جداول و همچنین MergeوDistributed. پرس و جو دارای چندین تغییرات. دستک"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="ALTER - مستندات ClickHouse"><meta name=description content="ALTER این ALTER پرسوجو فقط برای پشتیبانی *MergeTree جداول و همچنین MergeوDistributed. پرس و جو دارای چندین تغییرات. دستک"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=rtl data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> ALTER </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fa/sql_reference/statements/alter.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/fa.svg alt=فارسی title=فارسی width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql_reference/statements/alter/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/sql_reference/statements/alter/ class="dropdown-item disabled"> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class="container-fluid text-right"> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="چند صفحه یا یک صفحه"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="نسخه چند صفحه ای" title="نسخه چند صفحه ای"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="نسخه تک صفحه ای" title="نسخه تک صفحه ای"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> نسخه: <span class=text-light>جدیدترین</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/fa/ class="dropdown-item disable"> <span class=text-light>جدیدترین</span> </a> <a href=/docs/v20.3/fa/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/fa/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/fa/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/fa/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/fa/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/fa/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/fa/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/fa/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/fa/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/fa/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/fa/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../introduction/history/ title=تاریخچه class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاریخچه</a> <a href=../../../introduction/adopters/ title=پذیرا class="nav-link text-light text-wrap d-inline-block w-100 px-0">پذیرا</a> <a href=../../../introduction/performance/ title=Performance class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a> <a href=../../../introduction/features_considered_disadvantages/ title="ویژگی های از ClickHouse که می تواند معایبی باشد" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ویژگی های از ClickHouse که می تواند معایبی باشد</a> <a href=../../../introduction/distinctive_features/ title="ویژگی های برجسته ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ویژگی های برجسته ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/ title=مخفی class="nav-link text-light text-wrap d-inline-block w-100 px-0">مخفی</a> <a href=../../../getting_started/install/ title="نصب و راه اندازی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نصب و راه اندازی</a> <a href=#sidebar-sidebar-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../getting_started/example_datasets/ontime/ title="به موقع" class="nav-link text-light text-wrap d-inline-block w-100 px-0">به موقع</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="داده های تاکسی نیویورک" class="nav-link text-light text-wrap d-inline-block w-100 px-0">داده های تاکسی نیویورک</a> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="معیار بزرگ داده های تقویت کننده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معیار بزرگ داده های تقویت کننده</a> <a href=../../../getting_started/example_datasets/wikistat/ title=ویکیستات class="nav-link text-light text-wrap d-inline-block w-100 px-0">ویکیستات</a> <a href=../../../getting_started/example_datasets/criteo/ title="ترابایت کلیک سیاهههای مربوط از مخلوق" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ترابایت کلیک سیاهههای مربوط از مخلوق</a> <a href=../../../getting_started/example_datasets/star_schema/ title="معیار طرحواره ستاره" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معیار طرحواره ستاره</a> <a href=../../../getting_started/example_datasets/metrica/ title="یاندکساطلاعات متریکا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">یاندکساطلاعات متریکا</a> </nav> </div> <a href=../../../getting_started/tutorial/ title=اموزش class="nav-link text-light text-wrap d-inline-block w-100 px-0">اموزش</a> <a href=../../../getting_started/playground/ title="زمین بازی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">زمین بازی</a> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../interfaces/cli/ title="مشتری خط فرمان" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مشتری خط فرمان</a> <a href=../../../interfaces/tcp/ title="رابط کاربری بومی)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط کاربری بومی)</a> <a href=../../../interfaces/http/ title="رابط قام" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط قام</a> <a href=../../../interfaces/mysql/ title="رابط MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط MySQL</a> <a href=../../../interfaces/formats/ title="فرمت های ورودی و خروجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">فرمت های ورودی و خروجی</a> <a href=../../../interfaces/jdbc/ title="JDBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC Driver</a> <a href=../../../interfaces/odbc/ title="ODBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC Driver</a> <a href=#sidebar-sidebar-3-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-3-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../../interfaces/third-party/client_libraries/ title="کتابخانه های مشتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کتابخانه های مشتری</a> <a href=../../../interfaces/third-party/integrations/ title=یکپارچگی class="nav-link text-light text-wrap d-inline-block w-100 px-0">یکپارچگی</a> <a href=../../../interfaces/third-party/gui/ title="رابط های بصری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط های بصری</a> <a href=../../../interfaces/third-party/proxy/ title="پراکسی ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پراکسی ها</a> </nav> </div> <a href=../../../interfaces/cpp/ title="ج++ کتابخانه مشتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ج++ کتابخانه مشتری</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-4-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-4-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=#sidebar-sidebar-4-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-4-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../../engines/table_engines/mergetree_family/mergetree/ title=ادغام class="nav-link text-light text-wrap d-inline-block w-100 px-0">ادغام</a> <a href=../../../engines/table_engines/mergetree_family/replication/ title="تکرار داده ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تکرار داده ها</a> <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ title="کلید پارتیشن بندی سفارشی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلید پارتیشن بندی سفارشی</a> <a href=../../../engines/table_engines/mergetree_family/replacingmergetree/ title=جایگزینی class="nav-link text-light text-wrap d-inline-block w-100 px-0">جایگزینی</a> <a href=../../../engines/table_engines/mergetree_family/summingmergetree/ title=سامینگمرگتری class="nav-link text-light text-wrap d-inline-block w-100 px-0">سامینگمرگتری</a> <a href=../../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=ریزدانه class="nav-link text-light text-wrap d-inline-block w-100 px-0">ریزدانه</a> <a href=../../../engines/table_engines/mergetree_family/collapsingmergetree/ title="سقوط غذای اصلی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سقوط غذای اصلی</a> <a href=../../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title="در حال بارگذاری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">در حال بارگذاری</a> <a href=../../../engines/table_engines/mergetree_family/graphitemergetree/ title=نمودار class="nav-link text-light text-wrap d-inline-block w-100 px-0">نمودار</a> </nav> </div> <a href=#sidebar-sidebar-4-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-4-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../../engines/table_engines/log_family/log_family/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../engines/table_engines/log_family/stripelog/ title="خط زدن" class="nav-link text-light text-wrap d-inline-block w-100 px-0">خط زدن</a> <a href=../../../engines/table_engines/log_family/log/ title=ثبت class="nav-link text-light text-wrap d-inline-block w-100 px-0">ثبت</a> <a href=../../../engines/table_engines/log_family/tinylog/ title="جمع شدن" class="nav-link text-light text-wrap d-inline-block w-100 px-0">جمع شدن</a> </nav> </div> <a href=#sidebar-sidebar-4-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-4-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../../engines/table_engines/integrations/kafka/ title=کافکا class="nav-link text-light text-wrap d-inline-block w-100 px-0">کافکا</a> <a href=../../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-4-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-4-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../../engines/table_engines/special/distributed/ title="توزیع شده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توزیع شده</a> <a href=../../../engines/table_engines/special/external_data/ title="دادههای خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">دادههای خارجی</a> <a href=../../../engines/table_engines/special/dictionary/ title=واژهنامه class="nav-link text-light text-wrap d-inline-block w-100 px-0">واژهنامه</a> <a href=../../../engines/table_engines/special/merge/ title=ادغام class="nav-link text-light text-wrap d-inline-block w-100 px-0">ادغام</a> <a href=../../../engines/table_engines/special/file/ title=پرونده class="nav-link text-light text-wrap d-inline-block w-100 px-0">پرونده</a> <a href=../../../engines/table_engines/special/null/ title=خالی class="nav-link text-light text-wrap d-inline-block w-100 px-0">خالی</a> <a href=../../../engines/table_engines/special/set/ title=تنظیم class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیم</a> <a href=../../../engines/table_engines/special/join/ title=پیوستن class="nav-link text-light text-wrap d-inline-block w-100 px-0">پیوستن</a> <a href=../../../engines/table_engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table_engines/special/view/ title=نما class="nav-link text-light text-wrap d-inline-block w-100 px-0">نما</a> <a href=../../../engines/table_engines/special/materializedview/ title="ماده بینی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ماده بینی</a> <a href=../../../engines/table_engines/special/memory/ title=حافظه class="nav-link text-light text-wrap d-inline-block w-100 px-0">حافظه</a> <a href=../../../engines/table_engines/special/buffer/ title=بافر class="nav-link text-light text-wrap d-inline-block w-100 px-0">بافر</a> <a href=../../../engines/table_engines/special/generate/ title=ژنرال class="nav-link text-light text-wrap d-inline-block w-100 px-0">ژنرال</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-3 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-4-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database_engines/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database_engines/lazy/ title=تنبل class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنبل</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/ title=مخفی class="nav-link text-light text-wrap d-inline-block w-100 px-0">مخفی</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../../sql_reference/statements/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../../sql_reference/statements/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../sql_reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../sql_reference/statements/alter/ title=ALTER class="nav-link text-white active text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql_reference/statements/misc/ title=غیره class="nav-link text-light text-wrap d-inline-block w-100 px-0">غیره</a> </nav> </div> <a href=../../../sql_reference/syntax/ title=نحو class="nav-link text-light text-wrap d-inline-block w-100 px-0">نحو</a> <a href=#sidebar-sidebar-5-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-5-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/functions/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../sql_reference/functions/arithmetic_functions/ title=حساب class="nav-link text-light text-wrap d-inline-block w-100 px-0">حساب</a> <a href=../../../sql_reference/functions/comparison_functions/ title=مقایسه class="nav-link text-light text-wrap d-inline-block w-100 px-0">مقایسه</a> <a href=../../../sql_reference/functions/logical_functions/ title=منطقی class="nav-link text-light text-wrap d-inline-block w-100 px-0">منطقی</a> <a href=../../../sql_reference/functions/type_conversion_functions/ title="تبدیل نوع" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تبدیل نوع</a> <a href=../../../sql_reference/functions/date_time_functions/ title="کار با تاریخ و زمان" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با تاریخ و زمان</a> <a href=../../../sql_reference/functions/string_functions/ title="کار با رشته ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با رشته ها</a> <a href=../../../sql_reference/functions/string_search_functions/ title="برای جستجوی رشتهها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">برای جستجوی رشتهها</a> <a href=../../../sql_reference/functions/string_replace_functions/ title="برای جایگزینی در رشتهها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">برای جایگزینی در رشتهها</a> <a href=../../../sql_reference/functions/conditional_functions/ title=شرطی class="nav-link text-light text-wrap d-inline-block w-100 px-0">شرطی</a> <a href=../../../sql_reference/functions/math_functions/ title=ریاضی class="nav-link text-light text-wrap d-inline-block w-100 px-0">ریاضی</a> <a href=../../../sql_reference/functions/rounding_functions/ title="گرد کردن" class="nav-link text-light text-wrap d-inline-block w-100 px-0">گرد کردن</a> <a href=../../../sql_reference/functions/array_functions/ title="کار با ارریس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با ارریس</a> <a href=../../../sql_reference/functions/splitting_merging_functions/ title="تقسیم و ادغام رشته ها و ارریس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تقسیم و ادغام رشته ها و ارریس</a> <a href=../../../sql_reference/functions/bit_functions/ title=بیت class="nav-link text-light text-wrap d-inline-block w-100 px-0">بیت</a> <a href=../../../sql_reference/functions/bitmap_functions/ title="نگاشت بیت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نگاشت بیت</a> <a href=../../../sql_reference/functions/hash_functions/ title=هش class="nav-link text-light text-wrap d-inline-block w-100 px-0">هش</a> <a href=../../../sql_reference/functions/random_functions/ title="تولید اعداد شبه تصادفی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تولید اعداد شبه تصادفی</a> <a href=../../../sql_reference/functions/encoding_functions/ title=کدبندی class="nav-link text-light text-wrap d-inline-block w-100 px-0">کدبندی</a> <a href=../../../sql_reference/functions/uuid_functions/ title="کار با یوید" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با یوید</a> <a href=../../../sql_reference/functions/url_functions/ title="کار با نشانیها  ی اینترنتی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با نشانیها ی اینترنتی</a> <a href=../../../sql_reference/functions/ip_address_functions/ title="کار با نشانیهای اینترنتی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با نشانیهای اینترنتی</a> <a href=../../../sql_reference/functions/json_functions/ title="کار با جانسون" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با جانسون</a> <a href=../../../sql_reference/functions/higher_order_functions/ title="بالاتر سفارش" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بالاتر سفارش</a> <a href=../../../sql_reference/functions/ext_dict_functions/ title="کار با واژهنامهها خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با واژهنامهها خارجی</a> <a href=../../../sql_reference/functions/ym_dict_functions/ title="کار با یاندکس.واژهنامهها متریکا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با یاندکس.واژهنامهها متریکا</a> <a href=../../../sql_reference/functions/in_functions/ title="اجرای اپراتور در" class="nav-link text-light text-wrap d-inline-block w-100 px-0">اجرای اپراتور در</a> <a href=../../../sql_reference/functions/array_join/ title=ارریجین class="nav-link text-light text-wrap d-inline-block w-100 px-0">ارریجین</a> <a href=../../../sql_reference/functions/geo/ title="کار با مختصات جغرافیایی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با مختصات جغرافیایی</a> <a href=../../../sql_reference/functions/functions_for_nulls/ title="کار با Nullable استدلال" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با Nullable استدلال</a> <a href=../../../sql_reference/functions/machine_learning_functions/ title="توابع یادگیری ماشین" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توابع یادگیری ماشین</a> <a href=../../../sql_reference/functions/introspection/ title="درون نگری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">درون نگری</a> <a href=../../../sql_reference/functions/other_functions/ title=غیره class="nav-link text-light text-wrap d-inline-block w-100 px-0">غیره</a> </nav> </div> <a href=#sidebar-sidebar-5-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-5-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/aggregate_functions/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../sql_reference/aggregate_functions/reference/ title=مرجع class="nav-link text-light text-wrap d-inline-block w-100 px-0">مرجع</a> <a href=../../../sql_reference/aggregate_functions/combinators/ title="ترکیب کنندههای تابع جمع" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ترکیب کنندههای تابع جمع</a> <a href=../../../sql_reference/aggregate_functions/parametric_functions/ title="توابع مجموع پارامتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توابع مجموع پارامتری</a> </nav> </div> <a href=#sidebar-sidebar-5-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-5-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/table_functions/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../sql_reference/table_functions/file/ title=پرونده class="nav-link text-light text-wrap d-inline-block w-100 px-0">پرونده</a> <a href=../../../sql_reference/table_functions/merge/ title=ادغام class="nav-link text-light text-wrap d-inline-block w-100 px-0">ادغام</a> <a href=../../../sql_reference/table_functions/numbers/ title=اعداد class="nav-link text-light text-wrap d-inline-block w-100 px-0">اعداد</a> <a href=../../../sql_reference/table_functions/remote/ title=دور class="nav-link text-light text-wrap d-inline-block w-100 px-0">دور</a> <a href=../../../sql_reference/table_functions/url/ title="نشانی وب" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نشانی وب</a> <a href=../../../sql_reference/table_functions/mysql/ title="خروجی زیر" class="nav-link text-light text-wrap d-inline-block w-100 px-0">خروجی زیر</a> <a href=../../../sql_reference/table_functions/odbc/ title=جستجو class="nav-link text-light text-wrap d-inline-block w-100 px-0">جستجو</a> <a href=../../../sql_reference/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../sql_reference/table_functions/input/ title=ورودی class="nav-link text-light text-wrap d-inline-block w-100 px-0">ورودی</a> <a href=../../../sql_reference/table_functions/generate/ title=ژنرال class="nav-link text-light text-wrap d-inline-block w-100 px-0">ژنرال</a> </nav> </div> <a href=#sidebar-sidebar-5-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-5-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=#sidebar-sidebar-5-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-5-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title="توضیحات کلی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توضیحات کلی</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title="پیکربندی یک فرهنگ لغت خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پیکربندی یک فرهنگ لغت خارجی</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title="ذخیره واژهنامهها در حافظه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ذخیره واژهنامهها در حافظه</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title="به روز رسانی فرهنگ لغت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">به روز رسانی فرهنگ لغت</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title="منابع لغت نامه های خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">منابع لغت نامه های خارجی</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title="کلید فرهنگ لغت و زمینه های" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلید فرهنگ لغت و زمینه های</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title="لغتنامهها سلسله مراتبی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">لغتنامهها سلسله مراتبی</a> </nav> </div> <a href=../../../sql_reference/dictionaries/internal_dicts/ title="واژهنامهها داخلی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">واژهنامهها داخلی</a> </nav> </div> <a href=#sidebar-sidebar-5-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-5-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../sql_reference/data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql_reference/data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../../sql_reference/data_types/decimal/ title=دهدهی class="nav-link text-light text-wrap d-inline-block w-100 px-0">دهدهی</a> <a href=../../../sql_reference/data_types/boolean/ title=بولی class="nav-link text-light text-wrap d-inline-block w-100 px-0">بولی</a> <a href=../../../sql_reference/data_types/string/ title=رشته class="nav-link text-light text-wrap d-inline-block w-100 px-0">رشته</a> <a href=../../../sql_reference/data_types/fixedstring/ title="رشته ثابت)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رشته ثابت)</a> <a href=../../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql_reference/data_types/date/ title=تاریخ class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاریخ</a> <a href=../../../sql_reference/data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../../sql_reference/data_types/datetime64/ title="طول تاریخ 64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">طول تاریخ 64</a> <a href=../../../sql_reference/data_types/enum/ title=شمارشی class="nav-link text-light text-wrap d-inline-block w-100 px-0">شمارشی</a> <a href=../../../sql_reference/data_types/array/ title="& توری)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">& توری)</a> <a href=../../../sql_reference/data_types/aggregatefunction/ title="کارکرد(نام و نام خانوادگی..)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کارکرد(نام و نام خانوادگی..)</a> <a href=../../../sql_reference/data_types/tuple/ title="تاپل (تی1, تی2,...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاپل (تی1, تی2,...)</a> <a href=#sidebar-sidebar-5-8-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8-16 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-5-8-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/nested_data_structures/ title=مخفی class="nav-link text-light text-wrap d-inline-block w-100 px-0">مخفی</a> <a href=../../../sql_reference/data_types/nested_data_structures/nested/ title="تو در تو(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تو در تو(Name1 Type1, Name2 Type2, ...)</a> </nav> </div> <a href=../../../sql_reference/data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-5-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8-18 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-5-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/special_data_types/ title=مخفی class="nav-link text-light text-wrap d-inline-block w-100 px-0">مخفی</a> <a href=../../../sql_reference/data_types/special_data_types/expression/ title=عبارت class="nav-link text-light text-wrap d-inline-block w-100 px-0">عبارت</a> <a href=../../../sql_reference/data_types/special_data_types/set/ title=تنظیم class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیم</a> <a href=../../../sql_reference/data_types/special_data_types/nothing/ title="هیچ چیز" class="nav-link text-light text-wrap d-inline-block w-100 px-0">هیچ چیز</a> <a href=../../../sql_reference/data_types/special_data_types/interval/ title=فاصله class="nav-link text-light text-wrap d-inline-block w-100 px-0">فاصله</a> </nav> </div> <a href=#sidebar-sidebar-5-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-8-19 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-5-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../../sql_reference/data_types/domains/overview/ title="بررسی اجمالی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی</a> <a href=../../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=../../../sql_reference/operators/ title=اپراتورها class="nav-link text-light text-wrap d-inline-block w-100 px-0">اپراتورها</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title="بررسی اجمالی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی</a> <a href=../../../guides/apply_catboost_model/ title="استفاده از مدل های ادم کودن و احمق" class="nav-link text-light text-wrap d-inline-block w-100 px-0">استفاده از مدل های ادم کودن و احمق</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../operations/requirements/ title=الزامات class="nav-link text-light text-wrap d-inline-block w-100 px-0">الزامات</a> <a href=../../../operations/monitoring/ title=نظارت class="nav-link text-light text-wrap d-inline-block w-100 px-0">نظارت</a> <a href=../../../operations/troubleshooting/ title="عیب یابی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">عیب یابی</a> <a href=../../../operations/update/ title="به روز رسانی کلیک" class="nav-link text-light text-wrap d-inline-block w-100 px-0">به روز رسانی کلیک</a> <a href=../../../operations/access_rights/ title="حقوق دسترسی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">حقوق دسترسی</a> <a href=../../../operations/backup/ title="پشتیبان گیری داده ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پشتیبان گیری داده ها</a> <a href=../../../operations/configuration_files/ title="پروندههای پیکربندی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پروندههای پیکربندی</a> <a href=../../../operations/quotas/ title=سهمیه class="nav-link text-light text-wrap d-inline-block w-100 px-0">سهمیه</a> <a href=#sidebar-sidebar-7-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-10 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-7-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../../operations/optimizing_performance/sampling_query_profiler/ title="پروفایل پرس و جو" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پروفایل پرس و جو</a> </nav> </div> <a href=../../../operations/system_tables/ title="جداول سیستم" class="nav-link text-light text-wrap d-inline-block w-100 px-0">جداول سیستم</a> <a href=#sidebar-sidebar-7-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-12 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-7-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_configuration_parameters/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../operations/server_configuration_parameters/settings/ title="تنظیمات کارگزار" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیمات کارگزار</a> </nav> </div> <a href=../../../operations/performance_test/ title="سخت افزار تست" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سخت افزار تست</a> <a href=#sidebar-sidebar-7-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-14 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-7-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a> <a href=../../../operations/settings/permissions_for_queries/ title="مجوز برای نمایش داده شد" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مجوز برای نمایش داده شد</a> <a href=../../../operations/settings/query_complexity/ title="محدودیت در پیچیدگی پرس و جو" class="nav-link text-light text-wrap d-inline-block w-100 px-0">محدودیت در پیچیدگی پرس و جو</a> <a href=../../../operations/settings/settings/ title=تنظیمات class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیمات</a> <a href=../../../operations/settings/settings_profiles/ title="پروفایل تنظیمات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پروفایل تنظیمات</a> <a href=../../../operations/settings/constraints_on_settings/ title="محدودیت در تنظیمات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">محدودیت در تنظیمات</a> <a href=../../../operations/settings/settings_users/ title="تنظیمات کاربر" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیمات کاربر</a> </nav> </div> <a href=#sidebar-sidebar-7-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-15 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-7-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title="بررسی اجمالی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی</a> <a href=../../../operations/utilities/clickhouse-copier/ title=تاتر-کپی class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاتر-کپی</a> <a href=../../../operations/utilities/clickhouse-local/ title=کلیک-محلی class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلیک-محلی</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title=کلیک-معیار class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلیک-معیار</a> </nav> </div> <a href=../../../operations/tips/ title="توصیه های استفاده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توصیه های استفاده</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/ title=مخفی class="nav-link text-light text-wrap d-inline-block w-100 px-0">مخفی</a> <a href=../../../development/developer_instruction/ title="دستورالعمل توسعه دهنده کلیک مبتدی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">دستورالعمل توسعه دهنده کلیک مبتدی</a> <a href=../../../development/architecture/ title="بررسی اجمالی از معماری کلیک" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی از معماری کلیک</a> <a href=../../../development/browse_code/ title="مرور کد منبع کلیک" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مرور کد منبع کلیک</a> <a href=../../../development/build/ title="نحوه ساخت کلیک در لینوکس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نحوه ساخت کلیک در لینوکس</a> <a href=../../../development/build_osx/ title="چگونه برای ساخت تاتر در سیستم عامل مک ایکس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای ساخت تاتر در سیستم عامل مک ایکس</a> <a href=../../../development/build_cross_osx/ title="چگونه برای ساخت تاتر در لینوکس برای سیستم عامل مک ایکس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای ساخت تاتر در لینوکس برای سیستم عامل مک ایکس</a> <a href=../../../development/build_cross_arm/ title="چگونه برای ساخت ClickHouse در لینوکس برای AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای ساخت ClickHouse در لینوکس برای AARCH64 (ARM64)</a> <a href=../../../development/style/ title="چگونه برای نوشتن ج++ کد" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای نوشتن ج++ کد</a> <a href=../../../development/tests/ title="نحوه اجرای تست های کلیک خانه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نحوه اجرای تست های کلیک خانه</a> <a href=../../../development/contrib/ title="کتابخانه های شخص ثالث استفاده می شود" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کتابخانه های شخص ثالث استفاده می شود</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../../commercial/cloud/ title="ClickHouse ابر ارائه دهندگان خدمات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse ابر ارائه دهندگان خدمات</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-10-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-10-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats_new/roadmap/ title="نقشه راه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نقشه راه</a> <a href=../../../whats_new/security_changelog/ title="تغییرات امنیتی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تغییرات امنیتی</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../../faq/general/ title="سوالات عمومی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سوالات عمومی</a> </nav> </div> <a href=../../../ title="ClickHouse چیست؟" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse چیست؟</a> <a href=../../../single/clickhouse_fa.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="نسخه PDF" title="نسخه PDF" height=24 class="d-block mr-1 float-left"><div>نسخه PDF</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">راهنما می خواستم!</p> <p class=lead>محتوای زیر از این صفحه اسناد شده است ماشین ترجمه. اما بر خلاف وب سایت های دیگر, این است که در پرواز انجام نمی. این متن ترجمه شده در مخزن گیتهاب در کنار پایگاه داده اصلی خانه کلیک زندگی می کند و منتظر سخنرانان مادری همکار به انسان بیشتر قابل خواندن است.</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fa/sql_reference/statements/alter.md target=_blank rel="external nofollow noreferrer"> راهنما مستندات تاتر با ویرایش این صفحه </a> </p> </div> <h2 id=query_language_queries_alter>ALTER<a class=headerlink href=#query_language_queries_alter title="Permanent link">&para;</a></h2> <p>این <code>ALTER</code> پرسوجو فقط برای پشتیبانی <code>*MergeTree</code> جداول و همچنین <code>Merge</code>و<code>Distributed</code>. پرس و جو دارای چندین تغییرات.</p> <h3 id=column-manipulations>دستکاری ستون<a class=headerlink href=#column-manipulations title="Permanent link">&para;</a></h3> <p>تغییر ساختار جدول.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span> <span class=k>ADD</span><span class=o>|</span><span class=k>DROP</span><span class=o>|</span><span class=n>CLEAR</span><span class=o>|</span><span class=k>COMMENT</span><span class=o>|</span><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>...</span>
</code></pre></div> <p>در پرس و جو, مشخص یک لیست از یک یا چند اقدامات کاما از هم جدا.<br> هر عمل یک عملیات بر روی یک ستون است.</p> <p>اقدامات زیر پشتیبانی می شوند:</p> <ul> <li><a href=#alter_add-column>ADD COLUMN</a> — Adds a new column to the table.</li> <li><a href=#alter_drop-column>DROP COLUMN</a> — Deletes the column.</li> <li><a href=#alter_clear-column>CLEAR COLUMN</a> — Resets column values.</li> <li><a href=#alter_comment-column>COMMENT COLUMN</a> — Adds a text comment to the column.</li> <li><a href=#alter_modify-column>MODIFY COLUMN</a> — Changes column's type, default expression and TTL.</li> </ul> <p>این اقدامات در زیر توضیح داده شده است.</p> <h4 id=alter_add-column>ADD COLUMN<a class=headerlink href=#alter_add-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ADD</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>codec</span><span class=p>]</span> <span class=p>[</span><span class=k>AFTER</span> <span class=n>name_after</span><span class=p>]</span>
</code></pre></div> <p>یک ستون جدید به جدول با مشخص اضافه می کند <code>name</code>, <code>type</code>, <a href=../create/#codecs><code>codec</code></a> و <code>default_expr</code> (نگاه کنید به بخش <a href=../create/#create-default-values>عبارتهای پیشفرض</a>).</p> <p>اگر <code>IF NOT EXISTS</code> بند گنجانده شده است, پرس و جو یک خطا بازگشت نیست اگر ستون در حال حاضر وجود دارد. اگر شما مشخص کنید <code>AFTER name_after</code> (نام ستون دیگر), ستون پس از یک مشخص شده در لیست ستون جدول اضافه. در غیر این صورت, ستون به پایان جدول اضافه. توجه داشته باشید که هیچ راهی برای اضافه کردن یک ستون به ابتدای جدول وجود دارد. برای زنجیره ای از اقدامات, <code>name_after</code> می تواند نام یک ستون است که در یکی از اقدامات قبلی اضافه شده است.</p> <p>اضافه کردن یک ستون فقط تغییر ساختار جدول, بدون انجام هر گونه اقدامات با داده. داده ها بر روی دیسک پس از ظاهر نمی شود <code>ALTER</code>. اگر داده ها برای یک ستون از دست رفته در هنگام خواندن از جدول, این است که در با مقادیر پیش فرض پر (با انجام عبارت پیش فرض اگر یکی وجود دارد, و یا با استفاده از صفر یا رشته های خالی). ستون بر روی دیسک به نظر می رسد پس از ادغام قطعات داده (دیدن <a href=../../../engines/table_engines/mergetree_family/mergetree/ >ادغام</a>).</p> <p>این رویکرد به ما اجازه می دهد برای تکمیل <code>ALTER</code> پرس و جو فورا, بدون افزایش حجم داده های قدیمی.</p> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>ADD</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=n>String</span> <span class=k>AFTER</span> <span class=n>user_id</span>
</code></pre></div> <h4 id=alter_drop-column>DROP COLUMN<a class=headerlink href=#alter_drop-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>DROP</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span>
</code></pre></div> <p>ستون را با نام حذف می کند <code>name</code>. اگر <code>IF EXISTS</code> بند مشخص شده است, پرس و جو یک خطا بازگشت نیست اگر ستون وجود ندارد.</p> <p>حذف داده ها از سیستم فایل. از این حذف تمام فایل های پرس و جو تقریبا بلافاصله تکمیل شده است.</p> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>DROP</span> <span class=k>COLUMN</span> <span class=n>browser</span>
</code></pre></div> <h4 id=alter_clear-column>CLEAR COLUMN<a class=headerlink href=#alter_clear-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>بازنشانی تمام داده ها در یک ستون برای یک پارتیشن مشخص. اطلاعات بیشتر در مورد تنظیم نام پارتیشن در بخش <a href=#alter-how-to-specify-part-expr>نحوه مشخص کردن عبارت پارتیشن</a>.</p> <p>اگر <code>IF EXISTS</code> بند مشخص شده است, پرس و جو یک خطا بازگشت نیست اگر ستون وجود ندارد.</p> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span>
</code></pre></div> <h4 id=alter_comment-column>COMMENT COLUMN<a class=headerlink href=#alter_comment-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=s1>&#39;comment&#39;</span>
</code></pre></div> <p>می افزاید: نظر به ستون. اگر <code>IF EXISTS</code> بند مشخص شده است, پرس و جو یک خطا بازگشت نیست اگر ستون وجود ندارد.</p> <p>هر ستون می تواند یک نظر داشته باشد. اگر یک نظر در حال حاضر برای ستون وجود دارد, یک نظر جدید رونویسی نظر قبلی.</p> <p>نظرات در ذخیره می شود <code>comment_expression</code> ستون توسط <a href=../misc/#misc-describe-table>DESCRIBE TABLE</a> پرس و جو.</p> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>COMMENT</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=s1>&#39;The table shows the browser used for accessing the site.&#39;</span>
</code></pre></div> <h4 id=alter_modify-column>MODIFY COLUMN<a class=headerlink href=#alter_modify-column title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=p>[</span><span class=k>IF</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>name</span> <span class=p>[</span><span class=k>type</span><span class=p>]</span> <span class=p>[</span><span class=n>default_expr</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span><span class=p>]</span>
</code></pre></div> <p>این پرسوجو تغییر میکند <code>name</code> ویژگیهای ستون:</p> <ul> <li> <p>نوع</p> </li> <li> <p>عبارت پیشفرض</p> </li> <li> <p>TTL</p> <div class=codehilite><pre><span></span><code><span class=n>For</span> <span class=n>examples</span> <span class=n>of</span> <span class=n>columns</span> <span class=n>TTL</span> <span class=n>modifying</span><span class=p>,</span> <span class=n>see</span> <span class=p>[</span><span class=n>Column</span> <span class=n>TTL</span><span class=p>](..</span><span class=o>/</span><span class=n>engines</span><span class=o>/</span><span class=n>table_engines</span><span class=o>/</span><span class=n>mergetree_family</span><span class=o>/</span><span class=n>mergetree</span><span class=p>.</span><span class=n>md</span><span class=err>#</span><span class=n>mergetree</span><span class=o>-</span><span class=n>column</span><span class=o>-</span><span class=n>ttl</span><span class=p>).</span>
</code></pre></div> </li> </ul> <p>اگر <code>IF EXISTS</code> بند مشخص شده است, پرس و جو یک خطا بازگشت نیست اگر ستون وجود ندارد.</p> <p>هنگام تغییر نوع, ارزش ها به عنوان اگر تبدیل <a href=../../functions/type_conversion_functions/ >نوع</a> توابع به کار گرفته شد. اگر تنها عبارت پیش فرض تغییر می کند, پرس و جو می کند هر چیزی پیچیده نیست, و تقریبا بلافاصله تکمیل.</p> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=k>MODIFY</span> <span class=k>COLUMN</span> <span class=n>browser</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>)</span>
</code></pre></div> <p>Changing the column type is the only complex action – it changes the contents of files with data. For large tables, this may take a long time.</p> <p>چندین مرحله پردازش وجود دارد:</p> <ul> <li>تهیه فایل های موقت (جدید) با داده های اصلاح شده.</li> <li>تغییر نام فایل های قدیمی.</li> <li>تغییر نام فایل های موقت (جدید) به نام های قدیمی.</li> <li>حذف فایل های قدیمی.</li> </ul> <p>فقط مرحله اول زمان طول می کشد. در صورتی که یک شکست در این مرحله وجود دارد, داده ها تغییر نکرده است.<br> در صورتی که یک شکست در یکی از مراحل پی در پی وجود دارد, داده ها را می توان به صورت دستی ترمیم. استثنا است اگر فایل های قدیمی از سیستم فایل حذف شد اما داده ها را برای فایل های جدید را به دیسک نوشته شده است و از دست داده بود.</p> <p>این <code>ALTER</code> پرس و جو برای تغییر ستون تکرار شده است. دستورالعمل ها در باغ وحش ذخیره می شوند و سپس هر ماکت اعمال می شود. همه <code>ALTER</code> نمایش داده شد در همان جهت اجرا شود. پرس و جو منتظر اقدامات مناسب برای در کپی دیگر تکمیل شود. با این حال, پرس و جو برای تغییر ستون در یک جدول تکرار می تواند قطع, و تمام اقدامات غیر همزمان انجام خواهد شد.</p> <h4 id=alter-query-limitations>تغییر محدودیت پرس و جو<a class=headerlink href=#alter-query-limitations title="Permanent link">&para;</a></h4> <p>این <code>ALTER</code> پرس و جو به شما امکان ایجاد و حذف عناصر جداگانه (ستون) در ساختارهای داده های تو در تو, اما نه کل ساختارهای داده تو در تو. برای اضافه کردن یک ساختار داده های تو در تو, شما می توانید ستون با یک نام مانند اضافه <code>name.nested_name</code> و نوع <code>Array(T)</code>. ساختار داده های تو در تو معادل ستون های چندگانه با یک نام است که پیشوند مشابه قبل از نقطه است.</p> <p>هیچ پشتیبانی برای حذف ستون ها در کلید اصلی یا کلید نمونه برداری (ستون هایی که در استفاده می شود) وجود ندارد. <code>ENGINE</code> عبارت). تغییر نوع ستون که در کلید اصلی گنجانده شده است تنها ممکن است اگر این تغییر باعث نمی شود داده ها به اصلاح شود (مثلا, شما مجاز به اضافه کردن مقادیر به شمارشی و یا برای تغییر یک نوع از <code>DateTime</code> به <code>UInt32</code>).</p> <p>اگر <code>ALTER</code> پرس و جو برای ایجاد تغییرات جدول مورد نیاز کافی نیست شما می توانید یک جدول جدید ایجاد کنید و داده ها را با استفاده از داده ها کپی کنید <a href=../insert_into/#insert_query_insert-select>INSERT SELECT</a> پرس و جو, سپس جداول با استفاده از تغییر <a href=../misc/#misc_operations-rename>RENAME</a> پرس و جو و حذف جدول قدیمی. شما می توانید از <a href=../../../operations/utilities/clickhouse-copier/ >تاتر-کپی</a> به عنوان یک جایگزین برای <code>INSERT SELECT</code> پرس و جو.</p> <p>این <code>ALTER</code> بلوک پرس و جو همه می خواند و می نویسد برای جدول. به عبارت دیگر, اگر طولانی <code>SELECT</code> در حال اجرا است در زمان <code>ALTER</code> پرس و جو <code>ALTER</code> پرس و جو منتظر خواهد ماند تا کامل شود. همزمان, تمام نمایش داده شد جدید به همان جدول صبر کنید در حالی که این <code>ALTER</code> در حال اجرا است.</p> <p>برای جداول که داده های خود را ذخیره کنید (مانند <code>Merge</code> و <code>Distributed</code>), <code>ALTER</code> فقط ساختار جدول را تغییر می دهد و ساختار جداول تابع را تغییر نمی دهد. مثلا, زمانی که در حال اجرا را تغییر دهید برای یک <code>Distributed</code> جدول, شما همچنین نیاز به اجرا <code>ALTER</code> برای جداول در تمام سرور از راه دور.</p> <h3 id=manipulations-with-key-expressions>دستکاری با عبارات کلیدی<a class=headerlink href=#manipulations-with-key-expressions title="Permanent link">&para;</a></h3> <p>دستور زیر پشتیبانی می شود:</p> <div class=codehilite><pre><span></span><code><span class=k>MODIFY</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>new_expression</span>
</code></pre></div> <p>این فقط برای جداول در کار می کند <a href=../../../engines/table_engines/mergetree_family/mergetree/ ><code>MergeTree</code></a> خانواده (از جمله<br> <a href=../../../engines/table_engines/mergetree_family/replication/ >تکرار</a> جدول). فرمان تغییر<br> <a href=../../../engines/table_engines/mergetree_family/mergetree/ >کلید مرتب سازی</a> از جدول<br> به <code>new_expression</code> (بیان و یا یک تاپل از عبارات). کلید اصلی یکسان باقی می ماند.</p> <p>فرمان سبک وزن به این معنا است که تنها ابرداده را تغییر می دهد. برای حفظ اموال که بخش داده ها<br> ردیف ها توسط عبارت کلیدی مرتب سازی شما می توانید عبارات حاوی ستون های موجود اضافه کنید دستور داد<br> به کلید مرتب سازی (فقط ستون اضافه شده توسط <code>ADD COLUMN</code> فرمان در همان <code>ALTER</code> پرسوجو).</p> <h3 id=manipulations-with-data-skipping-indices>دستکاری با شاخص های پرش داده<a class=headerlink href=#manipulations-with-data-skipping-indices title="Permanent link">&para;</a></h3> <p>این فقط برای جداول در کار می کند <a href=../../../engines/table_engines/mergetree_family/mergetree/ ><code>*MergeTree</code></a> خانواده (از جمله<br> <a href=../../../engines/table_engines/mergetree_family/replication/ >تکرار</a> جدول). عملیات زیر<br> در دسترس هستند:</p> <ul> <li> <p><code>ALTER TABLE [db].name ADD INDEX name expression TYPE type GRANULARITY value AFTER name [AFTER name2]</code> - می افزاید توضیحات شاخص به ابرداده جداول .</p> </li> <li> <p><code>ALTER TABLE [db].name DROP INDEX name</code> - حذف شرح شاخص از ابرداده جداول و حذف فایل های شاخص از دیسک.</p> </li> </ul> <p>این دستورات سبک وزن هستند به این معنا که فقط فراداده را تغییر می دهند یا فایل ها را حذف می کنند.<br> همچنین تکرار میشوند (همگامسازی فرادادههای شاخص از طریق باغ وحش).</p> <h3 id=manipulations-with-constraints>دستکاری با محدودیت<a class=headerlink href=#manipulations-with-constraints title="Permanent link">&para;</a></h3> <p>مشاهده بیشتر در <a href=../create/#constraints>قیدها</a></p> <p>محدودیت ها می توانند با استفاده از نحو زیر اضافه یا حذف شوند:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>ADD</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span> <span class=k>CHECK</span> <span class=n>expression</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>].</span><span class=n>name</span> <span class=k>DROP</span> <span class=k>CONSTRAINT</span> <span class=k>constraint_name</span><span class=p>;</span>
</code></pre></div> <p>نمایش داده شد اضافه خواهد شد و یا حذف ابرداده در مورد محدودیت از جدول به طوری که بلافاصله پردازش شده است.</p> <p>بررسی قید <em>اعدام نخواهد شد</em> در داده های موجود اگر اضافه شد.</p> <p>همه تغییرات در جداول تکرار در حال پخش به باغ وحش بنابراین خواهد شد در دیگر کپی اعمال می شود.</p> <h3 id=alter_manipulations-with-partitions>دستکاری با پارتیشن ها و قطعات<a class=headerlink href=#alter_manipulations-with-partitions title="Permanent link">&para;</a></h3> <p>عملیات زیر را با <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ >پارتیشن ها</a> در دسترس هستند:</p> <ul> <li><a href=#alter_detach-partition>DETACH PARTITION</a> – Moves a partition to the <code>detached</code> دایرکتوری و فراموش کرده ام.</li> <li><a href=#alter_drop-partition>DROP PARTITION</a> – Deletes a partition.</li> <li><a href=#alter_attach-partition>ATTACH PART|PARTITION</a> – Adds a part or partition from the <code>detached</code> دایرکتوری به جدول.</li> <li><a href=#alter_replace-partition>REPLACE PARTITION</a> - پارتیشن داده ها را از یک جدول به دیگری کپی می کند.</li> <li><a href=#alter_attach-partition-from>ATTACH PARTITION FROM</a> – Copies the data partition from one table to another and adds.</li> <li><a href=#alter_replace-partition>REPLACE PARTITION</a> - پارتیشن داده ها را از یک جدول به دیگری کپی می کند و جایگزین می شود.</li> <li><a href=#alter_move_to_table-partition>MOVE PARTITION TO TABLE</a> (#تغییر_موف_ قابل تنظیم-پارتیشن) - پارتیشن داده را از یک جدول به دیگری حرکت دهید.</li> <li><a href=#alter_clear-column-partition>CLEAR COLUMN IN PARTITION</a> - بازنشانی ارزش یک ستون مشخص شده در یک پارتیشن.</li> <li><a href=#alter_clear-index-partition>CLEAR INDEX IN PARTITION</a> - بازنشانی شاخص ثانویه مشخص شده در یک پارتیشن.</li> <li><a href=#alter_freeze-partition>FREEZE PARTITION</a> – Creates a backup of a partition.</li> <li><a href=#alter_fetch-partition>FETCH PARTITION</a> – Downloads a partition from another server.</li> <li><a href=#alter_move-partition>MOVE PARTITION|PART</a> – Move partition/data part to another disk or volume.</li> </ul> <!-- --> <h4 id=detach-partition-alter-detach-partition>جدا پارتیشن {#alter_detach-پارتیشن}<a class=headerlink href=#detach-partition-alter-detach-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>تمام داده ها را برای پارتیشن مشخص شده به <code>detached</code> فهرست راهنما. سرور فراموش در مورد پارتیشن داده جدا به عنوان اگر وجود ندارد. سرور نمی خواهد در مورد این داده ها می دانم تا زمانی که شما را به <a href=#alter_attach-partition>ATTACH</a> پرس و جو.</p> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>DETACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span>
</code></pre></div> <p>اطلاعات بیشتر در مورد تنظیم بیان پارتیشن در یک بخش <a href=#alter-how-to-specify-part-expr>نحوه مشخص کردن عبارت پارتیشن</a>.</p> <p>پس از پرس و جو اجرا شده است, شما می توانید هر کاری که می خواهید با داده ها در انجام <code>detached</code> directory — delete it from the file system, or just leave it.</p> <p>This query is replicated – it moves the data to the <code>detached</code> دایرکتوری در تمام کپی. توجه داشته باشید که شما می توانید این پرس و جو تنها در یک ماکت رهبر را اجرا کند. برای پیدا کردن اگر یک ماکت یک رهبر است, انجام <code>SELECT</code> پرسوجو به <a href=../../../operations/system_tables/#system_tables-replicas>سیستم.تکرار</a> جدول متناوبا, راحت تر به یک است <code>DETACH</code> پرس و جو در تمام کپی - همه کپی پرتاب یک استثنا, به جز ماکت رهبر.</p> <h4 id=alter_drop-partition>DROP PARTITION<a class=headerlink href=#alter_drop-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>پارتیشن مشخص شده را از جدول حذف می کند. این برچسب ها پرس و جو پارتیشن به عنوان غیر فعال و حذف داده ها به طور کامل, حدود در 10 دقیقه.</p> <p>اطلاعات بیشتر در مورد تنظیم بیان پارتیشن در یک بخش <a href=#alter-how-to-specify-part-expr>نحوه مشخص کردن عبارت پارتیشن</a>.</p> <p>The query is replicated – it deletes data on all replicas.</p> <h4 id=alter_drop-detached>DROP DETACHED PARTITION|PART<a class=headerlink href=#alter_drop-detached title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>DROP</span> <span class=n>DETACHED</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>بخش مشخص شده یا تمام قسمت های پارتیشن مشخص شده را از بین می برد <code>detached</code>.<br> اطلاعات بیشتر در مورد تنظیم بیان پارتیشن در یک بخش <a href=#alter-how-to-specify-part-expr>نحوه مشخص کردن عبارت پارتیشن</a>.</p> <h4 id=alter_attach-partition>ATTACH PARTITION|PART<a class=headerlink href=#alter_attach-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span>
</code></pre></div> <p>می افزاید داده ها به جدول از <code>detached</code> فهرست راهنما. ممکن است که به اضافه کردن داده ها برای کل پارتیشن و یا برای یک بخش جداگانه. مثالها:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201901</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>ATTACH</span> <span class=n>PART</span> <span class=mi>201901</span><span class=n>_2_2_0</span><span class=p>;</span>
</code></pre></div> <p>اطلاعات بیشتر در مورد تنظیم بیان پارتیشن در یک بخش <a href=#alter-how-to-specify-part-expr>نحوه مشخص کردن عبارت پارتیشن</a>.</p> <p>این پرس و جو تکرار شده است. چک المثنی-ابتکار چه داده ها در وجود دارد <code>detached</code> فهرست راهنما. اگر داده وجود دارد, پرس و جو چک یکپارچگی خود را. اگر همه چیز درست است, پرس و جو می افزاید: داده ها به جدول. همه کپی دیگر دانلود داده ها از ماکت-مبتکر.</p> <p>بنابراین شما می توانید داده ها را به <code>detached</code> دایرکتوری در یک ماکت, و استفاده از <code>ALTER ... ATTACH</code> پرس و جو برای اضافه کردن به جدول در تمام کپی.</p> <h4 id=alter_attach-partition-from>ATTACH PARTITION FROM<a class=headerlink href=#alter_attach-partition-from title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>این پرس و جو پارتیشن داده را از <code>table1</code> به <code>table2</code> می افزاید داده ها به لیست موجود در <code>table2</code>. توجه داشته باشید که داده ها از حذف نمی شود <code>table1</code>.</p> <p>برای پرس و جو به اجرا با موفقیت, شرایط زیر باید رعایت شود:</p> <ul> <li>هر دو جدول باید همان ساختار دارند.</li> <li>هر دو جدول باید کلید پارتیشن همان.</li> </ul> <h4 id=alter_replace-partition>REPLACE PARTITION<a class=headerlink href=#alter_replace-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table2</span> <span class=k>REPLACE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=n>table1</span>
</code></pre></div> <p>این پرس و جو پارتیشن داده را از <code>table1</code> به <code>table2</code> و جایگزین پارتیشن موجود در <code>table2</code>. توجه داشته باشید که داده ها از حذف نمی شود <code>table1</code>.</p> <p>برای پرس و جو به اجرا با موفقیت, شرایط زیر باید رعایت شود:</p> <ul> <li>هر دو جدول باید همان ساختار دارند.</li> <li>هر دو جدول باید کلید پارتیشن همان.</li> </ul> <h4 id=alter_move_to_table-partition>MOVE PARTITION TO TABLE<a class=headerlink href=#alter_move_to_table-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>table_source</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=k>TABLE</span> <span class=n>table_dest</span>
</code></pre></div> <p>این پرس و جو انتقال پارتیشن داده ها از <code>table_source</code> به <code>table_dest</code> با حذف داده ها از <code>table_source</code>.</p> <p>برای پرس و جو به اجرا با موفقیت, شرایط زیر باید رعایت شود:</p> <ul> <li>هر دو جدول باید همان ساختار دارند.</li> <li>هر دو جدول باید کلید پارتیشن همان.</li> <li>هر دو جدول باید همان خانواده موتور باشد. (تکرار و یا غیر تکرار)</li> <li>هر دو جدول باید سیاست ذخیره سازی همان.</li> </ul> <h4 id=alter_clear-column-partition>CLEAR COLUMN IN PARTITION<a class=headerlink href=#alter_clear-column-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=k>column_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>بازنشانی تمام مقادیر در ستون مشخص شده در یک پارتیشن. اگر <code>DEFAULT</code> بند هنگام ایجاد یک جدول تعیین شد, این پرس و جو مجموعه مقدار ستون به یک مقدار پیش فرض مشخص.</p> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>visits</span> <span class=n>CLEAR</span> <span class=k>COLUMN</span> <span class=n>hour</span> <span class=k>in</span> <span class=n>PARTITION</span> <span class=mi>201902</span>
</code></pre></div> <h4 id=alter_freeze-partition>FREEZE PARTITION<a class=headerlink href=#alter_freeze-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FREEZE</span> <span class=p>[</span><span class=n>PARTITION</span> <span class=n>partition_expr</span><span class=p>]</span>
</code></pre></div> <p>این پرس و جو یک نسخه پشتیبان تهیه محلی از یک پارتیشن مشخص شده ایجاد می کند. اگر <code>PARTITION</code> بند حذف شده است, پرس و جو ایجاد پشتیبان گیری از تمام پارتیشن در یک بار.</p> <div class="admonition note"> <p class=admonition-title>یادداشت</p> <p>تمامی مراحل پشتیبان گیری بدون توقف سرور انجام می شود.</p> </div> <p>توجه داشته باشید که برای جداول قدیمی مدل دهید شما می توانید پیشوند نام پارتیشن را مشخص کنید (به عنوان مثال, ‘2019’)- سپس پرس و جو پشتیبان گیری برای تمام پارتیشن مربوطه ایجاد می کند. اطلاعات بیشتر در مورد تنظیم بیان پارتیشن در یک بخش <a href=#alter-how-to-specify-part-expr>نحوه مشخص کردن عبارت پارتیشن</a>.</p> <p>در زمان اجرای, برای یک تصویر لحظهای داده, پرس و جو ایجاد لینک به داده های جدول. پیوندهای سخت در دایرکتوری قرار می گیرند <code>/var/lib/clickhouse/shadow/N/...</code> کجا:</p> <ul> <li><code>/var/lib/clickhouse/</code> است دایرکتوری محل کلیک کار مشخص شده در پیکربندی.</li> <li><code>N</code> تعداد افزایشی از نسخه پشتیبان تهیه شده است.</li> </ul> <div class="admonition note"> <p class=admonition-title>یادداشت</p> <p>در صورت استفاده <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-multiple-volumes>مجموعه ای از دیسک برای ذخیره سازی داده ها در یک جدول</a> این <code>shadow/N</code> دایرکتوری به نظر می رسد در هر دیسک, ذخیره سازی قطعات داده که توسط همسان <code>PARTITION</code> اصطلاح.</p> </div> <p>همان ساختار دایرکتوری ها در داخل پشتیبان به عنوان داخل ایجاد شده است <code>/var/lib/clickhouse/</code>. پرس و جو انجام می شود ‘chmod’ برای همه پروندهها نوشتن رو ممنوع کردم</p> <p>پس از ایجاد نسخه پشتیبان تهیه, شما می توانید داده ها را از کپی <code>/var/lib/clickhouse/shadow/</code> به سرور از راه دور و سپس از سرور محلی حذف کنید. توجه داشته باشید که <code>ALTER t FREEZE PARTITION</code> پرس و جو تکرار نشده است. این یک نسخه پشتیبان تهیه محلی تنها بر روی سرور محلی ایجاد می کند.</p> <p>پرس و جو ایجاد نسخه پشتیبان تهیه تقریبا بلافاصله (اما برای اولین بار برای نمایش داده شد در حال حاضر به جدول مربوطه منتظر را به پایان برساند در حال اجرا).</p> <p><code>ALTER TABLE t FREEZE PARTITION</code> نسخه تنها داده, ابرداده جدول نیست. برای تهیه نسخه پشتیبان از فراداده های جدول فایل را کپی کنید <code>/var/lib/clickhouse/metadata/database/table.sql</code></p> <p>برای بازیابی اطلاعات از یک نسخه پشتیبان تهیه زیر را انجام دهید:</p> <ol> <li>ایجاد جدول اگر وجود ندارد. برای مشاهده پرس و جو, استفاده از .پرونده جدید <code>ATTACH</code> در این با <code>CREATE</code>).</li> <li>رونوشت داده از <code>data/database/table/</code> دایرکتوری در داخل پشتیبان گیری به <code>/var/lib/clickhouse/data/database/table/detached/</code> فهرست راهنما.</li> <li>بدو <code>ALTER TABLE t ATTACH PARTITION</code> نمایش داده شد برای اضافه کردن داده ها به یک جدول.</li> </ol> <p>بازگرداندن از یک نسخه پشتیبان تهیه می کند نیاز به متوقف کردن سرور نیست.</p> <p>برای کسب اطلاعات بیشتر در مورد پشتیبان گیری و بازیابی اطلاعات, دیدن <a href=../../../operations/backup/ >پشتیبان گیری داده ها</a> بخش.</p> <h4 id=alter_clear-index-partition>CLEAR INDEX IN PARTITION<a class=headerlink href=#alter_clear-index-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=n>CLEAR</span> <span class=k>INDEX</span> <span class=n>index_name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span>
</code></pre></div> <p>پرس و جو کار می کند شبیه به <code>CLEAR COLUMN</code>, اما بازنشانی شاخص به جای یک داده ستون.</p> <h4 id=alter_fetch-partition>FETCH PARTITION<a class=headerlink href=#alter_fetch-partition title="Permanent link">&para;</a></h4> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=n>partition_expr</span> <span class=k>FROM</span> <span class=s1>&#39;path-in-zookeeper&#39;</span>
</code></pre></div> <p>دانلود یک پارتیشن از سرور دیگر. این پرس و جو تنها برای جداول تکرار کار می کند.</p> <p>پرس و جو می کند به شرح زیر است:</p> <ol> <li>پارتیشن را از سفال مشخص شده دانلود کنید. داخل ‘path-in-zookeeper’ شما باید یک مسیر به سفال در باغ وحش را مشخص کنید.</li> <li>سپس پرس و جو داده های دانلود شده را به <code>detached</code> دایرکتوری از <code>table_name</code> جدول استفاده از <a href=#alter_attach-partition>ATTACH PARTITION|PART</a> پرسوجو برای افزودن داده به جدول.</li> </ol> <p>به عنوان مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=k>FETCH</span> <span class=n>PARTITION</span> <span class=mi>201902</span> <span class=k>FROM</span> <span class=s1>&#39;/clickhouse/tables/01-01/visits&#39;</span><span class=p>;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>users</span> <span class=n>ATTACH</span> <span class=n>PARTITION</span> <span class=mi>201902</span><span class=p>;</span>
</code></pre></div> <p>توجه داشته باشید که:</p> <ul> <li>این <code>ALTER ... FETCH PARTITION</code> پرس و جو تکرار نشده است. این پارتیشن را به <code>detached</code> دایرکتوری تنها بر روی سرور محلی.</li> <li>این <code>ALTER TABLE ... ATTACH</code> پرس و جو تکرار شده است. این می افزاید: داده ها به تمام کپی. داده ها به یکی از کپی ها از <code>detached</code> فهرست راهنما, و به دیگران - از کپی همسایه.</li> </ul> <p>قبل از دانلود, سیستم چک اگر پارتیشن وجود دارد و ساختار جدول مسابقات. ماکت مناسب ترین به طور خودکار از کپی سالم انتخاب شده است.</p> <p>اگر چه پرس و جو نامیده می شود <code>ALTER TABLE</code>, این ساختار جدول را تغییر دهید و بلافاصله داده های موجود در جدول را تغییر دهید.</p> <h4 id=alter_move-partition>MOVE PARTITION|PART<a class=headerlink href=#alter_move-partition title="Permanent link">&para;</a></h4> <p>پارتیشن ها یا قطعات داده را به حجم یا دیسک دیگری منتقل می کند <code>MergeTree</code>- جدول موتور . ببینید <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-multiple-volumes>با استفاده از دستگاه های بلوک های متعدد برای ذخیره سازی داده ها</a>.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table_name</span> <span class=k>MOVE</span> <span class=n>PARTITION</span><span class=o>|</span><span class=n>PART</span> <span class=n>partition_expr</span> <span class=k>TO</span> <span class=n>DISK</span><span class=o>|</span><span class=n>VOLUME</span> <span class=s1>&#39;disk_name&#39;</span>
</code></pre></div> <p>این <code>ALTER TABLE t MOVE</code> پرسوجو:</p> <ul> <li>تکرار نشده, به دلیل کپی های مختلف می توانید سیاست های ذخیره سازی مختلف دارند.</li> <li>بازگرداندن خطا در صورتی که دیسک یا حجم مشخص پیکربندی نشده است. پرس و جو نیز یک خطا را برمی گرداند اگر شرایط در حال حرکت داده, که مشخص شده در سیاست ذخیره سازی, نمی توان اعمال کرد.</li> <li>می توانید یک خطا در مورد بازگشت, زمانی که داده ها به نقل مکان کرد در حال حاضر توسط یک فرایند پس زمینه نقل مکان کرد, همزمان <code>ALTER TABLE t MOVE</code> پرس و جو و یا به عنوان یک نتیجه از ادغام داده های پس زمینه. کاربر باید هر گونه اقدامات اضافی در این مورد انجام نمی.</li> </ul> <p>مثال:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PART</span> <span class=s1>&#39;20190301_14343_16206_438&#39;</span> <span class=k>TO</span> <span class=n>VOLUME</span> <span class=s1>&#39;slow&#39;</span>
<span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>hits</span> <span class=k>MOVE</span> <span class=n>PARTITION</span> <span class=s1>&#39;2019-09-01&#39;</span> <span class=k>TO</span> <span class=n>DISK</span> <span class=s1>&#39;fast_ssd&#39;</span>
</code></pre></div> <h4 id=alter-how-to-specify-part-expr>نحوه تنظیم بیان پارتیشن<a class=headerlink href=#alter-how-to-specify-part-expr title="Permanent link">&para;</a></h4> <p>شما می توانید بیان پارتیشن را مشخص کنید <code>ALTER ... PARTITION</code> نمایش داده شد به روش های مختلف:</p> <ul> <li>به عنوان یک مقدار از <code>partition</code> ستون از <code>system.parts</code> جدول به عنوان مثال, <code>ALTER TABLE visits DETACH PARTITION 201901</code>.</li> <li>به عنوان بیان از ستون جدول. ثابت ها و عبارات ثابت پشتیبانی می شوند. به عنوان مثال, <code>ALTER TABLE visits DETACH PARTITION toYYYYMM(toDate('2019-01-25'))</code>.</li> <li>با استفاده از شناسه پارتیشن. شناسه پارتیشن شناسه رشته پارتیشن (انسان قابل خواندن در صورت امکان) است که به عنوان نام پارتیشن در فایل سیستم و در باغ وحش استفاده می شود. شناسه پارتیشن باید در <code>PARTITION ID</code> بند, در یک نقل قول واحد. به عنوان مثال, <code>ALTER TABLE visits DETACH PARTITION ID '201901'</code>.</li> <li>در <a href=#alter_attach-partition>ALTER ATTACH PART</a> و <a href=#alter_drop-detached>DROP DETACHED PART</a> پرس و جو, برای مشخص کردن نام یک بخش, استفاده از رشته تحت اللفظی با ارزش از <code>name</code> ستون از <a href=../../../operations/system_tables/#system_tables-detached_parts>سیستم.قطعات مجزا</a> جدول به عنوان مثال, <code>ALTER TABLE visits ATTACH PART '201901_1_1_0'</code>.</li> </ul> <p>استفاده از نقل قول در هنگام مشخص کردن پارتیشن بستگی به نوع بیان پارتیشن. برای مثال برای <code>String</code> نوع, شما باید برای مشخص کردن نام خود را در نقل قول (<code>'</code>). برای <code>Date</code> و <code>Int*</code> انواع بدون نقل قول مورد نیاز است.</p> <p>برای جداول قدیمی به سبک, شما می توانید پارتیشن یا به عنوان یک عدد مشخص <code>201901</code> یا یک رشته <code>'201901'</code>. نحو برای جداول سبک جدید سختگیرانه تر با انواع است (شبیه به تجزیه کننده برای فرمت ورودی ارزش).</p> <p>تمام قوانین فوق نیز برای درست است <a href=../misc/#misc_operations-optimize>OPTIMIZE</a> پرس و جو. اگر شما نیاز به مشخص کردن تنها پارتیشن در هنگام بهینه سازی یک جدول غیر تقسیم, تنظیم بیان <code>PARTITION tuple()</code>. به عنوان مثال:</p> <div class=codehilite><pre><span></span><code><span class=n>OPTIMIZE</span> <span class=k>TABLE</span> <span class=n>table_not_partitioned</span> <span class=n>PARTITION</span> <span class=n>tuple</span><span class=p>()</span> <span class=k>FINAL</span><span class=p>;</span>
</code></pre></div> <p>نمونه هایی از <code>ALTER ... PARTITION</code> نمایش داده شد در تست نشان داده شده است <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_local.sql rel="external nofollow noreferrer"><code>00502_custom_partitioning_local</code></a> و <a href=https://github.com/ClickHouse/ClickHouse/blob/master/tests/queries/0_stateless/00502_custom_partitioning_replicated_zookeeper.sql rel="external nofollow noreferrer"><code>00502_custom_partitioning_replicated_zookeeper</code></a>.</p> <h3 id=manipulations-with-table-ttl>دستکاری با جدول جدول<a class=headerlink href=#manipulations-with-table-ttl title="Permanent link">&para;</a></h3> <p>شما می توانید تغییر دهید <a href=../../../engines/table_engines/mergetree_family/mergetree/#mergetree-table-ttl>جدول</a> با درخواست فرم زیر:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=k>table</span><span class=o>-</span><span class=n>name</span> <span class=k>MODIFY</span> <span class=n>TTL</span> <span class=n>ttl</span><span class=o>-</span><span class=n>expression</span>
</code></pre></div> <h3 id=synchronicity-of-alter-queries>همزمانی تغییر نمایش داده شد<a class=headerlink href=#synchronicity-of-alter-queries title="Permanent link">&para;</a></h3> <p>برای جداول غیر قابل تکرار, همه <code>ALTER</code> نمایش داده شد همزمان انجام می شود. برای جداول تکرار, پرس و جو فقط می افزاید دستورالعمل برای اقدامات مناسب به <code>ZooKeeper</code> و اقدامات خود را در اسرع وقت انجام می شود. با این حال, پرس و جو می توانید صبر کنید برای این اقدامات در تمام کپی تکمیل شود.</p> <p>برای <code>ALTER ... ATTACH|DETACH|DROP</code> نمایش داده شد, شما می توانید با استفاده از <code>replication_alter_partitions_sync</code> راه اندازی به راه اندازی انتظار.<br> مقادیر ممکن: <code>0</code> – do not wait; <code>1</code> – only wait for own execution (default); <code>2</code> – wait for all.</p> <h3 id=alter-mutations>جهشها<a class=headerlink href=#alter-mutations title="Permanent link">&para;</a></h3> <p>جهش یک نوع پرس و جو را تغییر دهید که اجازه می دهد تا تغییر یا حذف ردیف در یک جدول. در مقایسه با استاندارد <code>UPDATE</code> و <code>DELETE</code> نمایش داده شد که برای تغییرات داده نقطه در نظر گرفته شده, جهش برای عملیات سنگین است که تغییر بسیاری از ردیف در یک جدول در نظر گرفته شده. پشتیبانی برای <code>MergeTree</code> خانواده از موتورهای جدول از جمله موتورهای با پشتیبانی تکرار.</p> <p>جداول موجود برای جهش به عنوان (بدون تبدیل لازم), اما پس از جهش برای اولین بار است که به یک جدول اعمال, فرمت ابرداده خود را با نسخه های سرور قبلی ناسازگار می شود و سقوط به نسخه های قبلی غیر ممکن می شود.</p> <p>دستورات در حال حاضر در دسترس:</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>DELETE</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>این <code>filter_expr</code> باید از نوع باشد <code>UInt8</code>. پرس و جو حذف ردیف در جدول که این عبارت طول می کشد یک مقدار غیر صفر.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=k>UPDATE</span> <span class=n>column1</span> <span class=o>=</span> <span class=n>expr1</span> <span class=p>[,</span> <span class=p>...]</span> <span class=k>WHERE</span> <span class=n>filter_expr</span>
</code></pre></div> <p>این <code>filter_expr</code> باید از نوع باشد <code>UInt8</code>. این پرس و جو به روز رسانی مقادیر ستون مشخص شده به ارزش عبارات مربوطه در ردیف که <code>filter_expr</code> طول می کشد یک مقدار غیر صفر. ارزش ها به نوع ستون با استفاده از قالبی <code>CAST</code> اپراتور. به روز رسانی ستون هایی که در محاسبه اولیه استفاده می شود و یا کلید پارتیشن پشتیبانی نمی شود.</p> <div class=codehilite><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=n>MATERIALIZE</span> <span class=k>INDEX</span> <span class=n>name</span> <span class=k>IN</span> <span class=n>PARTITION</span> <span class=n>partition_name</span>
</code></pre></div> <p>پرس و جو بازسازی شاخص ثانویه <code>name</code> در پارتیشن <code>partition_name</code>.</p> <p>یک پرس و جو می تواند شامل چندین دستورات جدا شده توسط کاما.</p> <p>برای * جداول ادغام جهش اجرا با بازنویسی تمام قطعات داده. هیچ اتمیتی وجود ندارد - قطعات برای قطعات جهش یافته جایگزین می شوند به محض اینکه اماده باشند و <code>SELECT</code> پرس و جو است که شروع به اجرای در طول جهش داده ها از قطعات است که در حال حاضر همراه با داده ها از قطعات است که هنوز جهش یافته شده اند جهش را ببینید.</p> <p>جهش ها به طور کامل توسط نظم خلقت خود دستور داده می شوند و به هر بخش به این ترتیب اعمال می شوند. جهش نیز تا حدی با درج دستور داد - داده هایی که به جدول وارد شد قبل از جهش ارسال خواهد شد جهش یافته و داده هایی که پس از که قرار داده شد جهش یافته نمی شود. توجه داشته باشید که جهش درج به هیچ وجه مسدود نیست.</p> <p>یک جهش پرس و جو می گرداند بلافاصله پس از جهش مطلب اضافه شده است (در صورت تکرار جداول به باغ وحش برای nonreplicated جداول - به فایل سیستم). جهش خود را اجرا ناهمگام با استفاده از تنظیمات مشخصات سیستم. برای پیگیری پیشرفت جهش شما می توانید با استفاده از <a href=../../../operations/system_tables/#system_tables-mutations><code>system.mutations</code></a> جدول یک جهش است که با موفقیت ارسال شد ادامه خواهد داد برای اجرای حتی اگر سرور کلیک دوباره راه اندازی. هیچ راهی برای عقب انداختن جهش هنگامی که ارسال شده است وجود دارد, اما اگر جهش برای برخی از دلیل گیر می تواند با لغو <a href=../misc/#kill-mutation><code>KILL MUTATION</code></a> پرس و جو.</p> <p>مطالب برای جهش به پایان رسید حذف نمی حق دور (تعداد نوشته های حفظ شده توسط تعیین <code>finished_mutations_to_keep</code> پارامتر موتور ذخیره سازی). نوشته جهش قدیمی تر حذف می شوند.</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>ساخته شده از <a href=https://github.com/ClickHouse/ClickHouse/commit/25eae6abe035bda78634f17d15c9f05348d97aad rel="external nofollow noreferrer" target=_blank class=text-reset>25eae6abe0</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>جدول محتویات</label> <a href=#query_language_queries_alter title=ALTER class="nav-link text-wrap d-inline-block w-100"> ALTER </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#column-manipulations title="دستکاری ستون" class="nav-link text-wrap d-inline-block w-100"> دستکاری ستون </a> <nav id=toc-toc-1-1 class="nav flex-column pl-2"> <a href=#alter_add-column title="ADD COLUMN" class="nav-link text-wrap d-inline-block w-100"> ADD COLUMN </a> <a href=#alter_drop-column title="DROP COLUMN" class="nav-link text-wrap d-inline-block w-100"> DROP COLUMN </a> <a href=#alter_clear-column title="CLEAR COLUMN" class="nav-link text-wrap d-inline-block w-100"> CLEAR COLUMN </a> <a href=#alter_comment-column title="COMMENT COLUMN" class="nav-link text-wrap d-inline-block w-100"> COMMENT COLUMN </a> <a href=#alter_modify-column title="MODIFY COLUMN" class="nav-link text-wrap d-inline-block w-100"> MODIFY COLUMN </a> <a href=#alter-query-limitations title="تغییر محدودیت پرس و جو" class="nav-link text-wrap d-inline-block w-100"> تغییر محدودیت پرس و جو </a> </nav> <a href=#manipulations-with-key-expressions title="دستکاری با عبارات کلیدی" class="nav-link text-wrap d-inline-block w-100"> دستکاری با عبارات کلیدی </a> <a href=#manipulations-with-data-skipping-indices title="دستکاری با شاخص های پرش داده" class="nav-link text-wrap d-inline-block w-100"> دستکاری با شاخص های پرش داده </a> <a href=#manipulations-with-constraints title="دستکاری با محدودیت" class="nav-link text-wrap d-inline-block w-100"> دستکاری با محدودیت </a> <a href=#alter_manipulations-with-partitions title="دستکاری با پارتیشن ها و قطعات" class="nav-link text-wrap d-inline-block w-100"> دستکاری با پارتیشن ها و قطعات </a> <nav id=toc-toc-1-5 class="nav flex-column pl-2"> <a href=#detach-partition-alter-detach-partition title="جدا پارتیشن {#alter_detach-پارتیشن}" class="nav-link text-wrap d-inline-block w-100"> جدا پارتیشن {#alter_detach-پارتیشن} </a> <a href=#alter_drop-partition title="DROP PARTITION" class="nav-link text-wrap d-inline-block w-100"> DROP PARTITION </a> <a href=#alter_drop-detached title="DROP DETACHED PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> DROP DETACHED PARTITION|PART </a> <a href=#alter_attach-partition title="ATTACH PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> ATTACH PARTITION|PART </a> <a href=#alter_attach-partition-from title="ATTACH PARTITION FROM" class="nav-link text-wrap d-inline-block w-100"> ATTACH PARTITION FROM </a> <a href=#alter_replace-partition title="REPLACE PARTITION" class="nav-link text-wrap d-inline-block w-100"> REPLACE PARTITION </a> <a href=#alter_move_to_table-partition title="MOVE PARTITION TO TABLE" class="nav-link text-wrap d-inline-block w-100"> MOVE PARTITION TO TABLE </a> <a href=#alter_clear-column-partition title="CLEAR COLUMN IN PARTITION" class="nav-link text-wrap d-inline-block w-100"> CLEAR COLUMN IN PARTITION </a> <a href=#alter_freeze-partition title="FREEZE PARTITION" class="nav-link text-wrap d-inline-block w-100"> FREEZE PARTITION </a> <a href=#alter_clear-index-partition title="CLEAR INDEX IN PARTITION" class="nav-link text-wrap d-inline-block w-100"> CLEAR INDEX IN PARTITION </a> <a href=#alter_fetch-partition title="FETCH PARTITION" class="nav-link text-wrap d-inline-block w-100"> FETCH PARTITION </a> <a href=#alter_move-partition title="MOVE PARTITION|PART" class="nav-link text-wrap d-inline-block w-100"> MOVE PARTITION|PART </a> <a href=#alter-how-to-specify-part-expr title="نحوه تنظیم بیان پارتیشن" class="nav-link text-wrap d-inline-block w-100"> نحوه تنظیم بیان پارتیشن </a> </nav> <a href=#manipulations-with-table-ttl title="دستکاری با جدول جدول" class="nav-link text-wrap d-inline-block w-100"> دستکاری با جدول جدول </a> <a href=#synchronicity-of-alter-queries title="همزمانی تغییر نمایش داده شد" class="nav-link text-wrap d-inline-block w-100"> همزمانی تغییر نمایش داده شد </a> <a href=#alter-mutations title=جهشها class="nav-link text-wrap d-inline-block w-100"> جهشها </a> </nav> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>