<!DOCTYPE html><html lang=zh data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>2018 - ClickHouse文档</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="2018 - ClickHouse文档 "><meta property=og:description content="ClickHouse释放18.16 碌莽禄,拢,010-68520682\<url> 错误修复: 修复了导致使用ODBC源更新字典时出现问题的错误。 #3825, #3829 聚集函数的JIT编译现在适用于低心率列。 #3838 改进: 添"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="2018 - ClickHouse文档 "><meta name=description content="ClickHouse释放18.16 碌莽禄,拢,010-68520682\<url> 错误修复: 修复了导致使用ODBC源更新字典时出现问题的错误。 #3825, #3829 聚集函数的JIT编译现在适用于低心率列。 #3838 改进: 添"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> 2018 </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/whats_new/changelog/2018.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/zh.svg alt=中文 title=中文 width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/whats_new/changelog/2018/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/whats_new/changelog/2018/ class="dropdown-item disabled"> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/whats_new/changelog/2018/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/whats_new/changelog/2018/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/whats_new/changelog/2018/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/whats_new/changelog/2018/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/whats_new/changelog/2018/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label=多页或单页> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt=多页版本 title=多页版本> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt=单页版本 title=单页版本> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> 版本: <span class=text-light>最新消息</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/zh/ class="dropdown-item disable"> <span class=text-light>最新消息</span> </a> <a href=/docs/v20.3/zh/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/zh/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/zh/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/zh/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/zh/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/zh/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/zh/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/zh/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/zh/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/zh/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/zh/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=导言 class="nav-link text-light text-wrap dropdown-toggle px-0">导言</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../introduction/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../../introduction/adopters/ title=采用者 class="nav-link text-light text-wrap d-inline-block w-100 px-0">采用者</a> <a href=../../../introduction/history/ title=ClickHouse历史 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse历史</a> <a href=../../../introduction/distinctive_features/ title=ClickHouse的独特功能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse的独特功能</a> <a href=../../../introduction/features_considered_disadvantages/ title=ClickHouse的限制 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse的限制</a> <a href=../../../introduction/performance/ title=性能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">性能</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title=发动机 class="nav-link text-light text-wrap dropdown-toggle px-0">发动机</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/ title=发动机 class="nav-link text-light text-wrap d-inline-block w-100 px-0">发动机</a> <a href=#sidebar-sidebar-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-2 title=数据库引擎 class="nav-link text-light text-wrap dropdown-toggle px-0">数据库引擎</a> <div id=sidebar-sidebar-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database_engines/lazy/ title=懒惰 class="nav-link text-light text-wrap d-inline-block w-100 px-0">懒惰</a> <a href=../../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database_engines/ title=数据库引擎 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据库引擎</a> </nav> </div> <a href=#sidebar-sidebar-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3 title=表引擎 class="nav-link text-light text-wrap dropdown-toggle px-0">表引擎</a> <div id=sidebar-sidebar-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-2-3-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-1 title=梅树家族 class="nav-link text-light text-wrap dropdown-toggle px-0">梅树家族</a> <div id=sidebar-sidebar-2-3-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/mergetree_family/ title=梅树家族 class="nav-link text-light text-wrap d-inline-block w-100 px-0">梅树家族</a> <a href=../../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=版本集合在新树 class="nav-link text-light text-wrap d-inline-block w-100 px-0">版本集合在新树</a> <a href=../../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/collapsingmergetree/ title=折叠树 class="nav-link text-light text-wrap d-inline-block w-100 px-0">折叠树</a> <a href=../../../engines/table_engines/mergetree_family/replication/ title=数据副本 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据副本</a> <a href=../../../engines/table_engines/mergetree_family/replacingmergetree/ title=更换麦树 class="nav-link text-light text-wrap d-inline-block w-100 px-0">更换麦树</a> <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ title=自定义分区键 class="nav-link text-light text-wrap d-inline-block w-100 px-0">自定义分区键</a> </nav> </div> <a href=#sidebar-sidebar-2-3-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-2 title=日志系列 class="nav-link text-light text-wrap dropdown-toggle px-0">日志系列</a> <div id=sidebar-sidebar-2-3-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/log_family/ title=日志系列 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志系列</a> <a href=../../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> <a href=../../../engines/table_engines/log_family/log/ title=日志 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志</a> <a href=../../../engines/table_engines/log_family/log_family/ title=日志引擎系列 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志引擎系列</a> </nav> </div> <a href=#sidebar-sidebar-2-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-3 title=集成 class="nav-link text-light text-wrap dropdown-toggle px-0">集成</a> <div id=sidebar-sidebar-2-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/integrations/ title=集成 class="nav-link text-light text-wrap d-inline-block w-100 px-0">集成</a> <a href=../../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> <a href=../../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table_engines/integrations/kafka/ title=卡夫卡 class="nav-link text-light text-wrap d-inline-block w-100 px-0">卡夫卡</a> </nav> </div> <a href=#sidebar-sidebar-2-3-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-4 title=特别 class="nav-link text-light text-wrap dropdown-toggle px-0">特别</a> <div id=sidebar-sidebar-2-3-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/special/ title=特别 class="nav-link text-light text-wrap d-inline-block w-100 px-0">特别</a> <a href=../../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> <a href=../../../engines/table_engines/special/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../../engines/table_engines/special/url/ title=URL(URL,格式) class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL(URL,格式)</a> <a href=../../../engines/table_engines/special/distributed/ title=分布 class="nav-link text-light text-wrap d-inline-block w-100 px-0">分布</a> <a href=../../../engines/table_engines/special/join/ title=加入我们 class="nav-link text-light text-wrap d-inline-block w-100 px-0">加入我们</a> <a href=../../../engines/table_engines/special/merge/ title=合并 class="nav-link text-light text-wrap d-inline-block w-100 px-0">合并</a> <a href=../../../engines/table_engines/special/dictionary/ title=字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典</a> <a href=../../../engines/table_engines/special/file/ title=文件(输入格式) class="nav-link text-light text-wrap d-inline-block w-100 px-0">文件(输入格式)</a> <a href=../../../engines/table_engines/special/view/ title=查看 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查看</a> <a href=../../../engines/table_engines/special/materializedview/ title=物化视图 class="nav-link text-light text-wrap d-inline-block w-100 px-0">物化视图</a> <a href=../../../engines/table_engines/special/external_data/ title=用于查询处理的外部数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">用于查询处理的外部数据</a> <a href=../../../engines/table_engines/special/buffer/ title=缓冲区 class="nav-link text-light text-wrap d-inline-block w-100 px-0">缓冲区</a> <a href=../../../engines/table_engines/special/memory/ title=记忆 class="nav-link text-light text-wrap d-inline-block w-100 px-0">记忆</a> <a href=../../../engines/table_engines/special/set/ title=设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a> </nav> </div> <a href=../../../engines/table_engines/ title=表引擎 class="nav-link text-light text-wrap d-inline-block w-100 px-0">表引擎</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=SQL参考 class="nav-link text-light text-wrap dropdown-toggle px-0">SQL参考</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/ title=隐藏 class="nav-link text-light text-wrap d-inline-block w-100 px-0">隐藏</a> <a href=#sidebar-sidebar-3-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2 title=发言 class="nav-link text-light text-wrap dropdown-toggle px-0">发言</a> <div id=sidebar-sidebar-3-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/statements/ title=发言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">发言</a> <a href=../../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql_reference/statements/misc/ title=其他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">其他</a> <a href=../../../sql_reference/statements/create/ title="CREATE DATABASE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE DATABASE</a> <a href=../../../sql_reference/statements/insert_into/ title=INSERT class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT</a> <a href=../../../sql_reference/statements/select/ title="SELECT 查询语法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT 查询语法</a> </nav> </div> <a href=../../../sql_reference/syntax/ title=语法 class="nav-link text-light text-wrap d-inline-block w-100 px-0">语法</a> <a href=#sidebar-sidebar-3-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-4 title=聚合函数 class="nav-link text-light text-wrap dropdown-toggle px-0">聚合函数</a> <div id=sidebar-sidebar-3-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/aggregate_functions/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../../sql_reference/aggregate_functions/reference/ title=参考资料 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参考资料</a> <a href=../../../sql_reference/aggregate_functions/combinators/ title=聚合函数组合器 class="nav-link text-light text-wrap d-inline-block w-100 px-0">聚合函数组合器</a> <a href=../../../sql_reference/aggregate_functions/parametric_functions/ title=参数聚合函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参数聚合函数</a> </nav> </div> <a href=#sidebar-sidebar-3-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-5 title=表函数 class="nav-link text-light text-wrap dropdown-toggle px-0">表函数</a> <div id=sidebar-sidebar-3-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/table_functions/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../../sql_reference/table_functions/file/ title=文件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文件</a> <a href=../../../sql_reference/table_functions/merge/ title=合并 class="nav-link text-light text-wrap d-inline-block w-100 px-0">合并</a> <a href=../../../sql_reference/table_functions/numbers/ title=数字 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数字</a> <a href=../../../sql_reference/table_functions/remote/ title=远程 class="nav-link text-light text-wrap d-inline-block w-100 px-0">远程</a> <a href=../../../sql_reference/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql_reference/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../../sql_reference/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../sql_reference/table_functions/input/ title=输入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">输入</a> <a href=../../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-3-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-6 title=字典 class="nav-link text-light text-wrap dropdown-toggle px-0">字典</a> <div id=sidebar-sidebar-3-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=#sidebar-sidebar-3-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-6-2 title=外部字典 class="nav-link text-light text-wrap dropdown-toggle px-0">外部字典</a> <div id=sidebar-sidebar-3-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/external_dictionaries/ title=外部字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部字典</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title=概述 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概述</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title=配置外部字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配置外部字典</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title=在内存中存储字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">在内存中存储字典</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title=字典更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典更新</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title=外部字典的来源 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部字典的来源</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title=字典键和字段 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典键和字段</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title=分层字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">分层字典</a> </nav> </div> <a href=../../../sql_reference/dictionaries/internal_dicts/ title=内部字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">内部字典</a> </nav> </div> <a href=../../../sql_reference/operators/ title=操作符 class="nav-link text-light text-wrap d-inline-block w-100 px-0">操作符</a> <a href=#sidebar-sidebar-3-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-8 title=函数 class="nav-link text-light text-wrap dropdown-toggle px-0">函数</a> <div id=sidebar-sidebar-3-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/functions/introspection/ title=自省 class="nav-link text-light text-wrap d-inline-block w-100 px-0">自省</a> <a href=../../../sql_reference/functions/geo/ title=GEO函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">GEO函数</a> <a href=../../../sql_reference/functions/hash_functions/ title=Hash函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash函数</a> <a href=../../../sql_reference/functions/in_functions/ title=IN运算符相关函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN运算符相关函数</a> <a href=../../../sql_reference/functions/ip_address_functions/ title=IP函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IP函数</a> <a href=../../../sql_reference/functions/json_functions/ title=JSON函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSON函数</a> <a href=../../../sql_reference/functions/functions_for_nulls/ title=Nullable处理函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable处理函数</a> <a href=../../../sql_reference/functions/url_functions/ title=URL函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL函数</a> <a href=../../../sql_reference/functions/uuid_functions/ title=UUID函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID函数</a> <a href=../../../sql_reference/functions/array_join/ title=arrayJoin函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin函数</a> <a href=../../../sql_reference/functions/bitmap_functions/ title=位图函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">位图函数</a> <a href=../../../sql_reference/functions/bit_functions/ title=位操作函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">位操作函数</a> <a href=../../../sql_reference/functions/other_functions/ title=其他函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">其他函数</a> <a href=../../../sql_reference/functions/ title=函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">函数</a> <a href=../../../sql_reference/functions/ym_dict_functions/ title=功能与Yandex的工作。梅特里卡词典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">功能与Yandex的工作。梅特里卡词典</a> <a href=../../../sql_reference/functions/rounding_functions/ title=取整函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">取整函数</a> <a href=../../../sql_reference/functions/ext_dict_functions/ title=字典函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典函数</a> <a href=../../../sql_reference/functions/string_functions/ title=字符串函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串函数</a> <a href=../../../sql_reference/functions/splitting_merging_functions/ title=字符串拆分合并函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串拆分合并函数</a> <a href=../../../sql_reference/functions/string_search_functions/ title=字符串搜索函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串搜索函数</a> <a href=../../../sql_reference/functions/string_replace_functions/ title=字符串替换函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串替换函数</a> <a href=../../../sql_reference/functions/math_functions/ title=数学函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数学函数</a> <a href=../../../sql_reference/functions/array_functions/ title=数组函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数组函数</a> <a href=../../../sql_reference/functions/date_time_functions/ title=时间日期函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">时间日期函数</a> <a href=../../../sql_reference/functions/machine_learning_functions/ title=机器学习函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">机器学习函数</a> <a href=../../../sql_reference/functions/conditional_functions/ title=条件函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">条件函数</a> <a href=../../../sql_reference/functions/comparison_functions/ title=比较函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">比较函数</a> <a href=../../../sql_reference/functions/arithmetic_functions/ title=算术函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">算术函数</a> <a href=../../../sql_reference/functions/type_conversion_functions/ title=类型转换函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">类型转换函数</a> <a href=../../../sql_reference/functions/encoding_functions/ title=编码函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">编码函数</a> <a href=../../../sql_reference/functions/logical_functions/ title=逻辑函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">逻辑函数</a> <a href=../../../sql_reference/functions/random_functions/ title=随机函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">随机函数</a> <a href=../../../sql_reference/functions/higher_order_functions/ title=高阶函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">高阶函数</a> </nav> </div> <a href=#sidebar-sidebar-3-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9 title=数据类型 class="nav-link text-light text-wrap dropdown-toggle px-0">数据类型</a> <div id=sidebar-sidebar-3-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=#sidebar-sidebar-3-9-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9-3 title=域 class="nav-link text-light text-wrap dropdown-toggle px-0">域</a> <div id=sidebar-sidebar-3-9-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/domains/overview/ title=域 class="nav-link text-light text-wrap d-inline-block w-100 px-0">域</a> <a href=../../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> <a href=../../../sql_reference/data_types/aggregatefunction/ title="AggregateFunction(name, types\_of\_arguments…)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types\_of\_arguments…)</a> <a href=../../../sql_reference/data_types/decimal/ title=Decimal(P,S),Decimal32(S),Decimal64(S),Decimal128(S) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal(P,S),Decimal32(S),Decimal64(S),Decimal128(S)</a> <a href=../../../sql_reference/data_types/enum/ title=Enum8,Enum16 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum8,Enum16</a> <a href=../../../sql_reference/data_types/float/ title=Float32,Float64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32,Float64</a> <a href=../../../sql_reference/data_types/tuple/ title="Tuple(T1, T2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, …)</a> <a href=../../../sql_reference/data_types/int_uint/ title=UInt8,UInt16,UInt32,UInt64,Int8,Int16,Int32,Int64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8,UInt16,UInt32,UInt64,Int8,Int16,Int32,Int64</a> <a href=../../../sql_reference/data_types/nullable/ title=可为空（类型名称) class="nav-link text-light text-wrap d-inline-block w-100 px-0">可为空（类型名称)</a> <a href=../../../sql_reference/data_types/fixedstring/ title=固定字符串 class="nav-link text-light text-wrap d-inline-block w-100 px-0">固定字符串</a> <a href=../../../sql_reference/data_types/string/ title=字符串 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串</a> <a href=../../../sql_reference/data_types/boolean/ title=布尔值 class="nav-link text-light text-wrap d-inline-block w-100 px-0">布尔值</a> <a href=../../../sql_reference/data_types/ title=数据类型 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据类型</a> <a href=../../../sql_reference/data_types/date/ title=日期 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日期</a> <a href=../../../sql_reference/data_types/datetime/ title=日期时间 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日期时间</a> <a href=../../../sql_reference/data_types/array/ title=阵列(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">阵列(T)</a> <a href=#sidebar-sidebar-3-9-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9-18 title=嵌套数据结构 class="nav-link text-light text-wrap dropdown-toggle px-0">嵌套数据结构</a> <div id=sidebar-sidebar-3-9-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, …)</a> <a href=../../../sql_reference/data_types/nested_data_structures/ title=嵌套数据结构 class="nav-link text-light text-wrap d-inline-block w-100 px-0">嵌套数据结构</a> </nav> </div> <a href=#sidebar-sidebar-3-9-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9-19 title=特殊数据类型 class="nav-link text-light text-wrap dropdown-toggle px-0">特殊数据类型</a> <div id=sidebar-sidebar-3-9-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/special_data_types/interval/ title=间隔 class="nav-link text-light text-wrap d-inline-block w-100 px-0">间隔</a> <a href=../../../sql_reference/data_types/special_data_types/nothing/ title=没什么 class="nav-link text-light text-wrap d-inline-block w-100 px-0">没什么</a> <a href=../../../sql_reference/data_types/special_data_types/ title=特殊数据类型 class="nav-link text-light text-wrap d-inline-block w-100 px-0">特殊数据类型</a> <a href=../../../sql_reference/data_types/special_data_types/expression/ title=表达式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">表达式</a> <a href=../../../sql_reference/data_types/special_data_types/set/ title=设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a> </nav> </div> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=指南 class="nav-link text-light text-wrap dropdown-toggle px-0">指南</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=概述 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概述</a> <a href=../../../guides/apply_catboost_model/ title=应用CatBoost模型 class="nav-link text-light text-wrap d-inline-block w-100 px-0">应用CatBoost模型</a> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=商业 class="nav-link text-light text-wrap dropdown-toggle px-0">商业</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/ title=商业 class="nav-link text-light text-wrap d-inline-block w-100 px-0">商业</a> <a href=../../../commercial/cloud/ title=ﾂ环板Providersｮﾂ嘉ｯ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ环板Providersｮﾂ嘉ｯ</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=新增内容 class="nav-link text-light text-wrap dropdown-toggle px-0">新增内容</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/ title=新增内容 class="nav-link text-light text-wrap d-inline-block w-100 px-0">新增内容</a> <a href=../../../whats_new/security_changelog/ title="修复于 ClickHouse Release 18.12.13, 2018-09-10" class="nav-link text-light text-wrap d-inline-block w-100 px-0">修复于 ClickHouse Release 18.12.13, 2018-09-10</a> <a href=../../../whats_new/roadmap/ title=规划 class="nav-link text-light text-wrap d-inline-block w-100 px-0">规划</a> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap dropdown-toggle px-0">碌莽禄release拢.0755-88888888</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats_new/changelog/2018/ title=2018 class="nav-link text-white active text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> <a href=../../../whats_new/changelog/ title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap d-inline-block w-100 px-0">碌莽禄release拢.0755-88888888</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../../faq/general/ title=常见问题 class="nav-link text-light text-wrap d-inline-block w-100 px-0">常见问题</a> </nav> </div> <a href=../../../ title=什么是ClickHouse？ class="nav-link text-light text-wrap d-inline-block w-100 px-0">什么是ClickHouse？</a> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title="ClickHouse 开发" class="nav-link text-light text-wrap dropdown-toggle px-0">ClickHouse 开发</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/browse_code/ title=浏览ClickHouse源代码 class="nav-link text-light text-wrap d-inline-block w-100 px-0">浏览ClickHouse源代码</a> <a href=../../../development/build_cross_arm/ title="如何在Linux上构建ClickHouse for AARCH64（ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何在Linux上构建ClickHouse for AARCH64（ARM64)</a> <a href=../../../development/ title="ClickHouse 开发" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 开发</a> <a href=../../../development/architecture/ title="ClickHouse 架构概述" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 架构概述</a> <a href=../../../development/tests/ title="ClickHouse 测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 测试</a> <a href=../../../development/developer_instruction/ title=Windows使用指引 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Windows使用指引</a> <a href=../../../development/contrib/ title=使用的三方库 class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用的三方库</a> <a href=../../../development/build_osx/ title="在 Mac OS X 中编译 ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">在 Mac OS X 中编译 ClickHouse</a> <a href=../../../development/build_cross_osx/ title="如何在Linux中编译Mac OS X ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何在Linux中编译Mac OS X ClickHouse</a> <a href=../../../development/build/ title="如何构建 ClickHouse 发布包" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何构建 ClickHouse 发布包</a> <a href=../../../development/style/ title="如何编写 C++ 代码" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何编写 C++ 代码</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=入门 class="nav-link text-light text-wrap dropdown-toggle px-0">入门</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/tutorial/ title=教程 class="nav-link text-light text-wrap d-inline-block w-100 px-0">教程</a> <a href=#sidebar-sidebar-10-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10-2 title=示例数据集 class="nav-link text-light text-wrap dropdown-toggle px-0">示例数据集</a> <div id=sidebar-sidebar-10-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../../getting_started/example_datasets/metrica/ title=Yandex梅特里卡数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex梅特里卡数据</a> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab 大数据基准测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab 大数据基准测试</a> <a href=../../../getting_started/example_datasets/criteo/ title="Criteo TB级别点击日志" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Criteo TB级别点击日志</a> <a href=../../../getting_started/example_datasets/star_schema/ title=星型架构基准测试 class="nav-link text-light text-wrap d-inline-block w-100 px-0">星型架构基准测试</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title=纽约市出租车数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">纽约市出租车数据</a> <a href=../../../getting_started/example_datasets/wikistat/ title=维基访问数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">维基访问数据</a> <a href=../../../getting_started/example_datasets/ontime/ title=航班飞行数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">航班飞行数据</a> </nav> </div> <a href=../../../getting_started/playground/ title=♪操场♪ class="nav-link text-light text-wrap d-inline-block w-100 px-0">♪操场♪</a> <a href=../../../getting_started/ title=入门 class="nav-link text-light text-wrap d-inline-block w-100 px-0">入门</a> <a href=../../../getting_started/install/ title=系统要求 class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统要求</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=客户端 class="nav-link text-light text-wrap dropdown-toggle px-0">客户端</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/mysql/ title=MySQL接口 class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL接口</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=第三方 class="nav-link text-light text-wrap dropdown-toggle px-0">第三方</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title=第三方 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方</a> <a href=../../../interfaces/third-party/proxy/ title=来自第三方开发人员的代理服务器 class="nav-link text-light text-wrap d-inline-block w-100 px-0">来自第三方开发人员的代理服务器</a> <a href=../../../interfaces/third-party/gui/ title=第三方开发的可视化界面 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方开发的可视化界面</a> <a href=../../../interfaces/third-party/client_libraries/ title=第三方开发的库 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方开发的库</a> <a href=../../../interfaces/third-party/integrations/ title=第三方集成库 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方集成库</a> </nav> </div> <a href=../../../interfaces/cpp/ title="C ++客户端库" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C ++客户端库</a> <a href=../../../interfaces/http/ title="HTTP 客户端" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP 客户端</a> <a href=../../../interfaces/jdbc/ title="JDBC 驱动" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC 驱动</a> <a href=../../../interfaces/odbc/ title="ODBC 驱动" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC 驱动</a> <a href=../../../interfaces/tcp/ title=原生客户端接口（TCP） class="nav-link text-light text-wrap d-inline-block w-100 px-0">原生客户端接口（TCP）</a> <a href=../../../interfaces/cli/ title=命令行客户端 class="nav-link text-light text-wrap d-inline-block w-100 px-0">命令行客户端</a> <a href=../../../interfaces/ title=客户端 class="nav-link text-light text-wrap d-inline-block w-100 px-0">客户端</a> <a href=../../../interfaces/formats/ title=输入输出格式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">输入输出格式</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=操作 class="nav-link text-light text-wrap dropdown-toggle px-0">操作</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/requirements/ title=要求 class="nav-link text-light text-wrap d-inline-block w-100 px-0">要求</a> <a href=../../../operations/troubleshooting/ title=疑难解答 class="nav-link text-light text-wrap d-inline-block w-100 px-0">疑难解答</a> <a href=../../../operations/update/ title=点击更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">点击更新</a> <a href=../../../operations/backup/ title=数据备份 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据备份</a> <a href=#sidebar-sidebar-12-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-5 title=优化性能 class="nav-link text-light text-wrap dropdown-toggle px-0">优化性能</a> <div id=sidebar-sidebar-12-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing_performance/ title=优化性能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">优化性能</a> <a href=../../../operations/optimizing_performance/sampling_query_profiler/ title=查询分析 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询分析</a> </nav> </div> <a href=../../../operations/system_tables/ title=系统表 class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统表</a> <a href=../../../operations/performance_test/ title=测试硬件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">测试硬件</a> <a href=../../../operations/tips/ title=使用建议 class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用建议</a> <a href=../../../operations/ title=操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">操作</a> <a href=../../../operations/monitoring/ title=监控 class="nav-link text-light text-wrap d-inline-block w-100 px-0">监控</a> <a href=../../../operations/access_rights/ title=访问权限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">访问权限</a> <a href=../../../operations/configuration_files/ title=配置文件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配置文件</a> <a href=../../../operations/quotas/ title=配额 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配额</a> <a href=#sidebar-sidebar-12-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-14 title=服务器配置参数 class="nav-link text-light text-wrap dropdown-toggle px-0">服务器配置参数</a> <div id=sidebar-sidebar-12-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_configuration_parameters/settings/ title=服务器设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">服务器设置</a> <a href=../../../operations/server_configuration_parameters/ title=服务器配置参数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">服务器配置参数</a> </nav> </div> <a href=#sidebar-sidebar-12-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-15 title=设置 class="nav-link text-light text-wrap dropdown-toggle px-0">设置</a> <div id=sidebar-sidebar-12-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/permissions_for_queries/ title=查询权限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询权限</a> <a href=../../../operations/settings/ title=设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a> <a href=../../../operations/settings/settings_profiles/ title=设置配置文件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置配置文件</a> <a href=../../../operations/settings/constraints_on_settings/ title=对设置的限制 class="nav-link text-light text-wrap d-inline-block w-100 px-0">对设置的限制</a> <a href=../../../operations/settings/settings_users/ title=用户设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">用户设置</a> <a href=../../../operations/settings/query_complexity/ title=查询复杂性的限制 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询复杂性的限制</a> </nav> </div> <a href=#sidebar-sidebar-12-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-16 title=ﾂ环板Utilityｮﾂ嘉ｯ class="nav-link text-light text-wrap dropdown-toggle px-0">ﾂ环板Utilityｮﾂ嘉ｯ</a> <div id=sidebar-sidebar-12-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/clickhouse-benchmark/ title=ﾂ暗ｪﾂ氾环催ﾂ団 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ暗ｪﾂ氾环催ﾂ団</a> <a href=../../../operations/utilities/clickhouse-local/ title=ﾂ环板-ｮﾂ嘉ｯﾂ偲 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ环板-ｮﾂ嘉ｯﾂ偲</a> <a href=../../../operations/utilities/ title=ﾂ环板Utilityｮﾂ嘉ｯ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ环板Utilityｮﾂ嘉ｯ</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-13 title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap dropdown-toggle px-0">碌莽禄release拢.0755-88888888</a> <div id=sidebar-sidebar-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../changelog/ title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap d-inline-block w-100 px-0">碌莽禄release拢.0755-88888888</a> </nav> </div> <a href=../../../single/clickhouse_zh.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt=PDF版本 title=PDF版本 height=24 class="d-block mr-1 float-left"><div>PDF版本</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">帮助通缉！</p> <p class=lead>本文档页面的以下内容已经过机器翻译。 但与其他网站不同，它不是在飞行中完成。 这个翻译的文本生活在github存储库旁边的主ClickHouse代码库，并等待同胞母语，使其更具人类可读性。</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/whats_new/changelog/2018.md target=_blank rel="external nofollow noreferrer"> 通过编辑此页面帮助ClickHouse文档 </a> </p> </div> <h2 id=clickhouse-release-18-16>ClickHouse释放18.16<a class=headerlink href=#clickhouse-release-18-16 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-16-1-2018-12-21>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-16-1-2018-12-21 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes>错误修复:<a class=headerlink href=#bug-fixes title="Permanent link">&para;</a></h4> <ul> <li>修复了导致使用ODBC源更新字典时出现问题的错误。 <a href=https://github.com/ClickHouse/ClickHouse/issues/3825 rel="external nofollow noreferrer">#3825</a>, <a href=https://github.com/ClickHouse/ClickHouse/issues/3829 rel="external nofollow noreferrer">#3829</a></li> <li>聚集函数的JIT编译现在适用于低心率列。 <a href=https://github.com/ClickHouse/ClickHouse/issues/3838 rel="external nofollow noreferrer">#3838</a></li> </ul> <h4 id=improvements>改进:<a class=headerlink href=#improvements title="Permanent link">&para;</a></h4> <ul> <li>添加了 <code>low_cardinality_allow_in_native_format</code> 设置（默认情况下启用）。 如果禁用，则选择查询的LowCardinality列将转换为普通列，插入查询将需要普通列。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3879 rel="external nofollow noreferrer">#3879</a></li> </ul> <h4 id=build-improvements>构建改进:<a class=headerlink href=#build-improvements title="Permanent link">&para;</a></h4> <ul> <li>修复了基于macOS和ARM的构建。</li> </ul> <h3 id=clickhouse-release-18-16-0-2018-12-14>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-16-0-2018-12-14 title="Permanent link">&para;</a></h3> <h4 id=new-features>新功能:<a class=headerlink href=#new-features title="Permanent link">&para;</a></h4> <ul> <li><code>DEFAULT</code> 在以半结构化输入格式加载数据时，会计算表达式是否缺少字段 (<code>JSONEachRow</code>, <code>TSKV</code>). 该功能与启用 <code>insert_sample_with_metadata</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3555 rel="external nofollow noreferrer">#3555</a></li> <li>该 <code>ALTER TABLE</code> 查询现在有 <code>MODIFY ORDER BY</code> 用于在添加或删除表列时更改排序键的操作。 这是在表有用 <code>MergeTree</code> 基于此排序键合并时执行其他任务的系列，例如 <code>SummingMergeTree</code>, <code>AggregatingMergeTree</code>，等等。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3581 rel="external nofollow noreferrer">#3581</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3755 rel="external nofollow noreferrer">#3755</a></li> <li>对于在表 <code>MergeTree</code> 家庭，现在你可以指定一个不同的排序键 (<code>ORDER BY</code>）和索引 (<code>PRIMARY KEY</code>). 排序键可以长于索引。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3581 rel="external nofollow noreferrer">#3581</a></li> <li>添加了 <code>hdfs</code> 表功能和 <code>HDFS</code> 用于将数据导入和导出到HDFS的表引擎。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3617 rel="external nofollow noreferrer">晨兴-xc</a></li> <li>增加了使用base64的功能: <code>base64Encode</code>, <code>base64Decode</code>, <code>tryBase64Decode</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3350 rel="external nofollow noreferrer">Alexander Krasheninnikov</a></li> <li>现在，您可以使用一个参数来配置的精度 <code>uniqCombined</code> 聚合函数（选择HyperLogLog单元格的数量）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3406 rel="external nofollow noreferrer">#3406</a></li> <li>添加了 <code>system.contributors</code> 包含在ClickHouse中进行提交的所有人的名称的表。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3452 rel="external nofollow noreferrer">#3452</a></li> <li>增加了省略分区的能力 <code>ALTER TABLE ... FREEZE</code> 查询以便一次备份所有分区。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3514 rel="external nofollow noreferrer">#3514</a></li> <li>已添加 <code>dictGet</code> 和 <code>dictGetOrDefault</code> 不需要指定返回值类型的函数。 该类型是从字典描述自动确定的。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3564 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>现在，您可以在表描述中为列指定注释，并使用以下方式对其进行更改 <code>ALTER</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3377 rel="external nofollow noreferrer">#3377</a></li> <li>阅读支持 <code>Join</code> 使用简单键键入表格。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3728 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>现在，您可以指定选项 <code>join_use_nulls</code>, <code>max_rows_in_join</code>, <code>max_bytes_in_join</code>，和 <code>join_overflow_mode</code> 当创建一个 <code>Join</code> 键入表。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3728 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>添加了 <code>joinGet</code> 功能，允许您使用 <code>Join</code> 像字典一样键入表格。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3728 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>添加了 <code>partition_key</code>, <code>sorting_key</code>, <code>primary_key</code>，和 <code>sampling_key</code> 列到 <code>system.tables</code> 表以便提供关于表键的信息。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3609 rel="external nofollow noreferrer">#3609</a></li> <li>添加了 <code>is_in_partition_key</code>, <code>is_in_sorting_key</code>, <code>is_in_primary_key</code>，和 <code>is_in_sampling_key</code> 列到 <code>system.columns</code> 桌子 <a href=https://github.com/ClickHouse/ClickHouse/pull/3609 rel="external nofollow noreferrer">#3609</a></li> <li>添加了 <code>min_time</code> 和 <code>max_time</code> 列到 <code>system.parts</code> 桌子 当分区键是由以下表达式组成的表达式时，将填充这些列 <code>DateTime</code> 列。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3800 rel="external nofollow noreferrer">Emmanuel Donin de Rosière</a></li> </ul> <h4 id=bug-fixes-1>错误修复:<a class=headerlink href=#bug-fixes-1 title="Permanent link">&para;</a></h4> <ul> <li>修复和性能改进 <code>LowCardinality</code> 数据类型。 <code>GROUP BY</code> 使用 <code>LowCardinality(Nullable(...))</code>. 获取的值 <code>extremes</code>. 处理高阶函数。 <code>LEFT ARRAY JOIN</code>. 分布 <code>GROUP BY</code>. 返回的函数 <code>Array</code>. 执行 <code>ORDER BY</code>. 写入 <code>Distributed</code> 表（nicelulu）。 向后兼容 <code>INSERT</code> 从实现旧客户端的查询 <code>Native</code> 协议 支持 <code>LowCardinality</code> 为 <code>JOIN</code>. 在单个流中工作时提高性能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3823 rel="external nofollow noreferrer">#3823</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3803 rel="external nofollow noreferrer">#3803</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3799 rel="external nofollow noreferrer">#3799</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3769 rel="external nofollow noreferrer">#3769</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3744 rel="external nofollow noreferrer">#3744</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3681 rel="external nofollow noreferrer">#3681</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3651 rel="external nofollow noreferrer">#3651</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3649 rel="external nofollow noreferrer">#3649</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3641 rel="external nofollow noreferrer">#3641</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3632 rel="external nofollow noreferrer">#3632</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3568 rel="external nofollow noreferrer">#3568</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3523 rel="external nofollow noreferrer">#3523</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3518 rel="external nofollow noreferrer">#3518</a></li> <li>固定如何 <code>select_sequential_consistency</code> 选项工作。 以前，启用此设置时，在开始写入新分区后，有时会返回不完整的结果。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2863 rel="external nofollow noreferrer">#2863</a></li> <li>执行DDL时正确指定数据库 <code>ON CLUSTER</code> 查询和 <code>ALTER UPDATE/DELETE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3772 rel="external nofollow noreferrer">#3772</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3460 rel="external nofollow noreferrer">#3460</a></li> <li>为视图中的子查询正确指定了数据库。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3521 rel="external nofollow noreferrer">#3521</a></li> <li>修正了一个错误 <code>PREWHERE</code> 与 <code>FINAL</code> 为 <code>VersionedCollapsingMergeTree</code>. <a href=https://github.com/ClickHouse/ClickHouse/commit/7167bfd7b365538f7a91c4307ad77e552ab4e8c1 rel="external nofollow noreferrer">7167bfd7</a></li> <li>现在你可以使用 <code>KILL QUERY</code> 取消尚未启动的查询，因为它们正在等待锁定表。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3517 rel="external nofollow noreferrer">#3517</a></li> <li>更正日期和时间计算，如果时钟被移回午夜（这发生在伊朗，并发生在莫斯科1981年至1983年）。 以前，这导致时间比必要的时间早一天重置，并且还导致文本格式的日期和时间格式不正确。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3819 rel="external nofollow noreferrer">#3819</a></li> <li>修正了某些情况下的错误 <code>VIEW</code> 和省略数据库的子查询。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3521 rel="external nofollow noreferrer">张冬</a></li> <li>修正了一个争用条件时，同时从读取 <code>MATERIALIZED VIEW</code> 和删除 <code>MATERIALIZED VIEW</code> 由于不锁定内部 <code>MATERIALIZED VIEW</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3404 rel="external nofollow noreferrer">#3404</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3694 rel="external nofollow noreferrer">#3694</a></li> <li>修正了错误 <code>Lock handler cannot be nullptr.</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3689 rel="external nofollow noreferrer">#3689</a></li> <li>固定查询处理时 <code>compile_expressions</code> 选项已启用（默认情况下启用）。 非确定性常量表达式，如 <code>now</code> 功能不再展开。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3457 rel="external nofollow noreferrer">#3457</a></li> <li>修复了在指定非常量比例参数时发生的崩溃 <code>toDecimal32/64/128</code> 功能。</li> <li>修复了尝试插入数组时的错误 <code>NULL</code> 中的元素 <code>Values</code> 格式化为类型的列 <code>Array</code> 没有 <code>Nullable</code> （如果 <code>input_format_values_interpret_expressions</code> = 1). <a href=https://github.com/ClickHouse/ClickHouse/pull/3487 rel="external nofollow noreferrer">#3487</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3503 rel="external nofollow noreferrer">#3503</a></li> <li>固定连续错误登录 <code>DDLWorker</code> 如果动物园管理员不可用。 <a href=https://github.com/ClickHouse/ClickHouse/commit/8f50c620334988b28018213ec0092fe6423847e2 rel="external nofollow noreferrer">8f50c620</a></li> <li>修正了返回类型 <code>quantile*</code> 从功能 <code>Date</code> 和 <code>DateTime</code> 参数的类型。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3580 rel="external nofollow noreferrer">#3580</a></li> <li>修正了 <code>WITH</code> 子句，如果它指定了一个没有表达式的简单别名。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3570 rel="external nofollow noreferrer">#3570</a></li> <li>固定处理具有命名子查询和限定列名的查询时 <code>enable_optimize_predicate_expression</code> 被启用。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3588 rel="external nofollow noreferrer">张冬</a></li> <li>修正了错误 <code>Attempt to attach to nullptr thread group</code> 使用实例化视图时。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3623 rel="external nofollow noreferrer">Marek Vavruša</a></li> <li>修正了传递某些不正确的参数时崩溃 <code>arrayReverse</code> 功能。 <a href=https://github.com/ClickHouse/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871 rel="external nofollow noreferrer">73e3a7b6</a></li> <li>修正了缓冲区溢出 <code>extractURLParameter</code> 功能。 改进的性能。 添加了包含零字节的字符串的正确处理。 <a href=https://github.com/ClickHouse/ClickHouse/commit/141e9799e49201d84ea8e951d1bed4fb6d3dacb5 rel="external nofollow noreferrer">141e9799</a></li> <li>在固定缓冲区溢出 <code>lowerUTF8</code> 和 <code>upperUTF8</code> 功能。 删除了执行这些功能的能力 <code>FixedString</code> 类型参数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3662 rel="external nofollow noreferrer">#3662</a></li> <li>修复了删除时罕见的竞争条件 <code>MergeTree</code> 桌子 <a href=https://github.com/ClickHouse/ClickHouse/pull/3680 rel="external nofollow noreferrer">#3680</a></li> <li>修正了从读取时的争用条件 <code>Buffer</code> 表和同时执行 <code>ALTER</code> 或 <code>DROP</code> 在目标桌上。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3719 rel="external nofollow noreferrer">#3719</a></li> <li>修正了一个段错误，如果 <code>max_temporary_non_const_columns</code> 超过限制。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3788 rel="external nofollow noreferrer">#3788</a></li> </ul> <h4 id=improvements-1>改进:<a class=headerlink href=#improvements-1 title="Permanent link">&para;</a></h4> <ul> <li>服务器不会将处理后的配置文件写入 <code>/etc/clickhouse-server/</code> 目录。 相反，它将它们保存在 <code>preprocessed_configs</code> 里面的目录 <code>path</code>. 这意味着 <code>/etc/clickhouse-server/</code> 目录没有写访问权限 <code>clickhouse</code> 用户，从而提高了安全性。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2443 rel="external nofollow noreferrer">#2443</a></li> <li>该 <code>min_merge_bytes_to_use_direct_io</code> 默认情况下，选项设置为10GiB。 将在MergeTree系列中执行形成大部分表的合并 <code>O_DIRECT</code> 模式，这可以防止过多的页高速缓存逐出。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3504 rel="external nofollow noreferrer">#3504</a></li> <li>当表数量非常多时，加速服务器启动。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3398 rel="external nofollow noreferrer">#3398</a></li> <li>添加了连接池和HTTP <code>Keep-Alive</code> 用于副本之间的连接。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3594 rel="external nofollow noreferrer">#3594</a></li> <li>如果查询语法无效，则 <code>400 Bad Request</code> 代码在返回 <code>HTTP</code> 接口（500以前返回）。 <a href=https://github.com/ClickHouse/ClickHouse/commit/31bc680ac5f4bb1d0360a8ba4696fa84bb47d6ab rel="external nofollow noreferrer">31bc680a</a></li> <li>该 <code>join_default_strictness</code> 选项设置为 <code>ALL</code> 默认情况下为兼容性。 <a href=https://github.com/ClickHouse/ClickHouse/commit/120e2cbe2ff4fbad626c28042d9b28781c805afe rel="external nofollow noreferrer">120e2cbe</a></li> <li>删除日志记录 <code>stderr</code> 从 <code>re2</code> 无效或复杂正则表达式的库。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3723 rel="external nofollow noreferrer">#3723</a></li> <li>添加的 <code>Kafka</code> 表引擎：在开始从Kafka读取之前检查订阅；表的kafka_max_block_size设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3396 rel="external nofollow noreferrer">Marek Vavruša</a></li> <li>该 <code>cityHash64</code>, <code>farmHash64</code>, <code>metroHash64</code>, <code>sipHash64</code>, <code>halfMD5</code>, <code>murmurHash2_32</code>, <code>murmurHash2_64</code>, <code>murmurHash3_32</code>，和 <code>murmurHash3_64</code> 函数现在适用于任意数量的参数和元组形式的参数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3451 rel="external nofollow noreferrer">#3451</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3519 rel="external nofollow noreferrer">#3519</a></li> <li>该 <code>arrayReverse</code> 函数现在适用于任何类型的数组。 <a href=https://github.com/ClickHouse/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871 rel="external nofollow noreferrer">73e3a7b6</a></li> <li>增加了一个可选参数：插槽大小的 <code>timeSlots</code> 功能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3724 rel="external nofollow noreferrer">基里尔*什瓦科夫</a></li> <li>为 <code>FULL</code> 和 <code>RIGHT JOIN</code>，该 <code>max_block_size</code> 设置用于右表中未连接的数据流。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3699 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>添加了 <code>--secure</code> 命令行参数 <code>clickhouse-benchmark</code> 和 <code>clickhouse-performance-test</code> 启用TLS。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3688 rel="external nofollow noreferrer">#3688</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3690 rel="external nofollow noreferrer">#3690</a></li> <li>类型转换时的结构 <code>Buffer</code> 表的类型与目标表的结构不匹配。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3603 rel="external nofollow noreferrer">维塔利*巴拉诺夫</a></li> <li>添加了 <code>tcp_keep_alive_timeout</code> 在指定的时间间隔内不活动后启用保持活动数据包的选项。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3441 rel="external nofollow noreferrer">#3441</a></li> <li>删除不必要的引用值的分区键中 <code>system.parts</code> 表，如果它由单列组成。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3652 rel="external nofollow noreferrer">#3652</a></li> <li>模函数适用于 <code>Date</code> 和 <code>DateTime</code> 数据类型。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3385 rel="external nofollow noreferrer">#3385</a></li> <li>添加同义词的 <code>POWER</code>, <code>LN</code>, <code>LCASE</code>, <code>UCASE</code>, <code>REPLACE</code>, <code>LOCATE</code>, <code>SUBSTR</code>，和 <code>MID</code> 功能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3774 rel="external nofollow noreferrer">#3774</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3763 rel="external nofollow noreferrer">#3763</a> 为了与SQL标准兼容，某些函数名称不区分大小写。 添加语法糖 <code>SUBSTRING(expr FROM start FOR length)</code> 对于与SQL的兼容性。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3804 rel="external nofollow noreferrer">#3804</a></li> <li>增加了以下能力 <code>mlock</code> 对应于存储器页 <code>clickhouse-server</code> 可执行代码，以防止它被强制出内存。 默认情况下禁用此功能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3553 rel="external nofollow noreferrer">#3553</a></li> <li>从读取时改进的性能 <code>O_DIRECT</code> （与 <code>min_bytes_to_use_direct_io</code> 选项启用）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3405 rel="external nofollow noreferrer">#3405</a></li> <li>的改进的性能 <code>dictGet...OrDefault</code> 常量键参数和非常量默认参数的函数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3563 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>该 <code>firstSignificantSubdomain</code> 功能现在处理域 <code>gov</code>, <code>mil</code>，和 <code>edu</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3601 rel="external nofollow noreferrer">Igor Hatarist</a> 改进的性能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3628 rel="external nofollow noreferrer">#3628</a></li> <li>能够指定用于启动的自定义环境变量 <code>clickhouse-server</code> 使用 <code>SYS-V init.d</code> 通过定义脚本 <code>CLICKHOUSE_PROGRAM_ENV</code> 在 <code>/etc/default/clickhouse</code>.<br> <a href=https://github.com/ClickHouse/ClickHouse/pull/3612 rel="external nofollow noreferrer">Pavlo Bashynskyi</a></li> <li>Clickhouse-server init脚本的正确返回代码。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3516 rel="external nofollow noreferrer">#3516</a></li> <li>该 <code>system.metrics</code> 表现在有 <code>VersionInteger</code> 公制和 <code>system.build_options</code> 有添加的行 <code>VERSION_INTEGER</code>，其中包含ClickHouse版本的数字形式，例如 <code>18016000</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3644 rel="external nofollow noreferrer">#3644</a></li> <li>删除比较的能力 <code>Date</code> 输入一个数字，以避免潜在的错误，如 <code>date = 2018-12-17</code>，其中日期周围的引号被错误省略。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3687 rel="external nofollow noreferrer">#3687</a></li> <li>修正了有状态函数的行为，如 <code>rowNumberInAllBlocks</code>. 他们之前输出的结果是由于在查询分析期间启动而大一个数字。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3729 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>如果 <code>force_restore_data</code> 文件无法删除，将显示错误消息。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3794 rel="external nofollow noreferrer">阿莫斯鸟</a></li> </ul> <h4 id=build-improvements-1>构建改进:<a class=headerlink href=#build-improvements-1 title="Permanent link">&para;</a></h4> <ul> <li>更新了 <code>jemalloc</code> 库，它修复了潜在的内存泄漏。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3557 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>分析与 <code>jemalloc</code> 默认情况下为了调试生成启用。 <a href=https://github.com/ClickHouse/ClickHouse/commit/2cc82f5cbe266421cd4c1165286c2c47e5ffcb15 rel="external nofollow noreferrer">2cc82f5c</a></li> <li>增加了运行集成测试的能力，当只 <code>Docker</code> 安装在系统上。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3650 rel="external nofollow noreferrer">#3650</a></li> <li>在SELECT查询中添加了模糊表达式测试。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3442 rel="external nofollow noreferrer">#3442</a></li> <li>为提交添加了一个压力测试，它以并行和随机顺序执行功能测试，以检测更多的竞争条件。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3438 rel="external nofollow noreferrer">#3438</a></li> <li>改进了在Docker映像中启动clickhouse-server的方法。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3663 rel="external nofollow noreferrer">Elghazal Ahmed</a></li> <li>对于Docker映像，增加了对使用数据库中的文件初始化数据库的支持 <code>/docker-entrypoint-initdb.d</code> 目录。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3695 rel="external nofollow noreferrer">康斯坦丁*列别杰夫</a></li> <li>修复了基于ARM的构建。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3709 rel="external nofollow noreferrer">#3709</a></li> </ul> <h4 id=backward-incompatible-changes>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes title="Permanent link">&para;</a></h4> <ul> <li>删除比较的能力 <code>Date</code> 用数字键入。 而不是 <code>toDate('2018-12-18') = 17883</code>，必须使用显式类型转换 <code>= toDate(17883)</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3687 rel="external nofollow noreferrer">#3687</a></li> </ul> <h2 id=clickhouse-release-18-14>ClickHouse释放18.14<a class=headerlink href=#clickhouse-release-18-14 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-14-19-2018-12-19>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-19-2018-12-19 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-2>错误修复:<a class=headerlink href=#bug-fixes-2 title="Permanent link">&para;</a></h4> <ul> <li>修复了导致使用ODBC源更新字典时出现问题的错误。 <a href=https://github.com/ClickHouse/ClickHouse/issues/3825 rel="external nofollow noreferrer">#3825</a>, <a href=https://github.com/ClickHouse/ClickHouse/issues/3829 rel="external nofollow noreferrer">#3829</a></li> <li>执行DDL时正确指定数据库 <code>ON CLUSTER</code> 查询。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3460 rel="external nofollow noreferrer">#3460</a></li> <li>修正了一个段错误，如果 <code>max_temporary_non_const_columns</code> 超过限制。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3788 rel="external nofollow noreferrer">#3788</a></li> </ul> <h4 id=build-improvements-2>构建改进:<a class=headerlink href=#build-improvements-2 title="Permanent link">&para;</a></h4> <ul> <li>修复了基于ARM的构建。</li> </ul> <h3 id=clickhouse-release-18-14-18-2018-12-04>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-18-2018-12-04 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-3>错误修复:<a class=headerlink href=#bug-fixes-3 title="Permanent link">&para;</a></h4> <ul> <li>修正错误 <code>dictGet...</code> 类型字典的函数 <code>range</code>，如果其中一个参数是恒定的，而另一个则不是。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3751 rel="external nofollow noreferrer">#3751</a></li> <li>修复了导致消息的错误 <code>netlink: '...': attribute type 1 has an invalid length</code> 要打印在Linux内核日志中，这只发生在足够新鲜的Linux内核版本上。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3749 rel="external nofollow noreferrer">#3749</a></li> <li>在功能固定段错误 <code>empty</code> 对于争论 <code>FixedString</code> 类型。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3703 rel="external nofollow noreferrer">丹尼尔，道广明</a></li> <li>修正了使用大值时过多的内存分配 <code>max_query_size</code> 设置（内存块 <code>max_query_size</code> 字节被预先分配一次）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3720 rel="external nofollow noreferrer">#3720</a></li> </ul> <h4 id=build-changes>构建更改:<a class=headerlink href=#build-changes title="Permanent link">&para;</a></h4> <ul> <li>使用操作系统包中的版本7的LLVM/Clang库修复构建（这些库用于运行时查询编译）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3582 rel="external nofollow noreferrer">#3582</a></li> </ul> <h3 id=clickhouse-release-18-14-17-2018-11-30>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-17-2018-11-30 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-4>错误修复:<a class=headerlink href=#bug-fixes-4 title="Permanent link">&para;</a></h4> <ul> <li>修复了ODBC桥进程未与主服务器进程终止的情况。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3642 rel="external nofollow noreferrer">#3642</a></li> <li>固定同步插入 <code>Distributed</code> 具有不同于远程表的列列表的列列表的表。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3673 rel="external nofollow noreferrer">#3673</a></li> <li>修复了丢弃MergeTree表时可能导致崩溃的罕见竞争条件。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3643 rel="external nofollow noreferrer">#3643</a></li> <li>修复了查询线程创建失败时的查询死锁 <code>Resource temporarily unavailable</code> 错误 <a href=https://github.com/ClickHouse/ClickHouse/pull/3643 rel="external nofollow noreferrer">#3643</a></li> <li>修正了解析 <code>ENGINE</code> 条款时 <code>CREATE AS table</code> 语法被使用和 <code>ENGINE</code> 子句之前指定 <code>AS table</code> （错误导致忽略指定的引擎）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3692 rel="external nofollow noreferrer">#3692</a></li> </ul> <h3 id=clickhouse-release-18-14-15-2018-11-21>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-15-2018-11-21 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-5>错误修复:<a class=headerlink href=#bug-fixes-5 title="Permanent link">&para;</a></h4> <ul> <li>反序列化类型的列时，高估了内存块的大小 <code>Array(String)</code> 这导致 “Memory limit exceeded” 错误。 该问题出现在版本18.12.13中。 <a href=https://github.com/ClickHouse/ClickHouse/issues/3589 rel="external nofollow noreferrer">#3589</a></li> </ul> <h3 id=clickhouse-release-18-14-14-2018-11-20>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-14-2018-11-20 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-6>错误修复:<a class=headerlink href=#bug-fixes-6 title="Permanent link">&para;</a></h4> <ul> <li>固定 <code>ON CLUSTER</code> 当群集配置为安全时进行查询（标志 <code>&lt;secure&gt;</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/3599 rel="external nofollow noreferrer">#3599</a></li> </ul> <h4 id=build-changes-1>构建更改:<a class=headerlink href=#build-changes-1 title="Permanent link">&para;</a></h4> <ul> <li>固定的问题（llvm-7从系统，macos) <a href=https://github.com/ClickHouse/ClickHouse/pull/3582 rel="external nofollow noreferrer">#3582</a></li> </ul> <h3 id=clickhouse-release-18-14-13-2018-11-08>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-13-2018-11-08 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-7>错误修复:<a class=headerlink href=#bug-fixes-7 title="Permanent link">&para;</a></h4> <ul> <li>修正了 <code>Block structure mismatch in MergingSorted stream</code> 错误 <a href=https://github.com/ClickHouse/ClickHouse/issues/3162 rel="external nofollow noreferrer">#3162</a></li> <li>固定 <code>ON CLUSTER</code> 查询的情况下，当安全连接被打开的群集配置（ <code>&lt;secure&gt;</code> 标志）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3465 rel="external nofollow noreferrer">#3465</a></li> <li>修复了查询中使用的错误 <code>SAMPLE</code>, <code>PREWHERE</code> 和别名列。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3543 rel="external nofollow noreferrer">#3543</a></li> <li>修正了一个罕见的 <code>unknown compression method</code> 错误时 <code>min_bytes_to_use_direct_io</code> 设置已启用。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3544 rel="external nofollow noreferrer">3544</a></li> </ul> <h4 id=performance-improvements>性能改进:<a class=headerlink href=#performance-improvements title="Permanent link">&para;</a></h4> <ul> <li>查询的固定性能回归 <code>GROUP BY</code> 在AMD EPYC处理器上执行时，uint16或Date类型的列。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3512 rel="external nofollow noreferrer">Igor Lapko</a></li> <li>修正了处理长字符串的查询的性能回归。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3530 rel="external nofollow noreferrer">#3530</a></li> </ul> <h4 id=build-improvements-3>构建改进:<a class=headerlink href=#build-improvements-3 title="Permanent link">&para;</a></h4> <ul> <li>简化阿卡迪亚构建的改进。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3475 rel="external nofollow noreferrer">#3475</a>, <a href=https://github.com/ClickHouse/ClickHouse/pull/3535 rel="external nofollow noreferrer">#3535</a></li> </ul> <h3 id=clickhouse-release-18-14-12-2018-11-02>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-12-2018-11-02 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-8>错误修复:<a class=headerlink href=#bug-fixes-8 title="Permanent link">&para;</a></h4> <ul> <li>修复了加入两个未命名的子查询时的崩溃。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3505 rel="external nofollow noreferrer">#3505</a></li> <li>修正了生成不正确的查询（用空 <code>WHERE</code> 子句）查询外部数据库时。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3477 rel="external nofollow noreferrer">hotid</a></li> <li>修正了在ODBC字典中使用不正确的超时值。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3511 rel="external nofollow noreferrer">Marek Vavruša</a></li> </ul> <h3 id=clickhouse-release-18-14-11-2018-10-29>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-11-2018-10-29 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-9>错误修复:<a class=headerlink href=#bug-fixes-9 title="Permanent link">&para;</a></h4> <ul> <li>修正了错误 <code>Block structure mismatch in UNION stream: different number of columns</code> 在限制查询。 <a href=https://github.com/ClickHouse/ClickHouse/issues/2156 rel="external nofollow noreferrer">#2156</a></li> <li>修复了在嵌套结构中包含数组的表中合并数据时出现的错误。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3397 rel="external nofollow noreferrer">#3397</a></li> <li>修正了不正确的查询结果，如果 <code>merge_tree_uniform_read_distribution</code> 设置被禁用（默认情况下启用）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3429 rel="external nofollow noreferrer">#3429</a></li> <li>修复了在本机格式的分布式表中插入错误。 <a href=https://github.com/ClickHouse/ClickHouse/issues/3411 rel="external nofollow noreferrer">#3411</a></li> </ul> <h3 id=clickhouse-release-18-14-10-2018-10-23>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-10-2018-10-23 title="Permanent link">&para;</a></h3> <ul> <li>该 <code>compile_expressions</code> 默认情况下禁用设置（表达式的JIT编译）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3410 rel="external nofollow noreferrer">#3410</a></li> <li>该 <code>enable_optimize_predicate_expression</code> 默认情况下禁用设置。</li> </ul> <h3 id=clickhouse-release-18-14-9-2018-10-16>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-14-9-2018-10-16 title="Permanent link">&para;</a></h3> <h4 id=new-features-1>新功能:<a class=headerlink href=#new-features-1 title="Permanent link">&para;</a></h4> <ul> <li>该 <code>WITH CUBE</code> 修饰符 <code>GROUP BY</code> （替代语法 <code>GROUP BY CUBE(...)</code> 也可用）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3172 rel="external nofollow noreferrer">#3172</a></li> <li>添加了 <code>formatDateTime</code> 功能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2770 rel="external nofollow noreferrer">Alexandr Krasheninnikov</a></li> <li>添加了 <code>JDBC</code> 表引擎和 <code>jdbc</code> 表功能（需要安装clickhouse-jdbc桥）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3210 rel="external nofollow noreferrer">Alexandr Krasheninnikov</a></li> <li>增加了使用ISO周编号的功能: <code>toISOWeek</code>, <code>toISOYear</code>, <code>toStartOfISOYear</code>，和 <code>toDayOfYear</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3146 rel="external nofollow noreferrer">#3146</a></li> <li>现在你可以使用 <code>Nullable</code> 列 <code>MySQL</code> 和 <code>ODBC</code> 桌子 <a href=https://github.com/ClickHouse/ClickHouse/pull/3362 rel="external nofollow noreferrer">#3362</a></li> <li>嵌套的数据结构可以被读取为嵌套的对象 <code>JSONEachRow</code> 格式。 添加了 <code>input_format_import_nested_json</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3144 rel="external nofollow noreferrer">维罗曼*云坎</a></li> <li>并行处理可用于许多 <code>MATERIALIZED VIEW</code>s插入数据时。 见 <code>parallel_view_processing</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3208 rel="external nofollow noreferrer">Marek Vavruša</a></li> <li>添加了 <code>SYSTEM FLUSH LOGS</code> 查询（强制日志刷新到系统表，如 <code>query_log</code>) <a href=https://github.com/ClickHouse/ClickHouse/pull/3321 rel="external nofollow noreferrer">#3321</a></li> <li>现在，您可以使用预定义 <code>database</code> 和 <code>table</code> 声明时的宏 <code>Replicated</code> 桌子 <a href=https://github.com/ClickHouse/ClickHouse/pull/3251 rel="external nofollow noreferrer">#3251</a></li> <li>增加了阅读的能力 <code>Decimal</code> 工程表示法中的类型值（表示十的幂）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3153 rel="external nofollow noreferrer">#3153</a></li> </ul> <h4 id=experimental-features>实验特点:<a class=headerlink href=#experimental-features title="Permanent link">&para;</a></h4> <ul> <li>对GROUP BY子句进行优化 <code>LowCardinality data types.</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3138 rel="external nofollow noreferrer">#3138</a></li> <li>表达式的优化计算 <code>LowCardinality data types.</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3200 rel="external nofollow noreferrer">#3200</a></li> </ul> <h4 id=improvements-2>改进:<a class=headerlink href=#improvements-2 title="Permanent link">&para;</a></h4> <ul> <li>显着减少查询的内存消耗 <code>ORDER BY</code> 和 <code>LIMIT</code>. 见 <code>max_bytes_before_remerge_sort</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3205 rel="external nofollow noreferrer">#3205</a></li> <li>在没有 <code>JOIN</code> (<code>LEFT</code>, <code>INNER</code>, …), <code>INNER JOIN</code> 是假定的。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3147 rel="external nofollow noreferrer">#3147</a></li> <li>限定星号在以下查询中正常工作 <code>JOIN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3202 rel="external nofollow noreferrer">张冬</a></li> <li>该 <code>ODBC</code> 表引擎正确地选择用于引用远程数据库的SQL方言中的标识符的方法。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3210 rel="external nofollow noreferrer">Alexandr Krasheninnikov</a></li> <li>该 <code>compile_expressions</code> 默认情况下启用设置（表达式的JIT编译）。</li> <li>修复了同时删除数据库/表（如果存在）和创建数据库/表（如果不存在）的行为。 前情提要 <code>CREATE DATABASE ... IF NOT EXISTS</code> 查询可能会返回错误消息 “File … already exists” 和 <code>CREATE TABLE ... IF NOT EXISTS</code> 和 <code>DROP TABLE IF EXISTS</code> 查询可能会返回 <code>Table ... is creating or attaching right now</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3101 rel="external nofollow noreferrer">#3101</a></li> <li>当从MySQL或ODBC表中查询时，LIKE和IN表达式具有常量右半部分被传递到远程服务器。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3182 rel="external nofollow noreferrer">#3182</a></li> <li>当从MySQL和ODBC表查询时，与WHERE子句中常量表达式的比较会传递给远程服务器。 以前，只通过与常量的比较。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3182 rel="external nofollow noreferrer">#3182</a></li> <li>正确计算终端中的行宽 <code>Pretty</code> 格式，包括带有象形文字的字符串。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3257 rel="external nofollow noreferrer">阿莫斯鸟</a>.</li> <li><code>ON CLUSTER</code> 可以指定 <code>ALTER UPDATE</code> 查询。</li> <li>提高了读取数据的性能 <code>JSONEachRow</code> 格式。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3332 rel="external nofollow noreferrer">#3332</a></li> <li>添加同义词的 <code>LENGTH</code> 和 <code>CHARACTER_LENGTH</code> 功能的兼容性。 该 <code>CONCAT</code> 函数不再区分大小写。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3306 rel="external nofollow noreferrer">#3306</a></li> <li>添加了 <code>TIMESTAMP</code> 的同义词 <code>DateTime</code> 类型。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3390 rel="external nofollow noreferrer">#3390</a></li> <li>服务器日志中始终为query_id保留空间，即使日志行与查询无关。 这使得使用第三方工具更容易分析服务器文本日志。</li> <li>当查询超过整数千兆字节的下一级别时，会记录查询的内存消耗。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3205 rel="external nofollow noreferrer">#3205</a></li> <li>为使用本机协议的客户端库错误发送的列少于服务器预期的插入查询时的情况添加了兼容模式。 使用clickhouse-cpp库时，这种情况是可能的。 以前，此方案会导致服务器崩溃。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3171 rel="external nofollow noreferrer">#3171</a></li> <li>在用户定义的WHERE表达式中 <code>clickhouse-copier</code>，您现在可以使用 <code>partition_key</code> 别名（用于按源表分区进行其他过滤）。 如果分区方案在复制过程中发生更改，但仅稍有更改，这很有用。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3166 rel="external nofollow noreferrer">#3166</a></li> <li>的工作流程 <code>Kafka</code> 引擎已被移动到后台线程池中，以便在高负载下自动降低数据读取速度。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3215 rel="external nofollow noreferrer">Marek Vavruša</a>.</li> <li>支持阅读 <code>Tuple</code> 和 <code>Nested</code> 结构的值，如 <code>struct</code> 在 <code>Cap'n'Proto format</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3216 rel="external nofollow noreferrer">Marek Vavruša</a></li> <li>顶级域名列表 <code>firstSignificantSubdomain</code> 功能现在包括域 <code>biz</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3219 rel="external nofollow noreferrer">decaseal</a></li> <li>在外部字典的配置, <code>null_value</code> 被解释为默认数据类型的值。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3330 rel="external nofollow noreferrer">#3330</a></li> <li>支持 <code>intDiv</code> 和 <code>intDivOrZero</code> 功能 <code>Decimal</code>. <a href=https://github.com/ClickHouse/ClickHouse/commit/b48402e8712e2b9b151e0eef8193811d433a1264 rel="external nofollow noreferrer">b48402e8</a></li> <li>支持 <code>Date</code>, <code>DateTime</code>, <code>UUID</code>，和 <code>Decimal</code> 类型作为键 <code>sumMap</code> 聚合函数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3281 rel="external nofollow noreferrer">#3281</a></li> <li>支持 <code>Decimal</code> 外部字典中的数据类型。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3324 rel="external nofollow noreferrer">#3324</a></li> <li>支持 <code>Decimal</code> 数据类型in <code>SummingMergeTree</code> 桌子 <a href=https://github.com/ClickHouse/ClickHouse/pull/3348 rel="external nofollow noreferrer">#3348</a></li> <li>增加了专业化 <code>UUID</code> 在 <code>if</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3366 rel="external nofollow noreferrer">#3366</a></li> <li>减少的数量 <code>open</code> 和 <code>close</code> 从读取时系统调用 <code>MergeTree table</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3283 rel="external nofollow noreferrer">#3283</a></li> <li>A <code>TRUNCATE TABLE</code> 查询可以在任何副本上执行（将查询传递给领导副本）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3375 rel="external nofollow noreferrer">基里尔*什瓦科夫</a></li> </ul> <h4 id=bug-fixes-10>错误修复:<a class=headerlink href=#bug-fixes-10 title="Permanent link">&para;</a></h4> <ul> <li>修正了一个问题 <code>Dictionary</code> 表 <code>range_hashed</code> 字典 此错误发生在版本18.12.17中。 <a href=https://github.com/ClickHouse/ClickHouse/pull/1702 rel="external nofollow noreferrer">#1702</a></li> <li>修正了加载时的错误 <code>range_hashed</code> 字典（消息 <code>Unsupported type Nullable (...)</code>). 此错误发生在版本18.12.17中。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3362 rel="external nofollow noreferrer">#3362</a></li> <li>在固定的错误 <code>pointInPolygon</code> 函数由于不准确的计算的多边形与大量的顶点位于彼此靠近的积累。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3331 rel="external nofollow noreferrer">#3331</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3341 rel="external nofollow noreferrer">#3341</a></li> <li>如果在合并数据部分之后，结果部分的校验和与另一个副本中相同合并的结果不同，则删除合并的结果并从另一个副本下载数据部分（这是正确的行为）。 但是在下载数据部分之后，由于该部分已经存在的错误（因为合并后数据部分被删除了一些延迟），因此无法将其添加到工作集中。 这导致周期性尝试下载相同的数据。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3194 rel="external nofollow noreferrer">#3194</a></li> <li>修正了查询总内存消耗的不正确计算（由于计算不正确， <code>max_memory_usage_for_all_queries</code> 设置工作不正确， <code>MemoryTracking</code> 度量值不正确）。 此错误发生在版本18.12.13中。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3344 rel="external nofollow noreferrer">Marek Vavruša</a></li> <li>修正的功能 <code>CREATE TABLE ... ON CLUSTER ... AS SELECT ...</code> 此错误发生在版本18.12.13中。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3247 rel="external nofollow noreferrer">#3247</a></li> <li>修正了数据结构的不必要的准备 <code>JOIN</code>如果发起查询的服务器上 <code>JOIN</code> 仅在远程服务器上执行。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3340 rel="external nofollow noreferrer">#3340</a></li> <li>在固定的错误 <code>Kafka</code> 引擎：开始读取数据时异常后的死锁，并在完成时锁定 <a href=https://github.com/ClickHouse/ClickHouse/pull/3215 rel="external nofollow noreferrer">Marek Vavruša</a>.</li> <li>为 <code>Kafka</code> 表，可选 <code>schema</code> 参数未被传递（的架构 <code>Cap'n'Proto</code> 格式）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3150 rel="external nofollow noreferrer">Vojtech Splichal</a></li> <li>如果ZooKeeper服务器的整体服务器接受连接，但随后立即关闭它，而不是响应握手，ClickHouse选择连接另一台服务器。 以前，这会产生错误 <code>Cannot read all data. Bytes read: 0. Bytes expected: 4.</code> 服务器无法启动。 <a href=https://github.com/ClickHouse/ClickHouse/commit/8218cf3a5f39a43401953769d6d12a0bb8d29da9 rel="external nofollow noreferrer">8218cf3a</a></li> <li>如果ZooKeeper服务器的整体包含DNS查询返回错误的服务器，则忽略这些服务器。 <a href=https://github.com/ClickHouse/ClickHouse/commit/17b8e209221061325ad7ba0539f03c6e65f87f29 rel="external nofollow noreferrer">17b8e209</a></li> <li>固定类型之间的转换 <code>Date</code> 和 <code>DateTime</code> 当在插入数据 <code>VALUES</code> 格式（如果 <code>input_format_values_interpret_expressions = 1</code>). 以前，转换是在Unix Epoch时间中的天数和Unix时间戳的数值之间进行的，这会导致意外的结果。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3229 rel="external nofollow noreferrer">#3229</a></li> <li>修正类型之间的转换 <code>Decimal</code> 和整数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3211 rel="external nofollow noreferrer">#3211</a></li> <li>在固定的错误 <code>enable_optimize_predicate_expression</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3231 rel="external nofollow noreferrer">张冬</a></li> <li>如果使用非默认的CSV分隔符，则修复了CSV格式的浮点数解析错误，例如 <code>;</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3155 rel="external nofollow noreferrer">#3155</a></li> <li>修正了 <code>arrayCumSumNonNegative</code> 函数（它不累加负值，如果累加器小于零）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3163 rel="external nofollow noreferrer">Aleksey Studnev</a></li> <li>固定如何 <code>Merge</code> 表工作的顶部 <code>Distributed</code> 使用时的表 <code>PREWHERE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3165 rel="external nofollow noreferrer">#3165</a></li> <li>在错误修复 <code>ALTER UPDATE</code> 查询。</li> <li>在固定的错误 <code>odbc</code> 表功能，出现在版本18.12。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3197 rel="external nofollow noreferrer">#3197</a></li> <li>修正了聚合函数的操作 <code>StateArray</code> 组合子 <a href=https://github.com/ClickHouse/ClickHouse/pull/3188 rel="external nofollow noreferrer">#3188</a></li> <li>修正了划分时崩溃 <code>Decimal</code> 值为零。 <a href=https://github.com/ClickHouse/ClickHouse/commit/69dd6609193beb4e7acd3e6ad216eca0ccfb8179 rel="external nofollow noreferrer">69dd6609</a></li> <li>使用固定输出类型的操作 <code>Decimal</code> 和整数参数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3224 rel="external nofollow noreferrer">#3224</a></li> <li>修正了在段错误 <code>GROUP BY</code> 上 <code>Decimal128</code>. <a href=https://github.com/ClickHouse/ClickHouse/commit/3359ba06c39fcd05bfdb87d6c64154819621e13a rel="external nofollow noreferrer">3359ba06</a></li> <li>该 <code>log_query_threads</code> 设置（关于查询执行的每个线程的日志记录信息）现在生效，只有当 <code>log_queries</code> 选项（有关查询的日志记录信息）设置为1。 由于 <code>log_query_threads</code> 默认情况下，即使禁用了查询日志记录，也会先前记录有关线程的信息。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3241 rel="external nofollow noreferrer">#3241</a></li> <li>修正了分位数聚合函数的分布式操作中的错误（错误消息 <code>Not found column quantile...</code>). <a href=https://github.com/ClickHouse/ClickHouse/commit/292a885533b8e3b41ce8993867069d14cbd5a664 rel="external nofollow noreferrer">292a8855</a></li> <li>修复了同时在18.12.17版服务器和旧服务器的集群上工作时的兼容性问题。 对于具有固定和非固定长度的GROUP BY键的分布式查询，如果要聚合大量数据，则返回的数据并不总是完全聚合（两个不同的行包含相同的聚合键）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3254 rel="external nofollow noreferrer">#3254</a></li> <li>固定处理替换 <code>clickhouse-performance-test</code>，如果查询只包含测试中声明的替换的一部分。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3263 rel="external nofollow noreferrer">#3263</a></li> <li>修复了使用时的错误 <code>FINAL</code> 与 <code>PREWHERE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3298 rel="external nofollow noreferrer">#3298</a></li> <li>修复了使用时的错误 <code>PREWHERE</code> 在过程中添加的列 <code>ALTER</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3298 rel="external nofollow noreferrer">#3298</a></li> <li>增加了一个检查没有 <code>arrayJoin</code> 为 <code>DEFAULT</code> 和 <code>MATERIALIZED</code> 表达式。 前情提要, <code>arrayJoin</code> 插入数据时导致错误。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3337 rel="external nofollow noreferrer">#3337</a></li> <li>增加了一个检查没有 <code>arrayJoin</code> 在一个 <code>PREWHERE</code> 条款 以前，这导致了类似的消息 <code>Size ... doesn't match</code> 或 <code>Unknown compression method</code> 执行查询时。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3357 rel="external nofollow noreferrer">#3357</a></li> <li>修复了优化后可能发生的极少数情况下的段错误，并将相等性评估与相应的IN表达式链接起来。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3339 rel="external nofollow noreferrer">刘一民-字节舞</a></li> <li>小幅更正 <code>clickhouse-benchmark</code>:以前，客户端信息没有发送到服务器;现在关闭时更准确地计算执行的查询数量，并限制迭代次数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3351 rel="external nofollow noreferrer">#3351</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3352 rel="external nofollow noreferrer">#3352</a></li> </ul> <h4 id=backward-incompatible-changes-1>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-1 title="Permanent link">&para;</a></h4> <ul> <li>删除了 <code>allow_experimental_decimal_type</code> 选项。 该 <code>Decimal</code> 数据类型可供默认使用。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3329 rel="external nofollow noreferrer">#3329</a></li> </ul> <h2 id=clickhouse-release-18-12>ClickHouse释放18.12<a class=headerlink href=#clickhouse-release-18-12 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-12-17-2018-09-16>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-12-17-2018-09-16 title="Permanent link">&para;</a></h3> <h4 id=new-features-2>新功能:<a class=headerlink href=#new-features-2 title="Permanent link">&para;</a></h4> <ul> <li><code>invalidate_query</code> （指定查询来检查是否需要更新外部字典的能力）实现了 <code>clickhouse</code> 资料来源。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3126 rel="external nofollow noreferrer">#3126</a></li> <li>增加了使用的能力 <code>UInt*</code>, <code>Int*</code>，和 <code>DateTime</code> 数据类型（与 <code>Date</code> 类型）作为 <code>range_hashed</code> 定义范围边界的外部字典键。 现在 <code>NULL</code> 可用于指定开放范围。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3123 rel="external nofollow noreferrer">瓦西里*内姆科夫</a></li> <li>该 <code>Decimal</code> 类型现在支持 <code>var*</code> 和 <code>stddev*</code> 聚合函数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3129 rel="external nofollow noreferrer">#3129</a></li> <li>该 <code>Decimal</code> 类型现在支持数学函数 (<code>exp</code>, <code>sin</code> 等等。) <a href=https://github.com/ClickHouse/ClickHouse/pull/3129 rel="external nofollow noreferrer">#3129</a></li> <li>该 <code>system.part_log</code> 表现在有 <code>partition_id</code> 列。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3089 rel="external nofollow noreferrer">#3089</a></li> </ul> <h4 id=bug-fixes-11>错误修复:<a class=headerlink href=#bug-fixes-11 title="Permanent link">&para;</a></h4> <ul> <li><code>Merge</code> 现在正常工作 <code>Distributed</code> 桌子 <a href=https://github.com/ClickHouse/ClickHouse/pull/3159 rel="external nofollow noreferrer">张冬</a></li> <li>修复了不兼容（不必要的依赖 <code>glibc</code> 版本），这使得它不可能运行ClickHouse的 <code>Ubuntu Precise</code> 和旧版本。 在版本18.12.13中出现了不兼容。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3130 rel="external nofollow noreferrer">#3130</a></li> <li>在固定的错误 <code>enable_optimize_predicate_expression</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3107 rel="external nofollow noreferrer">张冬</a></li> <li>修复了在早于18.12.13的版本上使用副本集群并同时在具有较新版本的服务器上创建表的新副本时出现的向后兼容性的一个小问题（如消息中所示 <code>Can not clone replica, because the ... updated to new ClickHouse version</code>，这是合乎逻辑的，但不应该发生）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3122 rel="external nofollow noreferrer">#3122</a></li> </ul> <h4 id=backward-incompatible-changes-2>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-2 title="Permanent link">&para;</a></h4> <ul> <li>该 <code>enable_optimize_predicate_expression</code> 默认情况下启用选项（这是相当乐观的）。 如果发生与搜索列名相关的查询分析错误，请设置 <code>enable_optimize_predicate_expression</code> 为0。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3107 rel="external nofollow noreferrer">张冬</a></li> </ul> <h3 id=clickhouse-release-18-12-14-2018-09-13>碌莽禄,拢,0755-88888888<a class=headerlink href=#clickhouse-release-18-12-14-2018-09-13 title="Permanent link">&para;</a></h3> <h4 id=new-features-3>新功能:<a class=headerlink href=#new-features-3 title="Permanent link">&para;</a></h4> <ul> <li>增加了对 <code>ALTER UPDATE</code> 查询。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3035 rel="external nofollow noreferrer">#3035</a></li> <li>添加了 <code>allow_ddl</code> 选项，它限制用户对DDL查询的访问。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3104 rel="external nofollow noreferrer">#3104</a></li> <li>添加了 <code>min_merge_bytes_to_use_direct_io</code> 备选案文 <code>MergeTree</code> 引擎允许您为合并的总大小设置阈值（当超过阈值时，将使用O_DIRECT处理数据部分文件）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3117 rel="external nofollow noreferrer">#3117</a></li> <li>该 <code>system.merges</code> 系统表现在包含 <code>partition_id</code> 列。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3099 rel="external nofollow noreferrer">#3099</a></li> </ul> <h4 id=improvements-3>改进<a class=headerlink href=#improvements-3 title="Permanent link">&para;</a></h4> <ul> <li>如果数据部分在变异期间保持不变，则副本不会下载该数据部分。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3103 rel="external nofollow noreferrer">#3103</a></li> <li>使用时，自动完成可用于设置名称 <code>clickhouse-client</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3106 rel="external nofollow noreferrer">#3106</a></li> </ul> <h4 id=bug-fixes-12>错误修复:<a class=headerlink href=#bug-fixes-12 title="Permanent link">&para;</a></h4> <ul> <li>添加了一个检查是元素的数组的大小 <code>Nested</code> 插入时的类型字段。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3118 rel="external nofollow noreferrer">#3118</a></li> <li>修正了一个错误更新外部字典与 <code>ODBC</code> 来源和 <code>hashed</code> 存储。 此错误发生在版本18.12.13中。</li> <li>修复了使用以下命令从查询创建临时表时出现的崩溃 <code>IN</code> 条件。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3098 rel="external nofollow noreferrer">张冬</a></li> <li>修复了聚合函数中可能具有的数组的错误 <code>NULL</code> 元素。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3097 rel="external nofollow noreferrer">张冬</a></li> </ul> <h3 id=clickhouse-release-18-12-13-2018-09-10>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-12-13-2018-09-10 title="Permanent link">&para;</a></h3> <h4 id=new-features-4>新功能:<a class=headerlink href=#new-features-4 title="Permanent link">&para;</a></h4> <ul> <li>添加了 <code>DECIMAL(digits, scale)</code> 数据类型 (<code>Decimal32(scale)</code>, <code>Decimal64(scale)</code>, <code>Decimal128(scale)</code>). 要启用它，请使用以下设置 <code>allow_experimental_decimal_type</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2846 rel="external nofollow noreferrer">#2846</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2970 rel="external nofollow noreferrer">#2970</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3008 rel="external nofollow noreferrer">#3008</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3047 rel="external nofollow noreferrer">#3047</a></li> <li>新 <code>WITH ROLLUP</code> 修饰符 <code>GROUP BY</code> （替代语法: <code>GROUP BY ROLLUP(...)</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2948 rel="external nofollow noreferrer">#2948</a></li> <li>在具有JOIN的查询中，星形字符将扩展为符合SQL标准的所有表中的列列表。 您可以通过设置恢复旧行为 <code>asterisk_left_columns_only</code> 在用户配置级别上为1。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2787 rel="external nofollow noreferrer">张冬</a></li> <li>增加了对连接表函数的支持。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2907 rel="external nofollow noreferrer">张冬</a></li> <li>在clickhouse-client中按Tab键进行自动完成。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2447 rel="external nofollow noreferrer">谢尔盖*谢尔宾</a></li> <li>Clickhouse-client中的Ctrl+C清除输入的查询。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2877 rel="external nofollow noreferrer">#2877</a></li> <li>添加了 <code>join_default_strictness</code> 设置（值: <code>"</code>, <code>'any'</code>, <code>'all'</code>). 这允许您不指定 <code>ANY</code> 或 <code>ALL</code> 为 <code>JOIN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2982 rel="external nofollow noreferrer">#2982</a></li> <li>与查询处理相关的服务器日志的每一行都显示了查询ID。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>现在，您可以在clickhouse-client中获取查询执行日志（使用 <code>send_logs_level</code> 设置）。 通过分布式查询处理，日志从所有服务器级联。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>该 <code>system.query_log</code> 和 <code>system.processes</code> (<code>SHOW PROCESSLIST</code>）表现在有关所有更改的设置信息，当你运行一个查询（的嵌套结构 <code>Settings</code> 数据）。 添加了 <code>log_query_settings</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>该 <code>system.query_log</code> 和 <code>system.processes</code> 表现在显示有关参与查询执行的线程数的信息（请参阅 <code>thread_numbers</code> 列）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>已添加 <code>ProfileEvents</code> 用于度量通过网络读取和写入磁盘以及读取和写入磁盘所花费的时间、网络错误的数量以及在网络带宽受限时所花费的等待时间。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>已添加 <code>ProfileEvents</code>包含来自rusage的系统指标的计数器（您可以使用它们获取有关用户空间和内核、页面错误和上下文切换的CPU使用率的信息），以及taskstats指标（使用它们获取有关I/O等待时间、CPU等待时间以及读取和记录的数据量的信息，无论是否包含页面缓存）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>该 <code>ProfileEvents</code> 计数器应用于全局和每个查询，以及每个查询执行线程，它允许您按查询详细分析资源消耗情况。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>添加了 <code>system.query_thread_log</code> 表，其中包含有关每个查询执行线程的信息。 添加了 <code>log_query_threads</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer">#2482</a></li> <li>该 <code>system.metrics</code> 和 <code>system.events</code> 表现在有内置文档。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3016 rel="external nofollow noreferrer">#3016</a></li> <li>添加了 <code>arrayEnumerateDense</code> 功能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2975 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>添加了 <code>arrayCumSumNonNegative</code> 和 <code>arrayDifference</code> 功能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2942 rel="external nofollow noreferrer">Aleksey Studnev</a></li> <li>添加了 <code>retention</code> 聚合函数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2887 rel="external nofollow noreferrer">李尚迪</a></li> <li>现在，您可以使用plus运算符添加（合并）聚合函数的状态，并将聚合函数的状态乘以非负常数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3062 rel="external nofollow noreferrer">#3062</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3034 rel="external nofollow noreferrer">#3034</a></li> <li>MergeTree系列中的表现在具有虚拟列 <code>_partition_id</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3089 rel="external nofollow noreferrer">#3089</a></li> </ul> <h4 id=experimental-features-1>实验特点:<a class=headerlink href=#experimental-features-1 title="Permanent link">&para;</a></h4> <ul> <li>添加了 <code>LowCardinality(T)</code> 数据类型。 此数据类型自动创建值的本地字典，并允许数据处理而无需解压字典。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2830 rel="external nofollow noreferrer">#2830</a></li> <li>添加了JIT编译函数的缓存和编译前使用次数的计数器。 要JIT编译表达式，请启用 <code>compile_expressions</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2990 rel="external nofollow noreferrer">#2990</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3077 rel="external nofollow noreferrer">#3077</a></li> </ul> <h4 id=improvements-4>改进:<a class=headerlink href=#improvements-4 title="Permanent link">&para;</a></h4> <ul> <li>修复了放弃副本时复制日志无限积累的问题。 为延迟较长的副本添加了有效的恢复模式。</li> <li>改进的性能 <code>GROUP BY</code> 当其中一个是string，其他是固定长度时，具有多个聚合字段。</li> <li>使用时提高性能 <code>PREWHERE</code> 并与表达式的隐式转移 <code>PREWHERE</code>.</li> <li>改进文本格式的解析性能 (<code>CSV</code>, <code>TSV</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2977 rel="external nofollow noreferrer">阿莫斯鸟</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2980 rel="external nofollow noreferrer">#2980</a></li> <li>改进了读取二进制格式字符串和数组的性能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2955 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>提高性能和减少内存消耗的查询 <code>system.tables</code> 和 <code>system.columns</code> 当单个服务器上有非常大量的表时。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2953 rel="external nofollow noreferrer">#2953</a></li> <li>修复了大量查询导致错误的情况下的性能问题（ <code>_dl_addr</code> 功能是可见的 <code>perf top</code>，但服务器没有使用太多的CPU）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2938 rel="external nofollow noreferrer">#2938</a></li> <li>条件被转换到视图中（当 <code>enable_optimize_predicate_expression</code> 被启用）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2907 rel="external nofollow noreferrer">张冬</a></li> <li>改进的功能 <code>UUID</code> 数据类型。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3074 rel="external nofollow noreferrer">#3074</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2985 rel="external nofollow noreferrer">#2985</a></li> <li>该 <code>UUID</code> -Alchemist字典支持数据类型。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2822 rel="external nofollow noreferrer">#2822</a></li> <li>该 <code>visitParamExtractRaw</code> 函数与嵌套结构正常工作。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2974 rel="external nofollow noreferrer">张冬</a></li> <li>当 <code>input_format_skip_unknown_fields</code> 启用设置，在对象字段 <code>JSONEachRow</code> 格式被正确跳过。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2958 rel="external nofollow noreferrer">BlahGeek</a></li> <li>对于一个 <code>CASE</code> 表达式与条件，你现在可以省略 <code>ELSE</code>，这相当于 <code>ELSE NULL</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2920 rel="external nofollow noreferrer">#2920</a></li> <li>现在可以在使用ZooKeeper时配置操作超时。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2971 rel="external nofollow noreferrer">urykhy</a></li> <li>您可以指定偏移量 <code>LIMIT n, m</code> 作为 <code>LIMIT n OFFSET m</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2840 rel="external nofollow noreferrer">#2840</a></li> <li>您可以使用 <code>SELECT TOP n</code> 语法作为替代 <code>LIMIT</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2840 rel="external nofollow noreferrer">#2840</a></li> <li>增加了队列的大小写入系统表，因此 <code>SystemLog parameter queue is full</code> 错误不经常发生。</li> <li>该 <code>windowFunnel</code> aggregate函数现在支持满足多个条件的事件。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2801 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>重复的列可以用于 <code>USING</code> 条款 <code>JOIN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3006 rel="external nofollow noreferrer">#3006</a></li> <li><code>Pretty</code> 格式现在对列对齐宽度有限制。 使用 <code>output_format_pretty_max_column_pad_width</code> 设置。 如果一个值较宽，它仍将完整显示，但表中的其他单元格不会太宽。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3003 rel="external nofollow noreferrer">#3003</a></li> <li>该 <code>odbc</code> 表函数现在允许您指定数据库/模式名称。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2885 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>增加了使用在指定的用户名的能力 <code>clickhouse-client</code> 配置文件。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2909 rel="external nofollow noreferrer">弗拉基米尔*科兹宾</a></li> <li>该 <code>ZooKeeperExceptions</code> 计数器已被分成三个计数器: <code>ZooKeeperUserExceptions</code>, <code>ZooKeeperHardwareExceptions</code>，和 <code>ZooKeeperOtherExceptions</code>.</li> <li><code>ALTER DELETE</code> 查询适用于实例化视图。</li> <li>在定期运行清理线程时添加了随机化 <code>ReplicatedMergeTree</code> 表，以避免周期性负载尖峰时有一个非常大的数量 <code>ReplicatedMergeTree</code> 桌子</li> <li>支持 <code>ATTACH TABLE ... ON CLUSTER</code> 查询。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3025 rel="external nofollow noreferrer">#3025</a></li> </ul> <h4 id=bug-fixes-13>错误修复:<a class=headerlink href=#bug-fixes-13 title="Permanent link">&para;</a></h4> <ul> <li>修正了一个问题 <code>Dictionary</code> 表（抛出 <code>Size of offsets doesn't match size of column</code> 或 <code>Unknown compression method</code> 例外）。 此错误出现在版本18.10.3中。 <a href=https://github.com/ClickHouse/ClickHouse/issues/2913 rel="external nofollow noreferrer">#2913</a></li> <li>修复了合并时的错误 <code>CollapsingMergeTree</code> 如果其中一个数据部分为空（这些部分在合并或合并期间形成 <code>ALTER DELETE</code> 如果所有数据被删除），和 <code>vertical</code> 算法被用于合并。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3049 rel="external nofollow noreferrer">#3049</a></li> <li>在固定的竞争条件 <code>DROP</code> 或 <code>TRUNCATE</code> 为 <code>Memory</code> 表与同时 <code>SELECT</code>，这可能导致服务器崩溃。 此错误出现在版本1.1.54388中。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3038 rel="external nofollow noreferrer">#3038</a></li> <li>修正了插入时数据丢失的可能性 <code>Replicated</code> 表如果 <code>Session is expired</code> 错误返回（数据丢失可以通过检测 <code>ReplicatedDataLoss</code> 公制）。 此错误发生在版本1.1.54378。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2939 rel="external nofollow noreferrer">#2939</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2949 rel="external nofollow noreferrer">#2949</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2964 rel="external nofollow noreferrer">#2964</a></li> <li>在修复段错误 <code>JOIN ... ON</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3000 rel="external nofollow noreferrer">#3000</a></li> <li>修正了错误搜索列名时 <code>WHERE</code> 表达式完全由限定列名组成，例如 <code>WHERE table.column</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2994 rel="external nofollow noreferrer">#2994</a></li> <li>修正了 “Not found column” 如果从远程服务器请求由IN表达式和子查询组成的单个列，则在执行分布式查询时发生错误。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3087 rel="external nofollow noreferrer">#3087</a></li> <li>修正了 <code>Block structure mismatch in UNION stream: different number of columns</code> 如果其中一个分片是本地的，而另一个分片不是，则发生分布式查询的错误，并优化移动到 <code>PREWHERE</code> 被触发。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2226 rel="external nofollow noreferrer">#2226</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3037 rel="external nofollow noreferrer">#3037</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3055 rel="external nofollow noreferrer">#3055</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3065 rel="external nofollow noreferrer">#3065</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3073 rel="external nofollow noreferrer">#3073</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3090 rel="external nofollow noreferrer">#3090</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3093 rel="external nofollow noreferrer">#3093</a></li> <li>修正了 <code>pointInPolygon</code> 非凸多边形的某些情况下的函数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2910 rel="external nofollow noreferrer">#2910</a></li> <li>修正了比较时不正确的结果 <code>nan</code> 与整数。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3024 rel="external nofollow noreferrer">#3024</a></li> <li>修正了一个错误 <code>zlib-ng</code> 在极少数情况下可能导致segfault的库。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2854 rel="external nofollow noreferrer">#2854</a></li> <li>修复了插入到表中时的内存泄漏 <code>AggregateFunction</code> 列，如果聚合函数的状态不简单（分别分配内存），并且如果单个插入请求导致多个小块。 <a href=https://github.com/ClickHouse/ClickHouse/pull/3084 rel="external nofollow noreferrer">#3084</a></li> <li>修复了创建和删除相同的竞争条件 <code>Buffer</code> 或 <code>MergeTree</code> 同时表。</li> <li>修复了比较由某些非平凡类型（如元组）组成的元组时出现段错误的可能性。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2989 rel="external nofollow noreferrer">#2989</a></li> <li>修正了运行某些时段错误的可能性 <code>ON CLUSTER</code> 查询。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2960 rel="external nofollow noreferrer">张冬</a></li> <li>修正了一个错误 <code>arrayDistinct</code> 功能 <code>Nullable</code> 数组元素。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2845 rel="external nofollow noreferrer">#2845</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2937 rel="external nofollow noreferrer">#2937</a></li> <li>该 <code>enable_optimize_predicate_expression</code> 选项现在正确支持的情况下 <code>SELECT *</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2929 rel="external nofollow noreferrer">张冬</a></li> <li>修复了重新初始化ZooKeeper会话时的段错误。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2917 rel="external nofollow noreferrer">#2917</a></li> <li>与ZooKeeper工作时固定的潜在阻塞。</li> <li>修正了不正确的代码添加嵌套的数据结构中 <code>SummingMergeTree</code>.</li> <li>在为聚合函数的状态分配内存时，会正确考虑对齐，这使得在实现聚合函数的状态时可以使用需要对齐的操作。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2808 rel="external nofollow noreferrer">晨兴-xc</a></li> </ul> <h4 id=security-fix>安全修复:<a class=headerlink href=#security-fix title="Permanent link">&para;</a></h4> <ul> <li>安全使用ODBC数据源。 与ODBC驱动程序的交互使用单独的 <code>clickhouse-odbc-bridge</code> 过程。 第三方ODBC驱动程序中的错误不再导致服务器稳定性问题或漏洞。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2828 rel="external nofollow noreferrer">#2828</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2879 rel="external nofollow noreferrer">#2879</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2886 rel="external nofollow noreferrer">#2886</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2893 rel="external nofollow noreferrer">#2893</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2921 rel="external nofollow noreferrer">#2921</a></li> <li>修正了在文件路径的不正确的验证 <code>catBoostPool</code> 表功能。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2894 rel="external nofollow noreferrer">#2894</a></li> <li>系统表的内容 (<code>tables</code>, <code>databases</code>, <code>parts</code>, <code>columns</code>, <code>parts_columns</code>, <code>merges</code>, <code>mutations</code>, <code>replicas</code>，和 <code>replication_queue</code>）根据用户对数据库的配置访问权限进行过滤 (<code>allow_databases</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2856 rel="external nofollow noreferrer">张冬</a></li> </ul> <h4 id=backward-incompatible-changes-3>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-3 title="Permanent link">&para;</a></h4> <ul> <li>在具有JOIN的查询中，星形字符将扩展为符合SQL标准的所有表中的列列表。 您可以通过设置恢复旧行为 <code>asterisk_left_columns_only</code> 在用户配置级别上为1。</li> </ul> <h4 id=build-changes-2>构建更改:<a class=headerlink href=#build-changes-2 title="Permanent link">&para;</a></h4> <ul> <li>大多数集成测试现在可以通过commit运行。</li> <li>代码样式检查也可以通过提交运行。</li> <li>该 <code>memcpy</code> 在CentOS7/Fedora上构建时，正确选择实现。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2912 rel="external nofollow noreferrer">Etienne Champetier</a></li> <li>当使用clang来构建时，来自一些警告 <code>-Weverything</code> 已添加，除了常规 <code>-Wall-Wextra -Werror</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2957 rel="external nofollow noreferrer">#2957</a></li> <li>调试生成使用 <code>jemalloc</code> 调试选项。</li> <li>用于与ZooKeeper交互的库接口被声明为抽象。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2950 rel="external nofollow noreferrer">#2950</a></li> </ul> <h2 id=clickhouse-release-18-10>ClickHouse释放18.10<a class=headerlink href=#clickhouse-release-18-10 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-10-3-2018-08-13>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-10-3-2018-08-13 title="Permanent link">&para;</a></h3> <h4 id=new-features-5>新功能:<a class=headerlink href=#new-features-5 title="Permanent link">&para;</a></h4> <ul> <li>HTTPS可用于复制。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2760 rel="external nofollow noreferrer">#2760</a></li> <li>新增功能 <code>murmurHash2_64</code>, <code>murmurHash3_32</code>, <code>murmurHash3_64</code>，和 <code>murmurHash3_128</code> 除了现有的 <code>murmurHash2_32</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2791 rel="external nofollow noreferrer">#2791</a></li> <li>支持ClickHouse ODBC驱动程序中的可空类型 (<code>ODBCDriver2</code> 输出格式）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2834 rel="external nofollow noreferrer">#2834</a></li> <li>支持 <code>UUID</code> 在关键列。</li> </ul> <h4 id=improvements-5>改进:<a class=headerlink href=#improvements-5 title="Permanent link">&para;</a></h4> <ul> <li>当群集从配置文件中删除时，可以在不重新启动服务器的情况下删除群集。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2777 rel="external nofollow noreferrer">#2777</a></li> <li>从配置文件中删除外部字典时，可以在不重新启动服务器的情况下删除它们。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2779 rel="external nofollow noreferrer">#2779</a></li> <li>已添加 <code>SETTINGS</code> 支持 <code>Kafka</code> 表引擎。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2781 rel="external nofollow noreferrer">Alexander Marshalov</a></li> <li>改进的 <code>UUID</code> 数据类型（尚未完成）。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2618 rel="external nofollow noreferrer">#2618</a></li> <li>支持合并后的空部件 <code>SummingMergeTree</code>, <code>CollapsingMergeTree</code> 和 <code>VersionedCollapsingMergeTree</code> 引擎 <a href=https://github.com/ClickHouse/ClickHouse/pull/2815 rel="external nofollow noreferrer">#2815</a></li> <li>已完成突变的旧记录将被删除 (<code>ALTER DELETE</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2784 rel="external nofollow noreferrer">#2784</a></li> <li>添加了 <code>system.merge_tree_settings</code> 桌子 <a href=https://github.com/ClickHouse/ClickHouse/pull/2841 rel="external nofollow noreferrer">基里尔*什瓦科夫</a></li> <li>该 <code>system.tables</code> 表现在具有依赖列: <code>dependencies_database</code> 和 <code>dependencies_table</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2851 rel="external nofollow noreferrer">张冬</a></li> <li>添加了 <code>max_partition_size_to_drop</code> 配置选项。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2782 rel="external nofollow noreferrer">#2782</a></li> <li>添加了 <code>output_format_json_escape_forward_slashes</code> 选项。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2812 rel="external nofollow noreferrer">Alexander Bocharov</a></li> <li>添加了 <code>max_fetch_partition_retries_count</code> 设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2831 rel="external nofollow noreferrer">#2831</a></li> <li>添加了 <code>prefer_localhost_replica</code> 用于禁用本地副本的首选项以及在不进程间交互的情况下转到本地副本的设置。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2832 rel="external nofollow noreferrer">#2832</a></li> <li>该 <code>quantileExact</code> 聚合函数返回 <code>nan</code> 在聚合在一个空的情况下 <code>Float32</code> 或 <code>Float64</code> 预备 <a href=https://github.com/ClickHouse/ClickHouse/pull/2855 rel="external nofollow noreferrer">李尚迪</a></li> </ul> <h4 id=bug-fixes-14>错误修复:<a class=headerlink href=#bug-fixes-14 title="Permanent link">&para;</a></h4> <ul> <li>删除了ODBC的连接字符串参数的不必要的转义，这使得无法建立连接。 此错误发生在版本18.6.0中。</li> <li>修正了处理逻辑 <code>REPLACE PARTITION</code> 复制队列中的命令。 如果有两个 <code>REPLACE</code> 对于同一个分区的命令，不正确的逻辑可能会导致其中一个保留在复制队列中而无法执行。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2814 rel="external nofollow noreferrer">#2814</a></li> <li>修正了一个合并错误，当所有的数据部分都是空的（从合并或从形成的部分 <code>ALTER DELETE</code> 如果所有数据都被删除）。 此错误出现在18.1.0版本。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2930 rel="external nofollow noreferrer">#2930</a></li> <li>修复了并发错误 <code>Set</code> 或 <code>Join</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2823 rel="external nofollow noreferrer">阿莫斯鸟</a></li> <li>修正了 <code>Block structure mismatch in UNION stream: different number of columns</code> 发生的错误 <code>UNION ALL</code> 子查询内的查询，如果一个 <code>SELECT</code> 查询包含重复的列名。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2094 rel="external nofollow noreferrer">张冬</a></li> <li>修复了连接到MySQL服务器时发生异常时的内存泄漏。</li> <li>在查询错误的情况下修复了不正确的clickhouse客户端响应代码。</li> <li>修正了包含DISTINCT的实例化视图的不正确行为。 <a href=https://github.com/ClickHouse/ClickHouse/issues/2795 rel="external nofollow noreferrer">#2795</a></li> </ul> <h4 id=backward-incompatible-changes-4>向后不兼容的更改<a class=headerlink href=#backward-incompatible-changes-4 title="Permanent link">&para;</a></h4> <ul> <li>删除了对分布式表的检查表查询的支持。</li> </ul> <h4 id=build-changes-3>构建更改:<a class=headerlink href=#build-changes-3 title="Permanent link">&para;</a></h4> <ul> <li>分配器已被替换: <code>jemalloc</code> 现在用来代替 <code>tcmalloc</code>. 在某些情况下，这增加了速度高达20％。 但是，有些查询已经减慢了20％。 在某些情况下，内存消耗减少了大约10%，稳定性得到了提高。 由于竞争激烈的负载，用户空间和系统中的CPU使用率略有增加。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2773 rel="external nofollow noreferrer">#2773</a></li> <li>从子模块使用libressl。 <a href=https://github.com/ClickHouse/ClickHouse/pull/1983 rel="external nofollow noreferrer">#1983</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2807 rel="external nofollow noreferrer">#2807</a></li> <li>从子模块使用unixodbc。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2789 rel="external nofollow noreferrer">#2789</a></li> <li>从子模块中使用mariadb-connector-c。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2785 rel="external nofollow noreferrer">#2785</a></li> <li>将功能性测试文件添加到存储库中，这些文件取决于测试数据的可用性（暂时不包含测试数据本身）。</li> </ul> <h2 id=clickhouse-release-18-6>ClickHouse释放18.6<a class=headerlink href=#clickhouse-release-18-6 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-6-0-2018-08-02>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-6-0-2018-08-02 title="Permanent link">&para;</a></h3> <h4 id=new-features-6>新功能:<a class=headerlink href=#new-features-6 title="Permanent link">&para;</a></h4> <ul> <li>增加了对ON表达式的支持，以便在语法上加入:<br> <code>JOIN ON Expr([table.]column ...) = Expr([table.]column, ...) [AND Expr([table.]column, ...) = Expr([table.]column, ...) ...]</code><br> 表达式必须是由AND运算符连接的等式链。 等式的每一侧都可以是其中一个表的列上的任意表达式。 支持使用完全限定的列名 (<code>table.name</code>, <code>database.table.name</code>, <code>table_alias.name</code>, <code>subquery_alias.name</code>）对于正确的表。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2742 rel="external nofollow noreferrer">#2742</a></li> <li>可以启用HTTPS进行复制。 <a href=https://github.com/ClickHouse/ClickHouse/pull/2760 rel="external nofollow noreferrer">#2760</a></li> </ul> <h4 id=improvements-6>改进:<a class=headerlink href=#improvements-6 title="Permanent link">&para;</a></h4> <ul> <li>服务器将其版本的补丁组件传递给客户端。 有关修补程序版本组件的数据位于 <code>system.processes</code> 和 <code>query_log</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2646 rel="external nofollow noreferrer">#2646</a></li> </ul> <h2 id=clickhouse-release-18-5>ClickHouse释放18.5<a class=headerlink href=#clickhouse-release-18-5 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-5-1-2018-07-31>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-5-1-2018-07-31 title="Permanent link">&para;</a></h3> <h4 id=new-features-7>新功能:<a class=headerlink href=#new-features-7 title="Permanent link">&para;</a></h4> <ul> <li>添加了哈希函数 <code>murmurHash2_32</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2756 rel="external nofollow noreferrer">#2756</a>.</li> </ul> <h4 id=improvements-7>改进:<a class=headerlink href=#improvements-7 title="Permanent link">&para;</a></h4> <ul> <li>现在你可以使用 <code>from_env</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2741 rel="external nofollow noreferrer">#2741</a> 从环境变量设置配置文件中的值的属性。</li> <li>增加了不区分大小写的版本 <code>coalesce</code>, <code>ifNull</code>，和 <code>nullIf functions</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2752 rel="external nofollow noreferrer">#2752</a>.</li> </ul> <h4 id=bug-fixes-15>错误修复:<a class=headerlink href=#bug-fixes-15 title="Permanent link">&para;</a></h4> <ul> <li>修复了启动副本时可能出现的错误 <a href=https://github.com/ClickHouse/ClickHouse/pull/2759 rel="external nofollow noreferrer">#2759</a>.</li> </ul> <h2 id=clickhouse-release-18-4>ClickHouse释放18.4<a class=headerlink href=#clickhouse-release-18-4 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-4-0-2018-07-28>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-4-0-2018-07-28 title="Permanent link">&para;</a></h3> <h4 id=new-features-8>新功能:<a class=headerlink href=#new-features-8 title="Permanent link">&para;</a></h4> <ul> <li>添加系统表: <code>formats</code>, <code>data_type_families</code>, <code>aggregate_function_combinators</code>, <code>table_functions</code>, <code>table_engines</code>, <code>collations</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2721 rel="external nofollow noreferrer">#2721</a>.</li> <li>增加了使用表函数代替表作为参数的能力 <code>remote</code> 或 <code>cluster table function</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2708 rel="external nofollow noreferrer">#2708</a>.</li> <li>支持 <code>HTTP Basic</code> 复制协议中的身份验证 <a href=https://github.com/ClickHouse/ClickHouse/pull/2727 rel="external nofollow noreferrer">#2727</a>.</li> <li>该 <code>has</code> 函数现在允许搜索数组中的数值 <code>Enum</code> 值 <a href=https://github.com/ClickHouse/ClickHouse/pull/2699 rel="external nofollow noreferrer">Maxim Khrisanfov</a>.</li> <li>支持添加任意消息分隔符从读取时 <code>Kafka</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2701 rel="external nofollow noreferrer">阿莫斯鸟</a>.</li> </ul> <h4 id=improvements-8>改进:<a class=headerlink href=#improvements-8 title="Permanent link">&para;</a></h4> <ul> <li>该 <code>ALTER TABLE t DELETE WHERE</code> 查询不会重写未受WHERE条件影响的数据部分 <a href=https://github.com/ClickHouse/ClickHouse/pull/2694 rel="external nofollow noreferrer">#2694</a>.</li> <li>该 <code>use_minimalistic_checksums_in_zookeeper</code> 备选案文 <code>ReplicatedMergeTree</code> 默认情况下启用表。 此设置在版本1.1.54378，2018-04-16中添加。 不能再安装超过1.1.54378的版本。</li> <li>支持运行 <code>KILL</code> 和 <code>OPTIMIZE</code> 指定的查询 <code>ON CLUSTER</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2689 rel="external nofollow noreferrer">张冬</a>.</li> </ul> <h4 id=bug-fixes-16>错误修复:<a class=headerlink href=#bug-fixes-16 title="Permanent link">&para;</a></h4> <ul> <li>修正了错误 <code>Column ... is not under an aggregate function and not in GROUP BY</code> 用于具有IN表达式的聚合。 此错误出现在18.1.0版本。 (<a href=https://github.com/ClickHouse/ClickHouse/commit/bbdd780be0be06a0f336775941cdd536878dd2c2 rel="external nofollow noreferrer">bbdd780b</a>)</li> <li>修正了一个错误 <code>windowFunnel aggregate function</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2735 rel="external nofollow noreferrer">张冬</a>.</li> <li>修正了一个错误 <code>anyHeavy</code> 聚合函数 (<a href=https://github.com/ClickHouse/ClickHouse/commit/a2101df25a6a0fba99aa71f8793d762af2b801ee rel="external nofollow noreferrer">a2101df2</a>)</li> <li>使用时固定服务器崩溃 <code>countArray()</code> 聚合函数。</li> </ul> <h4 id=backward-incompatible-changes-5>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-5 title="Permanent link">&para;</a></h4> <ul> <li>参数 <code>Kafka</code> 发动机从改变 <code>Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_schema, kafka_num_consumers])</code> 到 <code>Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_row_delimiter, kafka_schema, kafka_num_consumers])</code>. 如果你的表使用 <code>kafka_schema</code> 或 <code>kafka_num_consumers</code> 参数，你必须手动编辑元数据文件 <code>path/metadata/database/table.sql</code> 并添加 <code>kafka_row_delimiter</code> 参数 <code>''</code> 价值。</li> </ul> <h2 id=clickhouse-release-18-1>ClickHouse释放18.1<a class=headerlink href=#clickhouse-release-18-1 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-18-1-0-2018-07-23>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-18-1-0-2018-07-23 title="Permanent link">&para;</a></h3> <h4 id=new-features-9>新功能:<a class=headerlink href=#new-features-9 title="Permanent link">&para;</a></h4> <ul> <li>支持 <code>ALTER TABLE t DELETE WHERE</code> 非复制MergeTree表的查询 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2634 rel="external nofollow noreferrer">#2634</a>).</li> <li>支持任意类型的 <code>uniq*</code> 聚合函数族 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2010 rel="external nofollow noreferrer">#2010</a>).</li> <li>支持比较运算符中的任意类型 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2026 rel="external nofollow noreferrer">#2026</a>).</li> <li>该 <code>users.xml</code> 文件允许设置子网掩码的格式 <code>10.0.0.1/255.255.255.0</code>. 这对于在中间使用零的IPv6网络使用掩码是必要的 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2637 rel="external nofollow noreferrer">#2637</a>).</li> <li>添加了 <code>arrayDistinct</code> 功能 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2670 rel="external nofollow noreferrer">#2670</a>).</li> <li>SummingMergeTree引擎现在可以使用AggregateFunction类型列 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2566 rel="external nofollow noreferrer">康斯坦丁*潘</a>).</li> </ul> <h4 id=improvements-9>改进:<a class=headerlink href=#improvements-9 title="Permanent link">&para;</a></h4> <ul> <li>更改了发布版本的编号方案。 现在第一部分包含发布年份（公元，莫斯科时区，减去2000），第二部分包含主要更改的数量（大多数版本的增加），第三部分是补丁版本。 除非在更新日志中另有说明，否则版本仍然向后兼容。</li> <li>更快地将浮点数转换为字符串 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2664 rel="external nofollow noreferrer">阿莫斯鸟</a>).</li> <li>如果在插入过程中由于解析错误而跳过某些行（这可能与 <code>input_allow_errors_num</code> 和 <code>input_allow_errors_ratio</code> 启用设置），跳过的行数现在写入服务器日志 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2669 rel="external nofollow noreferrer">列奥纳多*切奇</a>).</li> </ul> <h4 id=bug-fixes-17>错误修复:<a class=headerlink href=#bug-fixes-17 title="Permanent link">&para;</a></h4> <ul> <li>修复了临时表的截断命令 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2624 rel="external nofollow noreferrer">阿莫斯鸟</a>).</li> <li>修复了读取响应时出现网络错误时ZooKeeper客户端库中罕见的死锁 (<a href=https://github.com/ClickHouse/ClickHouse/commit/c315200e64b87e44bdf740707fc857d1fdf7e947 rel="external nofollow noreferrer">c315200</a>).</li> <li>修复了转换为可空类型期间的错误 (<a href=https://github.com/ClickHouse/ClickHouse/issues/1322 rel="external nofollow noreferrer">#1322</a>).</li> <li>修正了不正确的结果 <code>maxIntersection()</code> 函数时间间隔的边界重合 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2657 rel="external nofollow noreferrer">Michael Furmur</a>).</li> <li>修复了函数参数中OR表达式链的不正确转换 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2663 rel="external nofollow noreferrer">晨兴-xc</a>).</li> <li>修复了包含 <code>IN (subquery)</code> 另一个子查询中的表达式 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2571 rel="external nofollow noreferrer">#2571</a>).</li> <li>修复了分布式查询中使用不同版本的服务器之间的不兼容性 <code>CAST</code> 不是大写字母的函数 (<a href=https://github.com/ClickHouse/ClickHouse/commit/fe8c4d64e434cacd4ceef34faa9005129f2190a5 rel="external nofollow noreferrer">fe8c4d6</a>).</li> <li>添加了对外部数据库管理系统查询的缺少标识符引用 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2635 rel="external nofollow noreferrer">#2635</a>).</li> </ul> <h4 id=backward-incompatible-changes-6>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-6 title="Permanent link">&para;</a></h4> <ul> <li>将包含数字零的字符串转换为DateTime不起作用。 示例: <code>SELECT toDateTime('0')</code>. 这也是原因 <code>DateTime DEFAULT '0'</code> 在表中不起作用，以及 <code>&lt;null_value&gt;0&lt;/null_value&gt;</code> 在字典里 解决方案：替换 <code>0</code> 与 <code>0000-00-00 00:00:00</code>.</li> </ul> <h2 id=clickhouse-release-1-1>ClickHouse释放1.1<a class=headerlink href=#clickhouse-release-1-1 title="Permanent link">&para;</a></h2> <h3 id=clickhouse-release-1-1-54394-2018-07-12>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54394-2018-07-12 title="Permanent link">&para;</a></h3> <h4 id=new-features-10>新功能:<a class=headerlink href=#new-features-10 title="Permanent link">&para;</a></h4> <ul> <li>添加了 <code>histogram</code> 聚合函数 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2521 rel="external nofollow noreferrer">米哈伊尔*苏林</a>).</li> <li>现在 <code>OPTIMIZE TABLE ... FINAL</code> 可以在不指定分区的情况下使用 <code>ReplicatedMergeTree</code> (<a href=https://github.com/ClickHouse/ClickHouse/pull/2600 rel="external nofollow noreferrer">阿莫斯鸟</a>).</li> </ul> <h4 id=bug-fixes-18>错误修复:<a class=headerlink href=#bug-fixes-18 title="Permanent link">&para;</a></h4> <ul> <li>修复了在发送和下载复制数据时读取和写入套接字超时非常小的问题（一秒钟），这使得在网络或磁盘上存在负载时无法下载更大的部分（导致周期性尝试下载部分）。 此错误发生在版本1.1.54388。</li> <li>修复了在ZooKeeper中使用chroot时在表中插入重复数据块的问题。</li> <li>该 <code>has</code> 函数现在可以正常工作用于具有可为空元素的数组 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2115 rel="external nofollow noreferrer">#2115</a>).</li> <li>该 <code>system.tables</code> 在分布式查询中使用表现在可以正常工作。 该 <code>metadata_modification_time</code> 和 <code>engine_full</code> 列现在是非虚拟的。 修复了仅从表中查询这些列时发生的错误。</li> <li>固定如何空 <code>TinyLog</code> 表插入一个空数据块后工作 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2563 rel="external nofollow noreferrer">#2563</a>).</li> <li>该 <code>system.zookeeper</code> 如果ZooKeeper中节点的值为NULL，表就可以工作。</li> </ul> <h3 id=clickhouse-release-1-1-54390-2018-07-06>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54390-2018-07-06 title="Permanent link">&para;</a></h3> <h4 id=new-features-11>新功能:<a class=headerlink href=#new-features-11 title="Permanent link">&para;</a></h4> <ul> <li>查询可以在发送 <code>multipart/form-data</code> 格式（在 <code>query</code> 字段），如果外部数据也被发送用于查询处理，这是有用的 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2490 rel="external nofollow noreferrer">Olga Hvostikova</a>).</li> <li>增加了在读取CSV格式数据时启用或禁用处理单引号或双引号的功能。 您可以在 <code>format_csv_allow_single_quotes</code> 和 <code>format_csv_allow_double_quotes</code> 设置 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2574 rel="external nofollow noreferrer">阿莫斯鸟</a>).</li> <li>现在 <code>OPTIMIZE TABLE ... FINAL</code> 可以在不指定非复制变体的分区的情况下使用 <code>MergeTree</code> (<a href=https://github.com/ClickHouse/ClickHouse/pull/2599 rel="external nofollow noreferrer">阿莫斯鸟</a>).</li> </ul> <h4 id=improvements-10>改进:<a class=headerlink href=#improvements-10 title="Permanent link">&para;</a></h4> <ul> <li>在可以使用表索引时使用IN运算符提高性能、减少内存消耗并正确跟踪内存消耗 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2584 rel="external nofollow noreferrer">#2584</a>).</li> <li>删除添加数据部分时校验和的冗余检查。 当存在大量副本时，这一点很重要，因为在这些情况下，检查的总数等于N^2。</li> <li>增加了对 <code>Array(Tuple(...))</code> 对于参数 <code>arrayEnumerateUniq</code> 功能 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2573 rel="external nofollow noreferrer">#2573</a>).</li> <li>已添加 <code>Nullable</code> 支持 <code>runningDifference</code> 功能 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2594 rel="external nofollow noreferrer">#2594</a>).</li> <li>当存在大量表达式时，改进了查询分析性能 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2572 rel="external nofollow noreferrer">#2572</a>).</li> <li>更快地选择用于合并的数据部分 <code>ReplicatedMergeTree</code> 桌子 更快地恢复ZooKeeper会话 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2597 rel="external nofollow noreferrer">#2597</a>).</li> <li>该 <code>format_version.txt</code> 文件 <code>MergeTree</code> 如果表丢失，则重新创建表，如果在没有文件的情况下复制目录结构后启动ClickHouse，这是有意义的 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2593 rel="external nofollow noreferrer">Ciprian Hacman</a>).</li> </ul> <h4 id=bug-fixes-19>错误修复:<a class=headerlink href=#bug-fixes-19 title="Permanent link">&para;</a></h4> <ul> <li>修复了与ZooKeeper一起工作时的错误，这可能会导致无法在重新启动服务器之前恢复表的会话和只读状态。</li> <li>修复了与ZooKeeper一起工作时的错误，如果会话中断，可能会导致旧节点不被删除。</li> <li>修正了一个错误 <code>quantileTDigest</code> Float参数的函数（此错误在版本1.1.54388中引入) (<a href=https://github.com/ClickHouse/ClickHouse/pull/2553 rel="external nofollow noreferrer">米哈伊尔*苏林</a>).</li> <li>修复了MergeTree表索引中的一个错误，如果主键列位于函数内部，用于在相同大小的有符号和无符号整数之间转换类型 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2603 rel="external nofollow noreferrer">#2603</a>).</li> <li>如果修复段错误 <code>macros</code> 使用，但它们不在配置文件中 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2570 rel="external nofollow noreferrer">#2570</a>).</li> <li>修复了重新连接客户端时切换到默认数据库的问题 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2583 rel="external nofollow noreferrer">#2583</a>).</li> <li>修正了当发生的错误 <code>use_index_for_in_with_subqueries</code> 设置被禁用。</li> </ul> <h4 id=security-fix-1>安全修复:<a class=headerlink href=#security-fix-1 title="Permanent link">&para;</a></h4> <ul> <li>当连接到MySQL时，发送文件不再可能 (<code>LOAD DATA LOCAL INFILE</code>).</li> </ul> <h3 id=clickhouse-release-1-1-54388-2018-06-28>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54388-2018-06-28 title="Permanent link">&para;</a></h3> <h4 id=new-features-12>新功能:<a class=headerlink href=#new-features-12 title="Permanent link">&para;</a></h4> <ul> <li>支持 <code>ALTER TABLE t DELETE WHERE</code> 查询复制的表。 添加了 <code>system.mutations</code> 表来跟踪这种类型的查询的进度。</li> <li>支持 <code>ALTER TABLE t [REPLACE|ATTACH] PARTITION</code> 查询*MergeTree表。</li> <li>支持 <code>TRUNCATE TABLE</code> 查询 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2260 rel="external nofollow noreferrer">张冬</a>)</li> <li>几个新的 <code>SYSTEM</code> 复制表的查询 (<code>RESTART REPLICAS</code>, <code>SYNC REPLICA</code>, <code>[STOP|START] [MERGES|FETCHES|SENDS REPLICATED|REPLICATION QUEUES]</code>).</li> <li>增加了使用MySQL引擎和相应的表函数写入表的能力 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2294 rel="external nofollow noreferrer">三弟</a>).</li> <li>添加了 <code>url()</code> 表功能和 <code>URL</code> 表引擎 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2501 rel="external nofollow noreferrer">Alexander Sapin</a>).</li> <li>添加了 <code>windowFunnel</code> 聚合函数 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2352 rel="external nofollow noreferrer">三弟</a>).</li> <li>新 <code>startsWith</code> 和 <code>endsWith</code> 字符串的函数 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2429 rel="external nofollow noreferrer">Vadim Plakhtinsky</a>).</li> <li>该 <code>numbers()</code> 表函数现在允许您指定偏移量 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2535 rel="external nofollow noreferrer">张冬</a>).</li> <li>密码 <code>clickhouse-client</code> 可以交互输入。</li> <li>服务器日志现在可以发送到系统日志 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2459 rel="external nofollow noreferrer">Alexander Krasheninnikov</a>).</li> <li>支持使用共享库源登录字典 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2472 rel="external nofollow noreferrer">Alexander Sapin</a>).</li> <li>支持自定义CSV分隔符 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2263 rel="external nofollow noreferrer">伊万*朱可夫</a>)</li> <li>添加了 <code>date_time_input_format</code> 设置。 如果将此设置切换到 <code>'best_effort'</code>，日期时间值将以各种格式读取。</li> <li>添加了 <code>clickhouse-obfuscator</code> 用于数据混ob的实用程序。 用法示例：发布性能测试中使用的数据。</li> </ul> <h4 id=experimental-features-2>实验特点:<a class=headerlink href=#experimental-features-2 title="Permanent link">&para;</a></h4> <ul> <li>增加了计算能力 <code>and</code> 只有在需要的地方才能参数 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2272 rel="external nofollow noreferrer">阿纳斯塔西娅Tsarkova</a>)</li> <li>Jit编译为本机代码现在可用于某些表达式 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2277 rel="external nofollow noreferrer">pyos</a>).</li> </ul> <h4 id=bug-fixes-20>错误修复:<a class=headerlink href=#bug-fixes-20 title="Permanent link">&para;</a></h4> <ul> <li>对于具有以下内容的查询，不再显示重复项 <code>DISTINCT</code> 和 <code>ORDER BY</code>.</li> <li>查询与 <code>ARRAY JOIN</code> 和 <code>arrayFilter</code> 不再返回不正确的结果。</li> <li>修复了从嵌套结构读取数组列时的错误 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2066 rel="external nofollow noreferrer">#2066</a>).</li> <li>修复了使用HAVING子句分析查询时出现的错误，如 <code>HAVING tuple IN (...)</code>.</li> <li>修复了使用递归别名分析查询时出现的错误。</li> <li>修复了从REPLACINGMERGETREE读取过滤所有行的PREWHERE中的条件时出现的错误 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2525 rel="external nofollow noreferrer">#2525</a>).</li> <li>在HTTP界面中使用会话时，未应用用户配置文件设置。</li> <li>修复了如何从clickhouse-local中的命令行参数应用设置。</li> <li>ZooKeeper客户端库现在使用从服务器接收的会话超时。</li> <li>修正了ZooKeeper客户端库中的一个错误，当客户端等待服务器响应时间超过超时时间。</li> <li>修剪部分的查询与分区键列的条件 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2342 rel="external nofollow noreferrer">#2342</a>).</li> <li>合并后，现在可以 <code>CLEAR COLUMN IN PARTITION</code> (<a href=https://github.com/ClickHouse/ClickHouse/issues/2315 rel="external nofollow noreferrer">#2315</a>).</li> <li>ODBC表函数中的类型映射已修复 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2268 rel="external nofollow noreferrer">三弟</a>).</li> <li>类型比较已修复 <code>DateTime</code> 有和没有时区 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2400 rel="external nofollow noreferrer">Alexander Bocharov</a>).</li> <li>修正了语法解析和格式化的 <code>CAST</code> 接线员</li> <li>固定插入到分布式表引擎的实例化视图中 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2411 rel="external nofollow noreferrer">Babacar Diassé</a>).</li> <li>修正了从写入数据时的争用条件 <code>Kafka</code> 引擎到实例化视图 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2448 rel="external nofollow noreferrer">刘杨宽</a>).</li> <li>固定ssrf中的remote()表函数。</li> <li>固定退出行为 <code>clickhouse-client</code> 在多行模式下 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2510 rel="external nofollow noreferrer">#2510</a>).</li> </ul> <h4 id=improvements-11>改进:<a class=headerlink href=#improvements-11 title="Permanent link">&para;</a></h4> <ul> <li>复制表中的后台任务现在在线程池中执行，而不是在单独的线程中执行 (<a href=https://github.com/ClickHouse/ClickHouse/pull/1722 rel="external nofollow noreferrer">Silviu Caragea</a>).</li> <li>改进的LZ4压缩性能。</li> <li>更快地分析具有大量联接和子查询的查询。</li> <li>当有太多的网络错误时，DNS缓存现在会自动更新。</li> <li>如果由于其中一个实例化视图包含太多部件而无法插入表格插入，则不再发生表格插入。</li> <li>纠正了事件计数器中的差异 <code>Query</code>, <code>SelectQuery</code>，和 <code>InsertQuery</code>.</li> <li>像这样的表达式 <code>tuple IN (SELECT tuple)</code> 如果元组类型匹配，则允许。</li> <li>即使您没有配置ZooKeeper，具有复制表的服务器也可以启动。</li> <li>在计算可用CPU内核数时，现在考虑了cgroups的限制 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2325 rel="external nofollow noreferrer">Atri Sharma</a>).</li> <li>在systemd配置文件中添加了配置目录的chown (<a href=https://github.com/ClickHouse/ClickHouse/pull/2421 rel="external nofollow noreferrer">米哈伊尔Shiryaev</a>).</li> </ul> <h4 id=build-changes-4>构建更改:<a class=headerlink href=#build-changes-4 title="Permanent link">&para;</a></h4> <ul> <li>Gcc8编译器可用于构建。</li> <li>增加了从子模块构建llvm的能力。</li> <li>Librdkafka库的版本已更新为v0.11.4。</li> <li>增加了使用系统libcpuid库的能力。 库版本已更新为0.4.0。</li> <li>使用vectorclass库修复了构建 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2274 rel="external nofollow noreferrer">Babacar Diassé</a>).</li> <li>Cmake现在默认情况下为ninja生成文件（如使用 <code>-G Ninja</code>).</li> <li>添加了使用libtinfo库而不是libtermcap的功能 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2519 rel="external nofollow noreferrer">Georgy Kondratiev</a>).</li> <li>修复了Fedora Rawhide中的头文件冲突 (<a href=https://github.com/ClickHouse/ClickHouse/issues/2520 rel="external nofollow noreferrer">#2520</a>).</li> </ul> <h4 id=backward-incompatible-changes-7>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-7 title="Permanent link">&para;</a></h4> <ul> <li>删除逃逸 <code>Vertical</code> 和 <code>Pretty*</code> 格式和删除 <code>VerticalRaw</code> 格式。</li> <li>如果在分布式查询中同时使用版本1.1.54388（或更高版本）的服务器和版本较旧的服务器，并且查询具有 <code>cast(x, 'Type')</code> 表达式没有 <code>AS</code> 关键字并没有这个词 <code>cast</code> 以大写形式，将引发一个异常，并显示如下消息 <code>Not found column cast(0, 'UInt8') in block</code>. 解决方案：更新整个群集上的服务器。</li> </ul> <h3 id=clickhouse-release-1-1-54385-2018-06-01>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682<a class=headerlink href=#clickhouse-release-1-1-54385-2018-06-01 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-21>错误修复:<a class=headerlink href=#bug-fixes-21 title="Permanent link">&para;</a></h4> <ul> <li>修复了在某些情况下导致ZooKeeper操作阻塞的错误。</li> </ul> <h3 id=clickhouse-release-1-1-54383-2018-05-22>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54383-2018-05-22 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-22>错误修复:<a class=headerlink href=#bug-fixes-22 title="Permanent link">&para;</a></h4> <ul> <li>修正了如果一个表有许多副本，复制队列的放缓。</li> </ul> <h3 id=clickhouse-release-1-1-54381-2018-05-14>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54381-2018-05-14 title="Permanent link">&para;</a></h3> <h4 id=bug-fixes-23>错误修复:<a class=headerlink href=#bug-fixes-23 title="Permanent link">&para;</a></h4> <ul> <li>修复了ClickHouse与ZooKeeper服务器断开连接时，ZooKeeper中的节点泄漏问题。</li> </ul> <h3 id=clickhouse-release-1-1-54380-2018-04-21>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54380-2018-04-21 title="Permanent link">&para;</a></h3> <h4 id=new-features-13>新功能:<a class=headerlink href=#new-features-13 title="Permanent link">&para;</a></h4> <ul> <li>增加了表功能 <code>file(path, format, structure)</code>. 从读取字节的示例 <code>/dev/urandom</code>: <code>ln -s /dev/urandom /var/lib/clickhouse/user_files/random``clickhouse-client -q "SELECT * FROM file('random', 'RowBinary', 'd UInt8') LIMIT 10"</code>.</li> </ul> <h4 id=improvements-12>改进:<a class=headerlink href=#improvements-12 title="Permanent link">&para;</a></h4> <ul> <li>子查询可以包装在 <code>()</code> 括号以增强查询的可读性。 例如: <code>(SELECT 1) UNION ALL (SELECT 1)</code>.</li> <li>简单 <code>SELECT</code> 从查询 <code>system.processes</code> 表不包括在 <code>max_concurrent_queries</code> 限制。</li> </ul> <h4 id=bug-fixes-24>错误修复:<a class=headerlink href=#bug-fixes-24 title="Permanent link">&para;</a></h4> <ul> <li>修正了不正确的行为 <code>IN</code> 从中选择时的运算符 <code>MATERIALIZED VIEW</code>.</li> <li>修正了不正确的过滤分区索引的表达式，如 <code>partition_key_column IN (...)</code>.</li> <li>固定无法执行 <code>OPTIMIZE</code> 在以下情况下对非领导副本进行查询 <code>REANAME</code> 在桌子上进行。</li> <li>修复了执行时的授权错误 <code>OPTIMIZE</code> 或 <code>ALTER</code> 对非领导副本的查询。</li> <li>固定的冻结 <code>KILL QUERY</code>.</li> <li>修复了ZooKeeper客户端库中的错误，这导致了手表丢失，分布式的DDL队列冻结，并在复制队列中的速度变慢，如果非空 <code>chroot</code> 前缀在ZooKeeper配置中使用。</li> </ul> <h4 id=backward-incompatible-changes-8>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-8 title="Permanent link">&para;</a></h4> <ul> <li>删除对如下表达式的支持 <code>(a, b) IN (SELECT (a, b))</code> （可以使用等效表达式 <code>(a, b) IN (SELECT a, b)</code>). 在以前的版本中，这些表达式导致未确定 <code>WHERE</code> 过滤或导致的错误。</li> </ul> <h3 id=clickhouse-release-1-1-54378-2018-04-16>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54378-2018-04-16 title="Permanent link">&para;</a></h3> <h4 id=new-features-14>新功能:<a class=headerlink href=#new-features-14 title="Permanent link">&para;</a></h4> <ul> <li>可以在不重新启动服务器的情况下更改日志记录级别。</li> <li>添加了 <code>SHOW CREATE DATABASE</code> 查询。</li> <li>该 <code>query_id</code> 可以传递给 <code>clickhouse-client</code> （肘部空间）。</li> <li>新设置: <code>max_network_bandwidth_for_all_users</code>.</li> <li>增加了对 <code>ALTER TABLE ... PARTITION ...</code> 为 <code>MATERIALIZED VIEW</code>.</li> <li>在系统表中以未压缩形式添加有关数据部件大小的信息。</li> <li>对分布式表的服务器到服务器加密支持 (<code>&lt;secure&gt;1&lt;/secure&gt;</code> 在副本配置中 <code>&lt;remote_servers&gt;</code>).</li> <li>表级别的配置 <code>ReplicatedMergeTree</code> 家庭，以最大限度地减少存储在Zookeeper的数据量: : <code>use_minimalistic_checksums_in_zookeeper = 1</code></li> <li>的配置 <code>clickhouse-client</code> 提示。 默认情况下，服务器名称现在输出到提示符。 可以更改服务器的显示名称。 它也发送了 <code>X-ClickHouse-Display-Name</code> HTTP头（基里尔Shvakov）。</li> <li>多个逗号分隔 <code>topics</code> 可为指定 <code>Kafka</code> 发动机（托比亚斯*亚当森)</li> <li>当查询停止时 <code>KILL QUERY</code> 或 <code>replace_running_query</code>，客户端接收 <code>Query was canceled</code> 异常而不是不完整的结果。</li> </ul> <h4 id=improvements-13>改进:<a class=headerlink href=#improvements-13 title="Permanent link">&para;</a></h4> <ul> <li><code>ALTER TABLE ... DROP/DETACH PARTITION</code> 查询在复制队列的前面运行。</li> <li><code>SELECT ... FINAL</code> 和 <code>OPTIMIZE ... FINAL</code> 即使表具有单个数据部分，也可以使用。</li> <li>A <code>query_log</code> 如果手动删除（基里尔Shvakov），则会在飞行中重新创建表格。</li> <li>该 <code>lengthUTF8</code> 功能运行速度更快（zhang2014）。</li> <li>在同步刀片的性能提高 <code>Distributed</code> 表 (<code>insert_distributed_sync = 1</code>）当有一个非常大的数量的碎片。</li> <li>服务器接受 <code>send_timeout</code> 和 <code>receive_timeout</code> 从客户端设置并在连接到客户端时应用它们（它们以相反的顺序应用：服务器套接字的 <code>send_timeout</code> 被设置为 <code>receive_timeout</code> 值，反之亦然）。</li> <li>更强大的崩溃恢复异步插入 <code>Distributed</code> 桌子</li> <li>的返回类型 <code>countEqual</code> 功能从更改 <code>UInt32</code> 到 <code>UInt64</code> (谢磊).</li> </ul> <h4 id=bug-fixes-25>错误修复:<a class=headerlink href=#bug-fixes-25 title="Permanent link">&para;</a></h4> <ul> <li>修正了一个错误 <code>IN</code> 当表达式的左侧是 <code>Nullable</code>.</li> <li>使用元组时，现在返回正确的结果 <code>IN</code> 当某些元组组件位于表索引中时。</li> <li>该 <code>max_execution_time</code> limit现在可以正常使用分布式查询。</li> <li>在计算复合列的大小时修正错误 <code>system.columns</code> 桌子</li> <li>修复了创建临时表时的错误 <code>CREATE TEMPORARY TABLE IF NOT EXISTS.</code></li> <li>修正错误 <code>StorageKafka</code> (##2075)</li> <li>修复了某些聚合函数的无效参数导致的服务器崩溃。</li> <li>修正了防止错误 <code>DETACH DATABASE</code> 查询停止后台任务 <code>ReplicatedMergeTree</code> 桌子</li> <li><code>Too many parts</code> 插入到聚合实例化视图时，状态不太可能发生（##2084）。</li> <li>如果替换必须在同一级别上跟随另一个替换，则更正了配置中替换的递归处理。</li> <li>更正了创建元数据文件时的语法 <code>VIEW</code> 这使用一个查询 <code>UNION ALL</code>.</li> <li><code>SummingMergeTree</code> 现在可以正常使用复合键对嵌套数据结构进行求和。</li> <li>修复了在选择领导者时出现竞争条件的可能性 <code>ReplicatedMergeTree</code> 桌子</li> </ul> <h4 id=build-changes-5>构建更改:<a class=headerlink href=#build-changes-5 title="Permanent link">&para;</a></h4> <ul> <li>构建支持 <code>ninja</code> 而不是 <code>make</code> 和用途 <code>ninja</code> 默认情况下，构建版本。</li> <li>重命名的软件包: <code>clickhouse-server-base</code> 在 <code>clickhouse-common-static</code>; <code>clickhouse-server-common</code> 在 <code>clickhouse-server</code>; <code>clickhouse-common-dbg</code> 在 <code>clickhouse-common-static-dbg</code>. 要安装，请使用 <code>clickhouse-server clickhouse-client</code>. 具有旧名称的软件包仍将加载到存储库中，以便向后兼容。</li> </ul> <h4 id=backward-incompatible-changes-9>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-9 title="Permanent link">&para;</a></h4> <ul> <li>如果在左侧指定了数组，则删除了IN表达式的特殊解释。 以前，表达式 <code>arr IN (set)</code> 被解释为 “at least one <code>arr</code> element belongs to the <code>set</code>”. 要在新版本中获得相同的行为，请编写 <code>arrayExists(x -&gt; x IN (set), arr)</code>.</li> <li>禁用套接字选项的不正确使用 <code>SO_REUSEPORT</code>，默认情况下，Poco库中未正确启用。 请注意，在Linux上，不再有任何理由同时指定地址 <code>::</code> 和 <code>0.0.0.0</code> for listen – use just <code>::</code>，它允许监听通过IPv4和IPv6的连接（使用默认的内核配置设置）。 您还可以通过指定以下命令恢复到以前版本中的行为 <code>&lt;listen_reuse_port&gt;1&lt;/listen_reuse_port&gt;</code> 在配置。</li> </ul> <h3 id=clickhouse-release-1-1-54370-2018-03-16>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54370-2018-03-16 title="Permanent link">&para;</a></h3> <h4 id=new-features-15>新功能:<a class=headerlink href=#new-features-15 title="Permanent link">&para;</a></h4> <ul> <li>添加了 <code>system.macros</code> 更改配置文件时，宏的表和自动更新。</li> <li>添加了 <code>SYSTEM RELOAD CONFIG</code> 查询。</li> <li>添加了 <code>maxIntersections(left_col, right_col)</code> 聚合函数，它返回同时相交间隔的最大数目 <code>[left; right]</code>. 该 <code>maxIntersectionsPosition(left, right)</code> 函数返回的开始 “maximum” 间隔。 (<a href=https://github.com/ClickHouse/ClickHouse/pull/2012 rel="external nofollow noreferrer">Michael Furmur</a>).</li> </ul> <h4 id=improvements-14>改进:<a class=headerlink href=#improvements-14 title="Permanent link">&para;</a></h4> <ul> <li>当在一个插入数据 <code>Replicated</code> 表，较少的请求是由 <code>ZooKeeper</code> （和大多数用户级错误已经从消失 <code>ZooKeeper</code> 日志）。</li> <li>添加了为数据集创建别名的功能。 示例: <code>WITH (1, 2, 3) AS set SELECT number IN set FROM system.numbers LIMIT 10</code>.</li> </ul> <h4 id=bug-fixes-26>错误修复:<a class=headerlink href=#bug-fixes-26 title="Permanent link">&para;</a></h4> <ul> <li>修正了 <code>Illegal PREWHERE</code> 从合并表读取时出错 <code>Distributed</code>桌子</li> <li>添加了修复，允许您在仅支持IPv4的Docker容器中启动clickhouse-server。</li> <li>修正了从系统读取时的争用条件 <code>system.parts_columns tables.</code></li> <li>同步插入到一个过程中删除双缓冲 <code>Distributed</code> 表，这可能导致连接超时。</li> <li>修正了一个错误，导致过长的等待不可用的副本开始之前 <code>SELECT</code> 查询。</li> <li>在固定不正确的日期 <code>system.parts</code> 桌子</li> <li>修正了一个错误，使得它无法在插入数据 <code>Replicated</code> 表if <code>chroot</code> 是非空的配置 <code>ZooKeeper</code> 集群。</li> <li>修正了一个空的垂直合并算法 <code>ORDER BY</code> 桌子</li> <li>恢复了在对远程表的查询中使用字典的能力，即使这些字典不存在于请求者服务器上。 此功能在版本1.1.54362中丢失。</li> <li>恢复查询的行为，如 <code>SELECT * FROM remote('server2', default.table) WHERE col IN (SELECT col2 FROM default.table)</code> 当右侧的 <code>IN</code> 应该使用远程 <code>default.table</code> 而不是当地的 此行为在版本1.1.54358中被破坏。</li> <li>删除了无关的错误级别日志记录 <code>Not found column ... in block</code>.</li> </ul> <h3 id=clickhouse-release-1-1-54362-2018-03-11>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54362-2018-03-11 title="Permanent link">&para;</a></h3> <h4 id=new-features-16>新功能:<a class=headerlink href=#new-features-16 title="Permanent link">&para;</a></h4> <ul> <li>聚合不 <code>GROUP BY</code> 对于一个空集（如 <code>SELECT count(*) FROM table WHERE 0</code>）现在返回一个结果，其中一行为聚合函数带有null值，符合SQL标准。 要恢复旧行为（返回一个空结果），请设置 <code>empty_result_for_aggregation_by_empty_set</code> 到1。</li> <li>增加了类型转换 <code>UNION ALL</code>. 不同的别名被允许 <code>SELECT</code> 在职位 <code>UNION ALL</code>，符合SQL标准。</li> <li>任意表达式支持 <code>LIMIT BY</code> 条款 以前，只能使用以下内容产生的列 <code>SELECT</code>.</li> <li>的索引 <code>MergeTree</code> 表用于以下情况 <code>IN</code> 应用于来自主键列的表达式元组。 示例: <code>WHERE (UserID, EventDate) IN ((123, '2000-01-01'), ...)</code> (Anastasiya Tsarkova)</li> <li>添加了 <code>clickhouse-copier</code> 用于在群集之间复制和重新分布数据的工具（测试版）。</li> <li>添加了一致的哈希函数: <code>yandexConsistentHash</code>, <code>jumpConsistentHash</code>, <code>sumburConsistentHash</code>. 它们可以用作分片密钥，以减少后续重新分片期间的网络流量。</li> <li>新增功能: <code>arrayAny</code>, <code>arrayAll</code>, <code>hasAny</code>, <code>hasAll</code>, <code>arrayIntersect</code>, <code>arrayResize</code>.</li> <li>添加了 <code>arrayCumSum</code> 功能（哈维桑塔纳）。</li> <li>添加了 <code>parseDateTimeBestEffort</code>, <code>parseDateTimeBestEffortOrZero</code>，和 <code>parseDateTimeBestEffortOrNull</code> 用于从包含各种可能格式的文本的字符串中读取DateTime的函数。</li> <li>数据可以在更新期间从外部字典部分重新加载（加载只是记录，其中指定字段的值大于先前的下载）（Arsen Hakobyan）。</li> <li>添加了 <code>cluster</code> 表功能。 示例: <code>cluster(cluster_name, db, table)</code>. 该 <code>remote</code> 表函数可以接受集群名称作为第一个参数，如果它被指定为标识符。</li> <li>该 <code>remote</code> 和 <code>cluster</code> 表函数可用于 <code>INSERT</code> 查询。</li> <li>添加了 <code>create_table_query</code> 和 <code>engine_full</code> 虚拟列到 <code>system.tables</code>桌子 该 <code>metadata_modification_time</code> 列是虚拟的。</li> <li>添加了 <code>data_path</code> 和 <code>metadata_path</code> 列 <code>system.tables</code>和<code>system.databases</code> 表，并添加了 <code>path</code> 列到 <code>system.parts</code> 和 <code>system.parts_columns</code> 桌子</li> <li>添加了关于合并的其他信息 <code>system.part_log</code> 桌子</li> <li>一个任意的分区键可以用于 <code>system.query_log</code> 表（基里尔Shvakov）。</li> <li>该 <code>SHOW TABLES</code> 查询现在还显示临时表。 添加临时表和 <code>is_temporary</code> 列到 <code>system.tables</code> （张2014）。</li> <li>已添加 <code>DROP TEMPORARY TABLE</code> 和 <code>EXISTS TEMPORARY TABLE</code> 查询（zhang2014）。</li> <li>支持 <code>SHOW CREATE TABLE</code> 对于临时表（zhang2014）。</li> <li>添加了 <code>system_profile</code> 内部进程使用的设置的配置参数。</li> <li>支持加载 <code>object_id</code> 作为一个属性 <code>MongoDB</code> 字典（帕维尔*利特维年科）。</li> <li>阅读 <code>null</code> 作为加载数据的外部字典与时的默认值 <code>MongoDB</code> 资料来源（帕维尔*利特维年科）。</li> <li>阅读 <code>DateTime</code> 在值 <code>Values</code> 从不带单引号的Unix时间戳格式化。</li> <li>故障转移支持 <code>remote</code> 当某些副本缺少请求的表时，表函数。</li> <li>运行时可以在命令行中复盖配置设置 <code>clickhouse-server</code>. 示例: <code>clickhouse-server -- --logger.level=information</code>.</li> <li>实施了 <code>empty</code> 从功能 <code>FixedString</code> 参数：如果字符串完全由空字节组成，则函数返回1(zhang2014)。</li> <li>添加了 <code>listen_try</code>如果某些地址无法侦听，则在不退出的情况下侦听至少一个侦听地址的配置参数（对于禁用IPv4或IPv6支持的系统非常有用）。</li> <li>添加了 <code>VersionedCollapsingMergeTree</code> 表引擎。</li> <li>对于行和任意数字类型的支持 <code>library</code> 字典源.</li> <li><code>MergeTree</code> 表可以在没有主键的情况下使用（您需要指定 <code>ORDER BY tuple()</code>).</li> <li>A <code>Nullable</code> 类型可以是 <code>CAST</code> 到非-<code>Nullable</code> 如果参数不是，则键入 <code>NULL</code>.</li> <li><code>RENAME TABLE</code> 可以进行 <code>VIEW</code>.</li> <li>添加了 <code>throwIf</code> 功能。</li> <li>添加了 <code>odbc_default_field_size</code> 选项，它允许您扩展从ODBC源加载的值的最大大小（默认情况下为1024）。</li> <li>该 <code>system.processes</code> 表和 <code>SHOW PROCESSLIST</code> 现在有 <code>is_cancelled</code> 和 <code>peak_memory_usage</code> 列。</li> </ul> <h4 id=improvements-15>改进:<a class=headerlink href=#improvements-15 title="Permanent link">&para;</a></h4> <ul> <li>结果的限制和配额不再应用于以下内容的中间数据 <code>INSERT SELECT</code> 查询或 <code>SELECT</code> 子查询。</li> <li>更少的虚假触发 <code>force_restore_data</code> 当检查的状态 <code>Replicated</code> 服务器启动时的表。</li> <li>添加了 <code>allow_distributed_ddl</code> 选项。</li> <li>表达式中不允许使用非确定性函数 <code>MergeTree</code> 表键。</li> <li>从替换文件 <code>config.d</code> 目录按字母顺序加载。</li> <li>的改进的性能 <code>arrayElement</code> 函数在常量多维数组的情况下，以空数组作为元素之一。 示例: <code>[[1], []][x]</code>.</li> <li>当使用具有非常大的替换（例如，非常大的IP网络列表）的配置文件时，服务器现在启动速度更快。</li> <li>运行查询时，表值函数运行一次。 前情提要, <code>remote</code> 和 <code>mysql</code> 表值函数执行两次相同的查询以从远程服务器检索表结构。</li> <li>该 <code>MkDocs</code> 使用文档生成器。</li> <li>当您尝试删除表列时 <code>DEFAULT</code>/<code>MATERIALIZED</code> 取决于其他列的表达式，会抛出异常（zhang2014）。</li> <li>增加了解析文本格式的空行作为数字0的能力 <code>Float</code> 数据类型。 此功能以前可用，但在版本1.1.54342中丢失。</li> <li><code>Enum</code> 值可以用于 <code>min</code>, <code>max</code>, <code>sum</code> 和其他一些功能。 在这些情况下，它使用相应的数值。 此功能以前可用，但在版本1.1.54337中丢失。</li> <li>已添加 <code>max_expanded_ast_elements</code> 递归扩展别名后限制AST的大小。</li> </ul> <h4 id=bug-fixes-27>错误修复:<a class=headerlink href=#bug-fixes-27 title="Permanent link">&para;</a></h4> <ul> <li>修复了错误地从子查询中删除不必要的列或未从包含以下内容的子查询中删除不必要列的情况 <code>UNION ALL</code>.</li> <li>修正了合并的错误 <code>ReplacingMergeTree</code> 桌子</li> <li>在固定的同步插入 <code>Distributed</code> 表 (<code>insert_distributed_sync = 1</code>).</li> <li>固定段错误的某些用途 <code>FULL</code> 和 <code>RIGHT JOIN</code> 在子查询中使用重复的列。</li> <li>固定段错误的某些用途 <code>replace_running_query</code> 和 <code>KILL QUERY</code>.</li> <li>固定的顺序 <code>source</code> 和 <code>last_exception</code> 在列 <code>system.dictionaries</code> 桌子</li> <li>修正了一个错误，当 <code>DROP DATABASE</code> 查询没有删除带有元数据的文件。</li> <li>修正了 <code>DROP DATABASE</code> 查询为 <code>Dictionary</code> 数据库。</li> <li>固定的低精度 <code>uniqHLL12</code> 和 <code>uniqCombined</code> 功能基数大于100万个项目（Alex克斯Bocharov）。</li> <li>修复了在必要时计算隐式默认值，以便同时计算默认显式表达式 <code>INSERT</code> 查询（zhang2014）。</li> <li>修正了一个罕见的情况下，当一个查询 <code>MergeTree</code> 表不能完成（陈星-xc）。</li> <li>修正了运行时发生的崩溃 <code>CHECK</code> 查询为 <code>Distributed</code> 如果所有分片都是本地的（chenxing.xc)。</li> <li>修复了使用正则表达式的函数的轻微性能回归。</li> <li>修复了从复杂表达式创建多维数组时的性能回归。</li> <li>修正了一个错误，可能会导致一个额外的 <code>FORMAT</code> 部分出现在一个 <code>.sql</code> 具有元数据的文件。</li> <li>修复了导致 <code>max_table_size_to_drop</code> 尝试删除时应用的限制 <code>MATERIALIZED VIEW</code> 查看显式指定的表。</li> <li>修复了与旧客户端的不兼容性（旧客户端有时会发送数据 <code>DateTime('timezone')</code> 类型，他们不明白）。</li> <li>修复了阅读时的错误 <code>Nested</code> 使用以下方式添加的结构的列元素 <code>ALTER</code> 但是，这是空的旧分区，当这些列的条件移动到 <code>PREWHERE</code>.</li> <li>修正了通过虚拟过滤表时的错误 <code>_table</code> 查询中的列 <code>Merge</code> 桌子</li> <li>修复了使用时的错误 <code>ALIAS</code> 列 <code>Distributed</code> 桌子</li> <li>修正了一个错误，使得动态编译不可能从聚合函数的查询 <code>quantile</code> 家人</li> <li>修复了查询执行管道中极少数情况下使用时发生的争用条件 <code>Merge</code> 具有大量表的表，并且当使用 <code>GLOBAL</code> 子查询。</li> <li>修复了将不同大小的数组传递给 <code>arrayReduce</code> 使用来自多个参数的聚合函数时的函数。</li> <li>禁止使用与查询 <code>UNION ALL</code> 在一个 <code>MATERIALIZED VIEW</code>.</li> <li>修正了初始化过程中的错误 <code>part_log</code> 服务器启动时的系统表（默认情况下, <code>part_log</code> 被禁用）。</li> </ul> <h4 id=backward-incompatible-changes-10>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-10 title="Permanent link">&para;</a></h4> <ul> <li>删除了 <code>distributed_ddl_allow_replicated_alter</code> 选项。 默认情况下启用此行为。</li> <li>删除了 <code>strict_insert_defaults</code> 设置。 如果您使用此功能，请写入 <code>clickhouse-feedback@yandex-team.com</code>.</li> <li>删除了 <code>UnsortedMergeTree</code> 引擎</li> </ul> <h3 id=clickhouse-release-1-1-54343-2018-02-05>碌莽禄,拢,010-68520682\&lt;url>戮漏鹿芦,酶,虏卤赂拢,110102005602<a class=headerlink href=#clickhouse-release-1-1-54343-2018-02-05 title="Permanent link">&para;</a></h3> <ul> <li>在分布式DDL查询和分布式表的构造函数中添加了用于定义集群名称的宏支持: <code>CREATE TABLE distr ON CLUSTER '{cluster}' (...) ENGINE = Distributed('{cluster}', 'db', 'table')</code>.</li> <li>现在像查询 <code>SELECT ... FROM table WHERE expr IN (subquery)</code> 使用处理 <code>table</code> 指数。</li> <li>在插入到复制表时改进了重复项的处理，因此它们不再减慢复制队列的执行速度。</li> </ul> <h3 id=clickhouse-release-1-1-54342-2018-01-22>碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682<a class=headerlink href=#clickhouse-release-1-1-54342-2018-01-22 title="Permanent link">&para;</a></h3> <p>此版本包含以前版本1.1.54337的错误修复:</p> <ul> <li>修正了1.1.54337中的回归：如果默认用户具有只读访问权限，则服务器拒绝启动消息 <code>Cannot create database in readonly mode</code>.</li> <li>修正了1.1.54337中的回归：在具有systemd的系统上，无论配置如何，日志总是写入syslog;看门狗脚本仍然使用init。d。</li> <li>修正了1.1.54337中的回归：Docker映像中错误的默认配置。</li> <li>修正GraphiteMergeTree的非确定性行为（您可以在日志消息中看到它 <code>Data after merge is not byte-identical to the data on another replicas</code>).</li> <li>修复了优化查询到复制表后可能导致合并不一致的错误（您可能会在日志消息中看到它 <code>Part ... intersects the previous part</code>).</li> <li>当目标表中存在具体化列时，缓冲区表现在可以正常工作（by zhang2014）。</li> <li>修复了实现NULL的错误。</li> </ul> <h3 id=clickhouse-release-1-1-54337-2018-01-18>碌莽禄,拢,010-68520682\&lt;url><a class=headerlink href=#clickhouse-release-1-1-54337-2018-01-18 title="Permanent link">&para;</a></h3> <h4 id=new-features-17>新功能:<a class=headerlink href=#new-features-17 title="Permanent link">&para;</a></h4> <ul> <li>增加了对多维数组和元组存储的支持 (<code>Tuple</code> 表中的数据类型）。</li> <li>支持表函数 <code>DESCRIBE</code> 和 <code>INSERT</code> 查询。 增加了对子查询的支持 <code>DESCRIBE</code>. 例: <code>DESC TABLE remote('host', default.hits)</code>; <code>DESC TABLE (SELECT 1)</code>; <code>INSERT INTO TABLE FUNCTION remote('host', default.hits)</code>. 支持 <code>INSERT INTO TABLE</code> 除了 <code>INSERT INTO</code>.</li> <li>改进了对时区的支持。 该 <code>DateTime</code> 数据类型可以使用用于以文本格式进行分析和格式化的时区进行注释。 示例: <code>DateTime('Europe/Moscow')</code>. 当在函数中指定时区时 <code>DateTime</code> 参数，返回类型将跟踪时区，并且值将按预期显示。</li> <li>新增功能 <code>toTimeZone</code>, <code>timeDiff</code>, <code>toQuarter</code>, <code>toRelativeQuarterNum</code>. 该 <code>toRelativeHour</code>/<code>Minute</code>/<code>Second</code> 函数可以采用类型的值 <code>Date</code> 作为参数。 该 <code>now</code> 函数名称区分大小写。</li> <li>添加了 <code>toStartOfFifteenMinutes</code> 功能（基里尔Shvakov）。</li> <li>添加了 <code>clickhouse format</code> 用于格式化查询的工具。</li> <li>添加了 <code>format_schema_path</code> configuration parameter (Marek Vavruşa). It is used for specifying a schema in <code>Cap'n Proto</code> 格式。 架构文件只能位于指定的目录中。</li> <li>增加了对配置替换的支持 (<code>incl</code> 和 <code>conf.d</code>）外部字典和模型的配置（帕维尔*亚库宁）。</li> <li>添加了一列文档 <code>system.settings</code> 表（基里尔Shvakov）。</li> <li>添加了 <code>system.parts_columns</code> 表中的每个数据部分的列大小信息 <code>MergeTree</code> 桌子</li> <li>添加了 <code>system.models</code> 包含已加载信息的表 <code>CatBoost</code> 机器学习模型。</li> <li>添加了 <code>mysql</code> 和 <code>odbc</code> 表函数和对应 <code>MySQL</code> 和 <code>ODBC</code> 用于访问远程数据库的表引擎。 此功能处于测试阶段。</li> <li>增加了传递类型参数的可能性 <code>AggregateFunction</code> 为 <code>groupArray</code> 聚合函数（这样你就可以创建一些聚合函数的状态数组）。</li> <li>删除了对聚合函数组合器的各种组合的限制。 例如，您可以使用 <code>avgForEachIf</code> 以及 <code>avgIfForEach</code> 聚合函数，它们具有不同的行为。</li> <li>该 <code>-ForEach</code> 聚合函数combinator是针对多个参数的聚合函数的情况进行扩展的。</li> <li>增加了对聚合函数的支持 <code>Nullable</code> 即使是函数返回非参数的情况-<code>Nullable</code> 结果（添加Silviu Caragea的贡献）。 示例: <code>groupArray</code>, <code>groupUniqArray</code>, <code>topK</code>.</li> <li>添加了 <code>max_client_network_bandwidth</code> 为 <code>clickhouse-client</code> （基里尔*什瓦科夫）。</li> <li>用户与 <code>readonly = 2</code> setting are allowed to work with TEMPORARY tables (CREATE, DROP, INSERT…) (Kirill Shvakov).</li> <li>增加了对使用多个消费者的支持 <code>Kafka</code> 引擎 扩展的配置选项 <code>Kafka</code> (Marek Vavruša).</li> <li>添加了 <code>intExp3</code> 和 <code>intExp4</code> 功能。</li> <li>添加了 <code>sumKahan</code> 聚合函数。</li> <li>添加了to*Number*OrNull函数，其中*Number*是数字类型。</li> <li>增加了对 <code>WITH</code> a的子句 <code>INSERT SELECT</code> 查询（作者：zhang2014）。</li> <li>添加设置: <code>http_connection_timeout</code>, <code>http_send_timeout</code>, <code>http_receive_timeout</code>. 特别是，这些设置用于下载用于复制的数据部分。 如果网络过载，更改这些设置可以更快地进行故障转移。</li> <li>增加了对 <code>ALTER</code> 对于类型的表 <code>Null</code> (Anastasiya Tsarkova)</li> <li>该 <code>reinterpretAsString</code> 函数扩展为连续存储在内存中的所有数据类型。</li> <li>添加了 <code>--silent</code> 选项的 <code>clickhouse-local</code> 工具 它禁止在stderr中打印查询执行信息。</li> <li>增加了对读取类型值的支持 <code>Date</code> 从使用单个数字而不是两个数字（Amos Bird）指定月份和/或月份日的格式的文本。</li> </ul> <h4 id=performance-optimizations>性能优化:<a class=headerlink href=#performance-optimizations title="Permanent link">&para;</a></h4> <ul> <li>改进聚合函数的性能 <code>min</code>, <code>max</code>, <code>any</code>, <code>anyLast</code>, <code>anyHeavy</code>, <code>argMin</code>, <code>argMax</code> 从字符串参数。</li> <li>改进功能的性能 <code>isInfinite</code>, <code>isFinite</code>, <code>isNaN</code>, <code>roundToExp2</code>.</li> <li>改进了解析和格式化的性能 <code>Date</code> 和 <code>DateTime</code> 以文本格式键入值。</li> <li>改进了解析浮点数的性能和精度。</li> <li>降低内存使用量 <code>JOIN</code> 在左部分和右部分具有不包含在相同名称的列的情况下 <code>USING</code> .</li> <li>改进聚合函数的性能 <code>varSamp</code>, <code>varPop</code>, <code>stddevSamp</code>, <code>stddevPop</code>, <code>covarSamp</code>, <code>covarPop</code>, <code>corr</code> 通过降低计算稳定性。 旧函数的名称下可用 <code>varSampStable</code>, <code>varPopStable</code>, <code>stddevSampStable</code>, <code>stddevPopStable</code>, <code>covarSampStable</code>, <code>covarPopStable</code>, <code>corrStable</code>.</li> </ul> <h4 id=bug-fixes-28>错误修复:<a class=headerlink href=#bug-fixes-28 title="Permanent link">&para;</a></h4> <ul> <li>固定数据重复数据删除运行后 <code>DROP</code> 或 <code>DETACH PARTITION</code> 查询。 在以前的版本中，删除分区并再次插入相同的数据不起作用，因为插入的块被认为是重复的。</li> <li>修复了可能导致错误解释的错误 <code>WHERE</code> 条款 <code>CREATE MATERIALIZED VIEW</code> 查询与 <code>POPULATE</code> .</li> <li>修正了在使用 <code>root_path</code> 在参数 <code>zookeeper_servers</code> 配置。</li> <li>通过固定意外的结果 <code>Date</code> 论据 <code>toStartOfDay</code> .</li> <li>修正了 <code>addMonths</code> 和 <code>subtractMonths</code> 函数和算术 <code>INTERVAL n MONTH</code> 在情况下，当结果有前一年。</li> <li>增加了缺少的支持 <code>UUID</code> 数据类型 <code>DISTINCT</code> , <code>JOIN</code> ，和 <code>uniq</code> 聚合函数和外部字典（叶夫根尼伊万诺夫）。 支持 <code>UUID</code> 仍然是不完整的。</li> <li>固定 <code>SummingMergeTree</code> 行为的情况下，当行相加为零。</li> <li>各种修复 <code>Kafka</code> engine (Marek Vavruša).</li> <li>修正了不正确的行为 <code>Join</code> 表引擎（阿莫斯鸟）。</li> <li>修复了FreeBSD和OS X下不正确的分配器行为。</li> <li>该 <code>extractAll</code> 函数现在支持空匹配。</li> <li>修复了阻止使用的错误 <code>libressl</code> 而不是 <code>openssl</code> .</li> <li>修正了 <code>CREATE TABLE AS SELECT</code> 从临时表查询。</li> <li>修复了更新复制队列的非原子性。 这可能导致副本在服务器重新启动之前不同步。</li> <li>修正了可能的溢出 <code>gcd</code> , <code>lcm</code> 和 <code>modulo</code> (<code>%</code> 运营商）（Maks Skorokhod）。</li> <li><code>-preprocessed</code> 现在更改后创建文件 <code>umask</code> (<code>umask</code> 可以在配置中更改）。</li> <li>修正了部分的背景检查中的错误 (<code>MergeTreePartChecker</code> ）使用自定义分区密钥时。</li> <li>元组的固定解析（的值 <code>Tuple</code> 数据类型）的文本格式。</li> <li>改进了有关传递到的不兼容类型的错误消息 <code>multiIf</code> , <code>array</code> 和其他一些功能。</li> <li>重新设计的支持 <code>Nullable</code> 类型。 修复了可能导致服务器崩溃的错误。 修正了与几乎所有其他错误 <code>NULL</code> 支持：insert SELECT中的类型转换不正确，HAVING和PREWHERE中对Nullable的支持不足, <code>join_use_nulls</code> 模式，可以为Null的类型作为参数 <code>OR</code> 操作员等。</li> <li>修正了与数据类型的内部语义相关的各种错误。 例子：不必要的总结 <code>Enum</code> 输入字段 <code>SummingMergeTree</code> ;对齐 <code>Enum</code> 类型 <code>Pretty</code> 格式等。</li> <li>对复合列的允许组合进行更严格的检查。</li> <li>修复了指定一个非常大的参数时的溢出 <code>FixedString</code> 数据类型。</li> <li>修正了一个错误 <code>topK</code> 一般情况下的聚合函数。</li> <li>在聚合函数的n元变体的参数中添加了对数组大小相等性的缺失检查。 <code>-Array</code> combinator</li> <li>修正了一个错误 <code>--pager</code> 为 <code>clickhouse-client</code> （作者：ks1322）。</li> <li>固定的精度 <code>exp10</code> 功能。</li> <li>固定的行为 <code>visitParamExtract</code> 功能更好地符合文档。</li> <li>修复了指定不正确的数据类型时的崩溃。</li> <li>固定的行为 <code>DISTINCT</code> 在所有列都是常量的情况下。</li> <li>在使用的情况下固定的查询格式 <code>tupleElement</code> 使用复数常量表达式作为元组元素索引的函数。</li> <li>修正了一个错误 <code>Dictionary</code> 表 <code>range_hashed</code> 字典</li> <li>修正了导致结果中的过多行的错误 <code>FULL</code> 和 <code>RIGHT JOIN</code> （阿莫斯鸟）。</li> <li>修复了在创建和删除临时文件时的服务器崩溃 <code>config.d</code> 配置重新加载期间的目录。</li> <li>修正了 <code>SYSTEM DROP DNS CACHE</code> 查询：缓存已刷新，但群集节点的地址未更新。</li> <li>固定的行为 <code>MATERIALIZED VIEW</code> 执行后 <code>DETACH TABLE</code> for the table under the view (Marek Vavruša).</li> </ul> <h4 id=build-improvements-4>构建改进:<a class=headerlink href=#build-improvements-4 title="Permanent link">&para;</a></h4> <ul> <li>该 <code>pbuilder</code> 工具用于构建。 构建过程几乎完全独立于构建主机环境。</li> <li>单个构建用于不同的操作系统版本。 软件包和二进制文件已经与各种Linux系统兼容。</li> <li>添加了 <code>clickhouse-test</code> 包。 它可用于运行功能测试。</li> <li>现在可以将源代码包发布到存储库。 它可以用来在不使用GitHub的情况下重现构建。</li> <li>增加了有限的集成与特拉维斯CI。 由于Travis中的构建时间限制，仅测试调试构建并运行有限的测试子集。</li> <li>增加了对 <code>Cap'n'Proto</code> 在默认构建中。</li> <li>更改文档来源的格式 <code>Restricted Text</code> 到 <code>Markdown</code>.</li> <li>增加了对 <code>systemd</code> （弗拉基米尔*斯米尔诺夫）。 默认情况下，由于与某些操作系统映像不兼容，它被禁用，并且可以手动启用。</li> <li>用于动态代码生成, <code>clang</code> 和 <code>lld</code> 嵌入到 <code>clickhouse</code> 二进制 它们也可以被调用为 <code>clickhouse clang</code> 和 <code>clickhouse lld</code> .</li> <li>从代码中删除GNU扩展的使用。 启用 <code>-Wextra</code> 选项。 当与建设 <code>clang</code> 默认值为 <code>libc++</code> 而不是 <code>libstdc++</code>.</li> <li>提取 <code>clickhouse_parsers</code> 和 <code>clickhouse_common_io</code> 库，以加快各种工具的构建。</li> </ul> <h4 id=backward-incompatible-changes-11>向后不兼容的更改:<a class=headerlink href=#backward-incompatible-changes-11 title="Permanent link">&para;</a></h4> <ul> <li>标记的格式 <code>Log</code> 键入包含以下内容的表 <code>Nullable</code> 列以向后不兼容的方式进行了更改。 如果你有这些表，你应该将它们转换为 <code>TinyLog</code> 在启动新服务器版本之前键入。 要做到这一点，替换 <code>ENGINE = Log</code> 与 <code>ENGINE = TinyLog</code> 在相应的 <code>.sql</code> 文件中的 <code>metadata</code> 目录。 如果你的桌子没有 <code>Nullable</code> 列或表的类型不是 <code>Log</code>，那么你什么都不需要做。</li> <li>删除了 <code>experimental_allow_extended_storage_definition_syntax</code> 设置。 现在，此功能默认启用。</li> <li>该 <code>runningIncome</code> 函数重命名为 <code>runningDifferenceStartingWithFirstvalue</code> 为了避免混confusion。</li> <li>删除了 <code>FROM ARRAY JOIN arr</code> 在FROM with no table(Amos Bird)之后直接指定数组连接时的语法。</li> <li>删除了 <code>BlockTabSeparated</code> 仅用于演示目的的格式。</li> <li>更改聚合函数的状态格式 <code>varSamp</code>, <code>varPop</code>, <code>stddevSamp</code>, <code>stddevPop</code>, <code>covarSamp</code>, <code>covarPop</code>, <code>corr</code>. 如果您已将这些聚合函数的状态存储在表中（使用 <code>AggregateFunction</code> 数据类型或具体化视图与相应的状态），请写信给<a href=mailto:clickhouse-feedback@yandex-team.com>&#99;&#108;&#105;&#99;&#107;&#104;&#111;&#117;&#115;&#101;&#45;&#102;&#101;&#101;&#100;&#98;&#97;&#99;&#107;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#45;&#116;&#101;&#97;&#109;&#46;&#99;&#111;&#109;</a>.</li> <li>在以前的服务器版本中，有一个未记录的功能：如果聚合函数依赖于参数，则仍然可以在AggregateFunction数据类型中指定它而不带参数。 示例: <code>AggregateFunction(quantiles, UInt64)</code> 而不是 <code>AggregateFunction(quantiles(0.5, 0.9), UInt64)</code>. 此功能已丢失。 虽然它没有记录，但我们计划在未来的版本中再次支持它。</li> <li>枚举数据类型不能用于最小/最大聚合函数。 这种能力将在下一个版本中返回。</li> </ul> <h4 id=please-note-when-upgrading>升级时请注意:<a class=headerlink href=#please-note-when-upgrading title="Permanent link">&para;</a></h4> <ul> <li>当在群集上执行滚动更新时，当某些副本运行旧版本的ClickHouse，而某些副本运行新版本时，复制会暂时停止，并且消息 <code>unknown parameter 'shard'</code> 出现在日志中。 更新集群的所有副本后，复制将继续。</li> <li>如果群集服务器上运行不同版本的ClickHouse，则使用以下函数的分布式查询可能会产生不正确的结果: <code>varSamp</code>, <code>varPop</code>, <code>stddevSamp</code>, <code>stddevPop</code>, <code>covarSamp</code>, <code>covarPop</code>, <code>corr</code>. 您应该更新所有群集节点。</li> </ul> <h2 id=changelog-for-2017><a href=https://github.com/ClickHouse/ClickHouse/blob/master/docs/en/changelog/2017.md rel="external nofollow noreferrer">更新日志2017</a><a class=headerlink href=#changelog-for-2017 title="Permanent link">&para;</a></h2> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>建于 <a href=https://github.com/ClickHouse/ClickHouse/commit/d6653f1fdcabbf1f588ee132a5044c31df63261a rel="external nofollow noreferrer" target=_blank class=text-reset>d6653f1fdc</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>目录</label> <a href=#clickhouse-release-18-16 title=ClickHouse释放18.16 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.16 </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-16-1-2018-12-21 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-1-1 class="nav flex-column pl-2"> <a href=#bug-fixes title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#improvements title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#build-improvements title=构建改进: class="nav-link text-wrap d-inline-block w-100"> 构建改进: </a> </nav> <a href=#clickhouse-release-18-16-0-2018-12-14 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-1-2 class="nav flex-column pl-2"> <a href=#new-features title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#bug-fixes-1 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#improvements-1 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#build-improvements-1 title=构建改进: class="nav-link text-wrap d-inline-block w-100"> 构建改进: </a> <a href=#backward-incompatible-changes title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> </nav> <a href=#clickhouse-release-18-14 title=ClickHouse释放18.14 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.14 </a> <nav id=toc-toc-2 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-14-19-2018-12-19 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-1 class="nav flex-column pl-2"> <a href=#bug-fixes-2 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#build-improvements-2 title=构建改进: class="nav-link text-wrap d-inline-block w-100"> 构建改进: </a> </nav> <a href=#clickhouse-release-18-14-18-2018-12-04 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-2 class="nav flex-column pl-2"> <a href=#bug-fixes-3 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#build-changes title=构建更改: class="nav-link text-wrap d-inline-block w-100"> 构建更改: </a> </nav> <a href=#clickhouse-release-18-14-17-2018-11-30 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-3 class="nav flex-column pl-2"> <a href=#bug-fixes-4 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-18-14-15-2018-11-21 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-4 class="nav flex-column pl-2"> <a href=#bug-fixes-5 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-18-14-14-2018-11-20 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-5 class="nav flex-column pl-2"> <a href=#bug-fixes-6 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#build-changes-1 title=构建更改: class="nav-link text-wrap d-inline-block w-100"> 构建更改: </a> </nav> <a href=#clickhouse-release-18-14-13-2018-11-08 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-6 class="nav flex-column pl-2"> <a href=#bug-fixes-7 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#performance-improvements title=性能改进: class="nav-link text-wrap d-inline-block w-100"> 性能改进: </a> <a href=#build-improvements-3 title=构建改进: class="nav-link text-wrap d-inline-block w-100"> 构建改进: </a> </nav> <a href=#clickhouse-release-18-14-12-2018-11-02 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-7 class="nav flex-column pl-2"> <a href=#bug-fixes-8 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-18-14-11-2018-10-29 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-8 class="nav flex-column pl-2"> <a href=#bug-fixes-9 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-18-14-10-2018-10-23 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <a href=#clickhouse-release-18-14-9-2018-10-16 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-2-10 class="nav flex-column pl-2"> <a href=#new-features-1 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#experimental-features title=实验特点: class="nav-link text-wrap d-inline-block w-100"> 实验特点: </a> <a href=#improvements-2 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-10 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#backward-incompatible-changes-1 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> </nav> <a href=#clickhouse-release-18-12 title=ClickHouse释放18.12 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.12 </a> <nav id=toc-toc-3 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-12-17-2018-09-16 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-3-1 class="nav flex-column pl-2"> <a href=#new-features-2 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#bug-fixes-11 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#backward-incompatible-changes-2 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> <a href=#clickhouse-release-18-12-14-2018-09-13 title=碌莽禄,拢,0755-88888888 class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,0755-88888888 </a> <nav id=toc-toc-3-2 class="nav flex-column pl-2"> <a href=#new-features-3 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-3 title=改进 class="nav-link text-wrap d-inline-block w-100"> 改进 </a> <a href=#bug-fixes-12 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-18-12-13-2018-09-10 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-3-3 class="nav flex-column pl-2"> <a href=#new-features-4 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#experimental-features-1 title=实验特点: class="nav-link text-wrap d-inline-block w-100"> 实验特点: </a> <a href=#improvements-4 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-13 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#security-fix title=安全修复: class="nav-link text-wrap d-inline-block w-100"> 安全修复: </a> <a href=#backward-incompatible-changes-3 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> <a href=#build-changes-2 title=构建更改: class="nav-link text-wrap d-inline-block w-100"> 构建更改: </a> </nav> </nav> <a href=#clickhouse-release-18-10 title=ClickHouse释放18.10 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.10 </a> <nav id=toc-toc-4 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-10-3-2018-08-13 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-4-1 class="nav flex-column pl-2"> <a href=#new-features-5 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-5 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-14 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#backward-incompatible-changes-4 title=向后不兼容的更改 class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改 </a> <a href=#build-changes-3 title=构建更改: class="nav-link text-wrap d-inline-block w-100"> 构建更改: </a> </nav> </nav> <a href=#clickhouse-release-18-6 title=ClickHouse释放18.6 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.6 </a> <nav id=toc-toc-5 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-6-0-2018-08-02 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-5-1 class="nav flex-column pl-2"> <a href=#new-features-6 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-6 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> </nav> </nav> <a href=#clickhouse-release-18-5 title=ClickHouse释放18.5 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.5 </a> <nav id=toc-toc-6 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-5-1-2018-07-31 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-6-1 class="nav flex-column pl-2"> <a href=#new-features-7 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-7 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-15 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> </nav> <a href=#clickhouse-release-18-4 title=ClickHouse释放18.4 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.4 </a> <nav id=toc-toc-7 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-4-0-2018-07-28 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-7-1 class="nav flex-column pl-2"> <a href=#new-features-8 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-8 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-16 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#backward-incompatible-changes-5 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> </nav> <a href=#clickhouse-release-18-1 title=ClickHouse释放18.1 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放18.1 </a> <nav id=toc-toc-8 class="nav flex-column pl-2"> <a href=#clickhouse-release-18-1-0-2018-07-23 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-8-1 class="nav flex-column pl-2"> <a href=#new-features-9 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-9 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-17 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#backward-incompatible-changes-6 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> </nav> <a href=#clickhouse-release-1-1 title=ClickHouse释放1.1 class="nav-link text-wrap d-inline-block w-100"> ClickHouse释放1.1 </a> <nav id=toc-toc-9 class="nav flex-column pl-2"> <a href=#clickhouse-release-1-1-54394-2018-07-12 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-1 class="nav flex-column pl-2"> <a href=#new-features-10 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#bug-fixes-18 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-1-1-54390-2018-07-06 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-2 class="nav flex-column pl-2"> <a href=#new-features-11 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-10 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-19 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#security-fix-1 title=安全修复: class="nav-link text-wrap d-inline-block w-100"> 安全修复: </a> </nav> <a href=#clickhouse-release-1-1-54388-2018-06-28 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-3 class="nav flex-column pl-2"> <a href=#new-features-12 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#experimental-features-2 title=实验特点: class="nav-link text-wrap d-inline-block w-100"> 实验特点: </a> <a href=#bug-fixes-20 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#improvements-11 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#build-changes-4 title=构建更改: class="nav-link text-wrap d-inline-block w-100"> 构建更改: </a> <a href=#backward-incompatible-changes-7 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> <a href=#clickhouse-release-1-1-54385-2018-06-01 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682 </a> <nav id=toc-toc-9-4 class="nav flex-column pl-2"> <a href=#bug-fixes-21 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-1-1-54383-2018-05-22 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-5 class="nav flex-column pl-2"> <a href=#bug-fixes-22 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-1-1-54381-2018-05-14 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-6 class="nav flex-column pl-2"> <a href=#bug-fixes-23 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-1-1-54380-2018-04-21 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-7 class="nav flex-column pl-2"> <a href=#new-features-13 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-12 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-24 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#backward-incompatible-changes-8 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> <a href=#clickhouse-release-1-1-54378-2018-04-16 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-8 class="nav flex-column pl-2"> <a href=#new-features-14 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-13 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-25 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#build-changes-5 title=构建更改: class="nav-link text-wrap d-inline-block w-100"> 构建更改: </a> <a href=#backward-incompatible-changes-9 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> <a href=#clickhouse-release-1-1-54370-2018-03-16 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-9 class="nav flex-column pl-2"> <a href=#new-features-15 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-14 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-26 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> </nav> <a href=#clickhouse-release-1-1-54362-2018-03-11 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-10 class="nav flex-column pl-2"> <a href=#new-features-16 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#improvements-15 title=改进: class="nav-link text-wrap d-inline-block w-100"> 改进: </a> <a href=#bug-fixes-27 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#backward-incompatible-changes-10 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> </nav> <a href=#clickhouse-release-1-1-54343-2018-02-05 title="碌莽禄,拢,010-68520682\<url>戮漏鹿芦,酶,虏卤赂拢,110102005602" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮漏鹿芦,酶,虏卤赂拢,110102005602 </a> <a href=#clickhouse-release-1-1-54342-2018-01-22 title="碌莽禄,拢,010-68520682\<url>戮卤篓拢,010-68520682" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url>戮卤篓拢,010-68520682 </a> <a href=#clickhouse-release-1-1-54337-2018-01-18 title="碌莽禄,拢,010-68520682\<url>" class="nav-link text-wrap d-inline-block w-100"> 碌莽禄,拢,010-68520682\&lt;url> </a> <nav id=toc-toc-9-13 class="nav flex-column pl-2"> <a href=#new-features-17 title=新功能: class="nav-link text-wrap d-inline-block w-100"> 新功能: </a> <a href=#performance-optimizations title=性能优化: class="nav-link text-wrap d-inline-block w-100"> 性能优化: </a> <a href=#bug-fixes-28 title=错误修复: class="nav-link text-wrap d-inline-block w-100"> 错误修复: </a> <a href=#build-improvements-4 title=构建改进: class="nav-link text-wrap d-inline-block w-100"> 构建改进: </a> <a href=#backward-incompatible-changes-11 title=向后不兼容的更改: class="nav-link text-wrap d-inline-block w-100"> 向后不兼容的更改: </a> <a href=#please-note-when-upgrading title=升级时请注意: class="nav-link text-wrap d-inline-block w-100"> 升级时请注意: </a> </nav> </nav> <a href=#changelog-for-2017 title=更新日志2017 class="nav-link text-wrap d-inline-block w-100"> 更新日志2017 </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>