<!DOCTYPE html><html lang=zh data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>系统表 - ClickHouse文档</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="系统表 - ClickHouse文档 "><meta property=og:description content="系统表 系统表用于实现系统的部分功能，并提供对有关系统如何工作的信息的访问。 您无法删除系统表（但可以执行分离）。 系统表没有包含磁盘上数据的文件或包含元数据的文件。 服务器在启动时创建所有系统表。 系统表是只读的。 它们位于 ‘syste"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="系统表 - ClickHouse文档 "><meta name=description content="系统表 系统表用于实现系统的部分功能，并提供对有关系统如何工作的信息的访问。 您无法删除系统表（但可以执行分离）。 系统表没有包含磁盘上数据的文件或包含元数据的文件。 服务器在启动时创建所有系统表。 系统表是只读的。 它们位于 ‘syste"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> 系统表 </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/operations/system_tables.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/zh.svg alt=中文 title=中文 width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/operations/system_tables/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/operations/system_tables/ class="dropdown-item disabled"> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/operations/system_tables/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/operations/system_tables/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/operations/system_tables/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/operations/system_tables/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/operations/system_tables/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label=多页或单页> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt=多页版本 title=多页版本> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt=单页版本 title=单页版本> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> 版本: <span class=text-light>最新消息</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/zh/ class="dropdown-item disable"> <span class=text-light>最新消息</span> </a> <a href=/docs/v20.3/zh/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/zh/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/zh/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/zh/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/zh/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/zh/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/zh/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/zh/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/zh/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/zh/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/zh/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=导言 class="nav-link text-light text-wrap dropdown-toggle px-0">导言</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../introduction/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../introduction/adopters/ title=采用者 class="nav-link text-light text-wrap d-inline-block w-100 px-0">采用者</a> <a href=../../introduction/history/ title=ClickHouse历史 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse历史</a> <a href=../../introduction/distinctive_features/ title=ClickHouse的独特功能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse的独特功能</a> <a href=../../introduction/features_considered_disadvantages/ title=ClickHouse的限制 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse的限制</a> <a href=../../introduction/performance/ title=性能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">性能</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title=发动机 class="nav-link text-light text-wrap dropdown-toggle px-0">发动机</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/ title=发动机 class="nav-link text-light text-wrap d-inline-block w-100 px-0">发动机</a> <a href=#sidebar-sidebar-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-2 title=数据库引擎 class="nav-link text-light text-wrap dropdown-toggle px-0">数据库引擎</a> <div id=sidebar-sidebar-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/database_engines/lazy/ title=懒惰 class="nav-link text-light text-wrap d-inline-block w-100 px-0">懒惰</a> <a href=../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/database_engines/ title=数据库引擎 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据库引擎</a> </nav> </div> <a href=#sidebar-sidebar-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3 title=表引擎 class="nav-link text-light text-wrap dropdown-toggle px-0">表引擎</a> <div id=sidebar-sidebar-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-2-3-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-1 title=梅树家族 class="nav-link text-light text-wrap dropdown-toggle px-0">梅树家族</a> <div id=sidebar-sidebar-2-3-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/mergetree_family/ title=梅树家族 class="nav-link text-light text-wrap d-inline-block w-100 px-0">梅树家族</a> <a href=../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=版本集合在新树 class="nav-link text-light text-wrap d-inline-block w-100 px-0">版本集合在新树</a> <a href=../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> <a href=../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/collapsingmergetree/ title=折叠树 class="nav-link text-light text-wrap d-inline-block w-100 px-0">折叠树</a> <a href=../../engines/table_engines/mergetree_family/replication/ title=数据副本 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据副本</a> <a href=../../engines/table_engines/mergetree_family/replacingmergetree/ title=更换麦树 class="nav-link text-light text-wrap d-inline-block w-100 px-0">更换麦树</a> <a href=../../engines/table_engines/mergetree_family/custom_partitioning_key/ title=自定义分区键 class="nav-link text-light text-wrap d-inline-block w-100 px-0">自定义分区键</a> </nav> </div> <a href=#sidebar-sidebar-2-3-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-2 title=日志系列 class="nav-link text-light text-wrap dropdown-toggle px-0">日志系列</a> <div id=sidebar-sidebar-2-3-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/log_family/ title=日志系列 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志系列</a> <a href=../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> <a href=../../engines/table_engines/log_family/log/ title=日志 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志</a> <a href=../../engines/table_engines/log_family/log_family/ title=日志引擎系列 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志引擎系列</a> </nav> </div> <a href=#sidebar-sidebar-2-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-3 title=集成 class="nav-link text-light text-wrap dropdown-toggle px-0">集成</a> <div id=sidebar-sidebar-2-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/integrations/ title=集成 class="nav-link text-light text-wrap d-inline-block w-100 px-0">集成</a> <a href=../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> <a href=../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/table_engines/integrations/kafka/ title=卡夫卡 class="nav-link text-light text-wrap d-inline-block w-100 px-0">卡夫卡</a> </nav> </div> <a href=#sidebar-sidebar-2-3-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-4 title=特别 class="nav-link text-light text-wrap dropdown-toggle px-0">特别</a> <div id=sidebar-sidebar-2-3-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/special/ title=特别 class="nav-link text-light text-wrap d-inline-block w-100 px-0">特别</a> <a href=../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> <a href=../../engines/table_engines/special/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../engines/table_engines/special/url/ title=URL(URL,格式) class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL(URL,格式)</a> <a href=../../engines/table_engines/special/distributed/ title=分布 class="nav-link text-light text-wrap d-inline-block w-100 px-0">分布</a> <a href=../../engines/table_engines/special/join/ title=加入我们 class="nav-link text-light text-wrap d-inline-block w-100 px-0">加入我们</a> <a href=../../engines/table_engines/special/merge/ title=合并 class="nav-link text-light text-wrap d-inline-block w-100 px-0">合并</a> <a href=../../engines/table_engines/special/dictionary/ title=字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典</a> <a href=../../engines/table_engines/special/file/ title=文件(输入格式) class="nav-link text-light text-wrap d-inline-block w-100 px-0">文件(输入格式)</a> <a href=../../engines/table_engines/special/view/ title=查看 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查看</a> <a href=../../engines/table_engines/special/materializedview/ title=物化视图 class="nav-link text-light text-wrap d-inline-block w-100 px-0">物化视图</a> <a href=../../engines/table_engines/special/external_data/ title=用于查询处理的外部数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">用于查询处理的外部数据</a> <a href=../../engines/table_engines/special/buffer/ title=缓冲区 class="nav-link text-light text-wrap d-inline-block w-100 px-0">缓冲区</a> <a href=../../engines/table_engines/special/memory/ title=记忆 class="nav-link text-light text-wrap d-inline-block w-100 px-0">记忆</a> <a href=../../engines/table_engines/special/set/ title=设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a> </nav> </div> <a href=../../engines/table_engines/ title=表引擎 class="nav-link text-light text-wrap d-inline-block w-100 px-0">表引擎</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=SQL参考 class="nav-link text-light text-wrap dropdown-toggle px-0">SQL参考</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/ title=隐藏 class="nav-link text-light text-wrap d-inline-block w-100 px-0">隐藏</a> <a href=#sidebar-sidebar-3-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-2 title=发言 class="nav-link text-light text-wrap dropdown-toggle px-0">发言</a> <div id=sidebar-sidebar-3-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/statements/ title=发言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">发言</a> <a href=../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../sql_reference/statements/misc/ title=其他 class="nav-link text-light text-wrap d-inline-block w-100 px-0">其他</a> <a href=../../sql_reference/statements/create/ title="CREATE DATABASE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE DATABASE</a> <a href=../../sql_reference/statements/insert_into/ title=INSERT class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT</a> <a href=../../sql_reference/statements/select/ title="SELECT 查询语法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT 查询语法</a> </nav> </div> <a href=../../sql_reference/syntax/ title=语法 class="nav-link text-light text-wrap d-inline-block w-100 px-0">语法</a> <a href=#sidebar-sidebar-3-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-4 title=聚合函数 class="nav-link text-light text-wrap dropdown-toggle px-0">聚合函数</a> <div id=sidebar-sidebar-3-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/aggregate_functions/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../sql_reference/aggregate_functions/reference/ title=参考资料 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参考资料</a> <a href=../../sql_reference/aggregate_functions/combinators/ title=聚合函数组合器 class="nav-link text-light text-wrap d-inline-block w-100 px-0">聚合函数组合器</a> <a href=../../sql_reference/aggregate_functions/parametric_functions/ title=参数聚合函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">参数聚合函数</a> </nav> </div> <a href=#sidebar-sidebar-3-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-5 title=表函数 class="nav-link text-light text-wrap dropdown-toggle px-0">表函数</a> <div id=sidebar-sidebar-3-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/table_functions/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../sql_reference/table_functions/file/ title=文件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">文件</a> <a href=../../sql_reference/table_functions/merge/ title=合并 class="nav-link text-light text-wrap d-inline-block w-100 px-0">合并</a> <a href=../../sql_reference/table_functions/numbers/ title=数字 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数字</a> <a href=../../sql_reference/table_functions/remote/ title=远程 class="nav-link text-light text-wrap d-inline-block w-100 px-0">远程</a> <a href=../../sql_reference/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../sql_reference/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../sql_reference/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../sql_reference/table_functions/input/ title=输入 class="nav-link text-light text-wrap d-inline-block w-100 px-0">输入</a> <a href=../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-3-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-6 title=字典 class="nav-link text-light text-wrap dropdown-toggle px-0">字典</a> <div id=sidebar-sidebar-3-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/dictionaries/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=#sidebar-sidebar-3-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-6-2 title=外部字典 class="nav-link text-light text-wrap dropdown-toggle px-0">外部字典</a> <div id=sidebar-sidebar-3-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/dictionaries/external_dictionaries/ title=外部字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部字典</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title=概述 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概述</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title=配置外部字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配置外部字典</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title=在内存中存储字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">在内存中存储字典</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title=字典更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典更新</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title=外部字典的来源 class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部字典的来源</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title=字典键和字段 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典键和字段</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title=分层字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">分层字典</a> </nav> </div> <a href=../../sql_reference/dictionaries/internal_dicts/ title=内部字典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">内部字典</a> </nav> </div> <a href=../../sql_reference/operators/ title=操作符 class="nav-link text-light text-wrap d-inline-block w-100 px-0">操作符</a> <a href=#sidebar-sidebar-3-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-8 title=函数 class="nav-link text-light text-wrap dropdown-toggle px-0">函数</a> <div id=sidebar-sidebar-3-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/functions/introspection/ title=自省 class="nav-link text-light text-wrap d-inline-block w-100 px-0">自省</a> <a href=../../sql_reference/functions/geo/ title=GEO函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">GEO函数</a> <a href=../../sql_reference/functions/hash_functions/ title=Hash函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash函数</a> <a href=../../sql_reference/functions/in_functions/ title=IN运算符相关函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN运算符相关函数</a> <a href=../../sql_reference/functions/ip_address_functions/ title=IP函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IP函数</a> <a href=../../sql_reference/functions/json_functions/ title=JSON函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSON函数</a> <a href=../../sql_reference/functions/functions_for_nulls/ title=Nullable处理函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable处理函数</a> <a href=../../sql_reference/functions/url_functions/ title=URL函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL函数</a> <a href=../../sql_reference/functions/uuid_functions/ title=UUID函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID函数</a> <a href=../../sql_reference/functions/array_join/ title=arrayJoin函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin函数</a> <a href=../../sql_reference/functions/bitmap_functions/ title=位图函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">位图函数</a> <a href=../../sql_reference/functions/bit_functions/ title=位操作函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">位操作函数</a> <a href=../../sql_reference/functions/other_functions/ title=其他函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">其他函数</a> <a href=../../sql_reference/functions/ title=函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">函数</a> <a href=../../sql_reference/functions/ym_dict_functions/ title=功能与Yandex的工作。梅特里卡词典 class="nav-link text-light text-wrap d-inline-block w-100 px-0">功能与Yandex的工作。梅特里卡词典</a> <a href=../../sql_reference/functions/rounding_functions/ title=取整函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">取整函数</a> <a href=../../sql_reference/functions/ext_dict_functions/ title=字典函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典函数</a> <a href=../../sql_reference/functions/string_functions/ title=字符串函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串函数</a> <a href=../../sql_reference/functions/splitting_merging_functions/ title=字符串拆分合并函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串拆分合并函数</a> <a href=../../sql_reference/functions/string_search_functions/ title=字符串搜索函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串搜索函数</a> <a href=../../sql_reference/functions/string_replace_functions/ title=字符串替换函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串替换函数</a> <a href=../../sql_reference/functions/math_functions/ title=数学函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数学函数</a> <a href=../../sql_reference/functions/array_functions/ title=数组函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数组函数</a> <a href=../../sql_reference/functions/date_time_functions/ title=时间日期函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">时间日期函数</a> <a href=../../sql_reference/functions/machine_learning_functions/ title=机器学习函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">机器学习函数</a> <a href=../../sql_reference/functions/conditional_functions/ title=条件函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">条件函数</a> <a href=../../sql_reference/functions/comparison_functions/ title=比较函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">比较函数</a> <a href=../../sql_reference/functions/arithmetic_functions/ title=算术函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">算术函数</a> <a href=../../sql_reference/functions/type_conversion_functions/ title=类型转换函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">类型转换函数</a> <a href=../../sql_reference/functions/encoding_functions/ title=编码函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">编码函数</a> <a href=../../sql_reference/functions/logical_functions/ title=逻辑函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">逻辑函数</a> <a href=../../sql_reference/functions/random_functions/ title=随机函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">随机函数</a> <a href=../../sql_reference/functions/higher_order_functions/ title=高阶函数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">高阶函数</a> </nav> </div> <a href=#sidebar-sidebar-3-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9 title=数据类型 class="nav-link text-light text-wrap dropdown-toggle px-0">数据类型</a> <div id=sidebar-sidebar-3-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=#sidebar-sidebar-3-9-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9-3 title=域 class="nav-link text-light text-wrap dropdown-toggle px-0">域</a> <div id=sidebar-sidebar-3-9-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/domains/overview/ title=域 class="nav-link text-light text-wrap d-inline-block w-100 px-0">域</a> <a href=../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> <a href=../../sql_reference/data_types/aggregatefunction/ title="AggregateFunction(name, types\_of\_arguments…)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types\_of\_arguments…)</a> <a href=../../sql_reference/data_types/decimal/ title=Decimal(P,S),Decimal32(S),Decimal64(S),Decimal128(S) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal(P,S),Decimal32(S),Decimal64(S),Decimal128(S)</a> <a href=../../sql_reference/data_types/enum/ title=Enum8,Enum16 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum8,Enum16</a> <a href=../../sql_reference/data_types/float/ title=Float32,Float64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32,Float64</a> <a href=../../sql_reference/data_types/tuple/ title="Tuple(T1, T2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, …)</a> <a href=../../sql_reference/data_types/int_uint/ title=UInt8,UInt16,UInt32,UInt64,Int8,Int16,Int32,Int64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8,UInt16,UInt32,UInt64,Int8,Int16,Int32,Int64</a> <a href=../../sql_reference/data_types/nullable/ title=可为空（类型名称) class="nav-link text-light text-wrap d-inline-block w-100 px-0">可为空（类型名称)</a> <a href=../../sql_reference/data_types/fixedstring/ title=固定字符串 class="nav-link text-light text-wrap d-inline-block w-100 px-0">固定字符串</a> <a href=../../sql_reference/data_types/string/ title=字符串 class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串</a> <a href=../../sql_reference/data_types/boolean/ title=布尔值 class="nav-link text-light text-wrap d-inline-block w-100 px-0">布尔值</a> <a href=../../sql_reference/data_types/ title=数据类型 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据类型</a> <a href=../../sql_reference/data_types/date/ title=日期 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日期</a> <a href=../../sql_reference/data_types/datetime/ title=日期时间 class="nav-link text-light text-wrap d-inline-block w-100 px-0">日期时间</a> <a href=../../sql_reference/data_types/array/ title=阵列(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">阵列(T)</a> <a href=#sidebar-sidebar-3-9-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9-18 title=嵌套数据结构 class="nav-link text-light text-wrap dropdown-toggle px-0">嵌套数据结构</a> <div id=sidebar-sidebar-3-9-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, …)</a> <a href=../../sql_reference/data_types/nested_data_structures/ title=嵌套数据结构 class="nav-link text-light text-wrap d-inline-block w-100 px-0">嵌套数据结构</a> </nav> </div> <a href=#sidebar-sidebar-3-9-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9-19 title=特殊数据类型 class="nav-link text-light text-wrap dropdown-toggle px-0">特殊数据类型</a> <div id=sidebar-sidebar-3-9-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/special_data_types/interval/ title=间隔 class="nav-link text-light text-wrap d-inline-block w-100 px-0">间隔</a> <a href=../../sql_reference/data_types/special_data_types/nothing/ title=没什么 class="nav-link text-light text-wrap d-inline-block w-100 px-0">没什么</a> <a href=../../sql_reference/data_types/special_data_types/ title=特殊数据类型 class="nav-link text-light text-wrap d-inline-block w-100 px-0">特殊数据类型</a> <a href=../../sql_reference/data_types/special_data_types/expression/ title=表达式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">表达式</a> <a href=../../sql_reference/data_types/special_data_types/set/ title=设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a> </nav> </div> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=指南 class="nav-link text-light text-wrap dropdown-toggle px-0">指南</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../guides/ title=概述 class="nav-link text-light text-wrap d-inline-block w-100 px-0">概述</a> <a href=../../guides/apply_catboost_model/ title=应用CatBoost模型 class="nav-link text-light text-wrap d-inline-block w-100 px-0">应用CatBoost模型</a> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=商业 class="nav-link text-light text-wrap dropdown-toggle px-0">商业</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../commercial/ title=商业 class="nav-link text-light text-wrap d-inline-block w-100 px-0">商业</a> <a href=../../commercial/cloud/ title=ﾂ环板Providersｮﾂ嘉ｯ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ环板Providersｮﾂ嘉ｯ</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title=新增内容 class="nav-link text-light text-wrap dropdown-toggle px-0">新增内容</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats_new/ title=新增内容 class="nav-link text-light text-wrap d-inline-block w-100 px-0">新增内容</a> <a href=../../whats_new/security_changelog/ title="修复于 ClickHouse Release 18.12.13, 2018-09-10" class="nav-link text-light text-wrap d-inline-block w-100 px-0">修复于 ClickHouse Release 18.12.13, 2018-09-10</a> <a href=../../whats_new/roadmap/ title=规划 class="nav-link text-light text-wrap d-inline-block w-100 px-0">规划</a> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap dropdown-toggle px-0">碌莽禄release拢.0755-88888888</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> <a href=../../whats_new/changelog/ title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap d-inline-block w-100 px-0">碌莽禄release拢.0755-88888888</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../faq/general/ title=常见问题 class="nav-link text-light text-wrap d-inline-block w-100 px-0">常见问题</a> </nav> </div> <a href=../../ title=什么是ClickHouse？ class="nav-link text-light text-wrap d-inline-block w-100 px-0">什么是ClickHouse？</a> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title="ClickHouse 开发" class="nav-link text-light text-wrap dropdown-toggle px-0">ClickHouse 开发</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/browse_code/ title=浏览ClickHouse源代码 class="nav-link text-light text-wrap d-inline-block w-100 px-0">浏览ClickHouse源代码</a> <a href=../../development/build_cross_arm/ title="如何在Linux上构建ClickHouse for AARCH64（ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何在Linux上构建ClickHouse for AARCH64（ARM64)</a> <a href=../../development/ title="ClickHouse 开发" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 开发</a> <a href=../../development/architecture/ title="ClickHouse 架构概述" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 架构概述</a> <a href=../../development/tests/ title="ClickHouse 测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 测试</a> <a href=../../development/developer_instruction/ title=Windows使用指引 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Windows使用指引</a> <a href=../../development/contrib/ title=使用的三方库 class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用的三方库</a> <a href=../../development/build_osx/ title="在 Mac OS X 中编译 ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">在 Mac OS X 中编译 ClickHouse</a> <a href=../../development/build_cross_osx/ title="如何在Linux中编译Mac OS X ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何在Linux中编译Mac OS X ClickHouse</a> <a href=../../development/build/ title="如何构建 ClickHouse 发布包" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何构建 ClickHouse 发布包</a> <a href=../../development/style/ title="如何编写 C++ 代码" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何编写 C++ 代码</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=入门 class="nav-link text-light text-wrap dropdown-toggle px-0">入门</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/tutorial/ title=教程 class="nav-link text-light text-wrap d-inline-block w-100 px-0">教程</a> <a href=#sidebar-sidebar-10-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10-2 title=示例数据集 class="nav-link text-light text-wrap dropdown-toggle px-0">示例数据集</a> <div id=sidebar-sidebar-10-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/example_datasets/ title=导言 class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a> <a href=../../getting_started/example_datasets/metrica/ title=Yandex梅特里卡数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex梅特里卡数据</a> <a href=../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab 大数据基准测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab 大数据基准测试</a> <a href=../../getting_started/example_datasets/criteo/ title="Criteo TB级别点击日志" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Criteo TB级别点击日志</a> <a href=../../getting_started/example_datasets/star_schema/ title=星型架构基准测试 class="nav-link text-light text-wrap d-inline-block w-100 px-0">星型架构基准测试</a> <a href=../../getting_started/example_datasets/nyc_taxi/ title=纽约市出租车数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">纽约市出租车数据</a> <a href=../../getting_started/example_datasets/wikistat/ title=维基访问数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">维基访问数据</a> <a href=../../getting_started/example_datasets/ontime/ title=航班飞行数据 class="nav-link text-light text-wrap d-inline-block w-100 px-0">航班飞行数据</a> </nav> </div> <a href=../../getting_started/playground/ title=♪操场♪ class="nav-link text-light text-wrap d-inline-block w-100 px-0">♪操场♪</a> <a href=../../getting_started/ title=入门 class="nav-link text-light text-wrap d-inline-block w-100 px-0">入门</a> <a href=../../getting_started/install/ title=系统要求 class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统要求</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=客户端 class="nav-link text-light text-wrap dropdown-toggle px-0">客户端</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/mysql/ title=MySQL接口 class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL接口</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=第三方 class="nav-link text-light text-wrap dropdown-toggle px-0">第三方</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/ title=第三方 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方</a> <a href=../../interfaces/third-party/proxy/ title=来自第三方开发人员的代理服务器 class="nav-link text-light text-wrap d-inline-block w-100 px-0">来自第三方开发人员的代理服务器</a> <a href=../../interfaces/third-party/gui/ title=第三方开发的可视化界面 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方开发的可视化界面</a> <a href=../../interfaces/third-party/client_libraries/ title=第三方开发的库 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方开发的库</a> <a href=../../interfaces/third-party/integrations/ title=第三方集成库 class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方集成库</a> </nav> </div> <a href=../../interfaces/cpp/ title="C ++客户端库" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C ++客户端库</a> <a href=../../interfaces/http/ title="HTTP 客户端" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP 客户端</a> <a href=../../interfaces/jdbc/ title="JDBC 驱动" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC 驱动</a> <a href=../../interfaces/odbc/ title="ODBC 驱动" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC 驱动</a> <a href=../../interfaces/tcp/ title=原生客户端接口（TCP） class="nav-link text-light text-wrap d-inline-block w-100 px-0">原生客户端接口（TCP）</a> <a href=../../interfaces/cli/ title=命令行客户端 class="nav-link text-light text-wrap d-inline-block w-100 px-0">命令行客户端</a> <a href=../../interfaces/ title=客户端 class="nav-link text-light text-wrap d-inline-block w-100 px-0">客户端</a> <a href=../../interfaces/formats/ title=输入输出格式 class="nav-link text-light text-wrap d-inline-block w-100 px-0">输入输出格式</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=操作 class="nav-link text-light text-wrap dropdown-toggle px-0">操作</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/requirements/ title=要求 class="nav-link text-light text-wrap d-inline-block w-100 px-0">要求</a> <a href=../../operations/troubleshooting/ title=疑难解答 class="nav-link text-light text-wrap d-inline-block w-100 px-0">疑难解答</a> <a href=../../operations/update/ title=点击更新 class="nav-link text-light text-wrap d-inline-block w-100 px-0">点击更新</a> <a href=../../operations/backup/ title=数据备份 class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据备份</a> <a href=#sidebar-sidebar-12-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-5 title=优化性能 class="nav-link text-light text-wrap dropdown-toggle px-0">优化性能</a> <div id=sidebar-sidebar-12-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/optimizing_performance/ title=优化性能 class="nav-link text-light text-wrap d-inline-block w-100 px-0">优化性能</a> <a href=../../operations/optimizing_performance/sampling_query_profiler/ title=查询分析 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询分析</a> </nav> </div> <a href=../../operations/system_tables/ title=系统表 class="nav-link text-white active text-wrap d-inline-block w-100 px-0">系统表</a> <a href=../../operations/performance_test/ title=测试硬件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">测试硬件</a> <a href=../../operations/tips/ title=使用建议 class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用建议</a> <a href=../../operations/ title=操作 class="nav-link text-light text-wrap d-inline-block w-100 px-0">操作</a> <a href=../../operations/monitoring/ title=监控 class="nav-link text-light text-wrap d-inline-block w-100 px-0">监控</a> <a href=../../operations/access_rights/ title=访问权限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">访问权限</a> <a href=../../operations/configuration_files/ title=配置文件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配置文件</a> <a href=../../operations/quotas/ title=配额 class="nav-link text-light text-wrap d-inline-block w-100 px-0">配额</a> <a href=#sidebar-sidebar-12-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-14 title=服务器配置参数 class="nav-link text-light text-wrap dropdown-toggle px-0">服务器配置参数</a> <div id=sidebar-sidebar-12-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server_configuration_parameters/settings/ title=服务器设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">服务器设置</a> <a href=../../operations/server_configuration_parameters/ title=服务器配置参数 class="nav-link text-light text-wrap d-inline-block w-100 px-0">服务器配置参数</a> </nav> </div> <a href=#sidebar-sidebar-12-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-15 title=设置 class="nav-link text-light text-wrap dropdown-toggle px-0">设置</a> <div id=sidebar-sidebar-12-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/permissions_for_queries/ title=查询权限 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询权限</a> <a href=../../operations/settings/ title=设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a> <a href=../../operations/settings/settings_profiles/ title=设置配置文件 class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置配置文件</a> <a href=../../operations/settings/constraints_on_settings/ title=对设置的限制 class="nav-link text-light text-wrap d-inline-block w-100 px-0">对设置的限制</a> <a href=../../operations/settings/settings_users/ title=用户设置 class="nav-link text-light text-wrap d-inline-block w-100 px-0">用户设置</a> <a href=../../operations/settings/query_complexity/ title=查询复杂性的限制 class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询复杂性的限制</a> </nav> </div> <a href=#sidebar-sidebar-12-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-16 title=ﾂ环板Utilityｮﾂ嘉ｯ class="nav-link text-light text-wrap dropdown-toggle px-0">ﾂ环板Utilityｮﾂ嘉ｯ</a> <div id=sidebar-sidebar-12-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utilities/clickhouse-benchmark/ title=ﾂ暗ｪﾂ氾环催ﾂ団 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ暗ｪﾂ氾环催ﾂ団</a> <a href=../../operations/utilities/clickhouse-copier/ title=ﾂ环板-ｮﾂ嘉ｯﾂ偲 class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ环板-ｮﾂ嘉ｯﾂ偲</a> <a href=../../operations/utilities/ title=ﾂ环板Utilityｮﾂ嘉ｯ class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ环板Utilityｮﾂ嘉ｯ</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-13 title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap dropdown-toggle px-0">碌莽禄release拢.0755-88888888</a> <div id=sidebar-sidebar-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../changelog/ title=碌莽禄release拢.0755-88888888 class="nav-link text-light text-wrap d-inline-block w-100 px-0">碌莽禄release拢.0755-88888888</a> </nav> </div> <a href=../../single/clickhouse_zh.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt=PDF版本 title=PDF版本 height=24 class="d-block mr-1 float-left"><div>PDF版本</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">帮助通缉！</p> <p class=lead>本文档页面的以下内容已经过机器翻译。 但与其他网站不同，它不是在飞行中完成。 这个翻译的文本生活在github存储库旁边的主ClickHouse代码库，并等待同胞母语，使其更具人类可读性。</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/operations/system_tables.md target=_blank rel="external nofollow noreferrer"> 通过编辑此页面帮助ClickHouse文档 </a> </p> </div> <h1 id=system-tables>系统表<a class=headerlink href=#system-tables title="Permanent link">&para;</a></h1> <p>系统表用于实现系统的部分功能，并提供对有关系统如何工作的信息的访问。<br> 您无法删除系统表（但可以执行分离）。<br> 系统表没有包含磁盘上数据的文件或包含元数据的文件。 服务器在启动时创建所有系统表。<br> 系统表是只读的。<br> 它们位于 ‘system’ 数据库。</p> <h2 id=system_tables-asynchronous_metrics>系统。asynchronous_metrics<a class=headerlink href=#system_tables-asynchronous_metrics title="Permanent link">&para;</a></h2> <p>包含在后台定期计算的指标。 例如，在使用的RAM量。</p> <p>列:</p> <ul> <li><code>metric</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Metric name.</li> <li><code>value</code> (<a href=../../sql_reference/data_types/float/ >Float64</a>) — Metric value.</li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>asynchronous_metrics</span> <span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─metric──────────────────────────────────┬──────value─┐
│ jemalloc.background_thread.run_interval │          0 │
│ jemalloc.background_thread.num_runs     │          0 │
│ jemalloc.background_thread.num_threads  │          0 │
│ jemalloc.retained                       │  422551552 │
│ jemalloc.mapped                         │ 1682989056 │
│ jemalloc.resident                       │ 1656446976 │
│ jemalloc.metadata_thp                   │          0 │
│ jemalloc.metadata                       │   10226856 │
│ UncompressedCacheCells                  │          0 │
│ MarkCacheFiles                          │          0 │
└─────────────────────────────────────────┴────────────┘
</code></pre></div> <p><strong>另请参阅</strong></p> <ul> <li><a href=../monitoring/ >监测</a> — Base concepts of ClickHouse monitoring.</li> <li><a href=#system_tables-metrics>系统。指标</a> — Contains instantly calculated metrics.</li> <li><a href=#system_tables-events>系统。活动</a> — Contains a number of events that have occurred.</li> <li><a href=#system_tables-metric_log>系统。metric_log</a> — Contains a history of metrics values from tables <code>system.metrics</code> и <code>system.events</code>.</li> </ul> <h2 id=system-clusters>系统。集群<a class=headerlink href=#system-clusters title="Permanent link">&para;</a></h2> <p>包含有关配置文件中可用的集群及其中的服务器的信息。</p> <p>列:</p> <ul> <li><code>cluster</code> (String) — The cluster name.</li> <li><code>shard_num</code> (UInt32) — The shard number in the cluster, starting from 1.</li> <li><code>shard_weight</code> (UInt32) — The relative weight of the shard when writing data.</li> <li><code>replica_num</code> (UInt32) — The replica number in the shard, starting from 1.</li> <li><code>host_name</code> (String) — The host name, as specified in the config.</li> <li><code>host_address</code> (String) — The host IP address obtained from DNS.</li> <li><code>port</code> (UInt16) — The port to use for connecting to the server.</li> <li><code>user</code> (String) — The name of the user for connecting to the server.</li> <li><code>errors_count</code> (UInt32)-此主机无法到达副本的次数。</li> <li><code>estimated_recovery_time</code> (UInt32)-剩下的秒数，直到副本错误计数归零，它被认为是恢复正常。</li> </ul> <p>请注意 <code>errors_count</code> 每个查询集群更新一次，但 <code>estimated_recovery_time</code> 按需重新计算。 所以有可能是非零的情况 <code>errors_count</code> 和零 <code>estimated_recovery_time</code>，下一个查询将为零 <code>errors_count</code> 并尝试使用副本，就好像它没有错误。</p> <p><strong>另请参阅</strong></p> <ul> <li><a href=../../engines/table_engines/special/distributed/ >表引擎分布式</a></li> <li><a href=../settings/settings/#settings-distributed_replica_error_cap>distributed_replica_error_cap设置</a></li> <li><a href=../settings/settings/#settings-distributed_replica_error_half_life>distributed_replica_error_half_life设置</a></li> </ul> <h2 id=system-columns>系统。列<a class=headerlink href=#system-columns title="Permanent link">&para;</a></h2> <p>包含有关所有表中列的信息。</p> <p>您可以使用此表获取类似于以下内容的信息 <a href=../../sql_reference/statements/misc/#misc-describe-table>DESCRIBE TABLE</a> 查询，但对于多个表一次。</p> <p>该 <code>system.columns</code> 表包含以下列（列类型显示在括号中):</p> <ul> <li><code>database</code> (String) — Database name.</li> <li><code>table</code> (String) — Table name.</li> <li><code>name</code> (String) — Column name.</li> <li><code>type</code> (String) — Column type.</li> <li><code>default_kind</code> (String) — Expression type (<code>DEFAULT</code>, <code>MATERIALIZED</code>, <code>ALIAS</code>)为默认值，如果没有定义，则为空字符串。</li> <li><code>default_expression</code> (String) — Expression for the default value, or an empty string if it is not defined.</li> <li><code>data_compressed_bytes</code> (UInt64) — The size of compressed data, in bytes.</li> <li><code>data_uncompressed_bytes</code> (UInt64) — The size of decompressed data, in bytes.</li> <li><code>marks_bytes</code> (UInt64) — The size of marks, in bytes.</li> <li><code>comment</code> (String) — Comment on the column, or an empty string if it is not defined.</li> <li><code>is_in_partition_key</code> (UInt8) — Flag that indicates whether the column is in the partition expression.</li> <li><code>is_in_sorting_key</code> (UInt8) — Flag that indicates whether the column is in the sorting key expression.</li> <li><code>is_in_primary_key</code> (UInt8) — Flag that indicates whether the column is in the primary key expression.</li> <li><code>is_in_sampling_key</code> (UInt8) — Flag that indicates whether the column is in the sampling key expression.</li> </ul> <h2 id=system-contributors>系统。贡献者<a class=headerlink href=#system-contributors title="Permanent link">&para;</a></h2> <p>包含有关贡献者的信息。 按随机顺序排列所有构造。 该顺序在查询执行时是随机的。</p> <p>列:</p> <ul> <li><code>name</code> (String) — Contributor (author) name from git log.</li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>contributors</span> <span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─name─────────────┐
│ Olga Khvostikova │
│ Max Vetrov       │
│ LiuYangkuan      │
│ svladykin        │
│ zamulla          │
│ Šimon Podlipský  │
│ BayoNet          │
│ Ilya Khomutov    │
│ Amy Krishnevsky  │
│ Loud_Scream      │
└──────────────────┘
</code></pre></div> <p>要在表中找出自己，请使用查询:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>contributors</span> <span class=k>WHERE</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;Olga Khvostikova&#39;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─name─────────────┐
│ Olga Khvostikova │
└──────────────────┘
</code></pre></div> <h2 id=system-databases>系统。数据库<a class=headerlink href=#system-databases title="Permanent link">&para;</a></h2> <p>此表包含一个名为"字符串"的列 ‘name’ – the name of a database.<br> 服务器知道的每个数据库在表中都有相应的条目。<br> 该系统表用于实现 <code>SHOW DATABASES</code> 查询。</p> <h2 id=system_tables-detached_parts>系统。detached_parts<a class=headerlink href=#system_tables-detached_parts title="Permanent link">&para;</a></h2> <p>包含有关分离部分的信息 <a href=../../engines/table_engines/mergetree_family/mergetree/ >MergeTree</a> 桌子 该 <code>reason</code> 列指定分离部件的原因。 对于用户分离的部件，原因是空的。 这些部件可以附加 <a href=../../sql_reference/statements/alter/#alter_attach-partition>ALTER TABLE ATTACH PARTITION|PART</a> 指挥部 有关其他列的说明，请参阅 <a href=#system_tables-parts>系统。零件</a>. 如果部件名称无效，某些列的值可能为 <code>NULL</code>. 这些部分可以删除 <a href=../../sql_reference/statements/alter/#alter_drop-detached>ALTER TABLE DROP DETACHED PART</a>.</p> <h2 id=system-dictionaries>系统。字典<a class=headerlink href=#system-dictionaries title="Permanent link">&para;</a></h2> <p>包含有关外部字典的信息。</p> <p>列:</p> <ul> <li><code>name</code> (String) — Dictionary name.</li> <li><code>type</code> (String) — Dictionary type: Flat, Hashed, Cache.</li> <li><code>origin</code> (String) — Path to the configuration file that describes the dictionary.</li> <li><code>attribute.names</code> (Array(String)) — Array of attribute names provided by the dictionary.</li> <li><code>attribute.types</code> (Array(String)) — Corresponding array of attribute types that are provided by the dictionary.</li> <li><code>has_hierarchy</code> (UInt8) — Whether the dictionary is hierarchical.</li> <li><code>bytes_allocated</code> (UInt64) — The amount of RAM the dictionary uses.</li> <li><code>hit_rate</code> (Float64) — For cache dictionaries, the percentage of uses for which the value was in the cache.</li> <li><code>element_count</code> (UInt64) — The number of items stored in the dictionary.</li> <li><code>load_factor</code> (Float64) — The percentage filled in the dictionary (for a hashed dictionary, the percentage filled in the hash table).</li> <li><code>creation_time</code> (DateTime) — The time when the dictionary was created or last successfully reloaded.</li> <li><code>last_exception</code> (String) — Text of the error that occurs when creating or reloading the dictionary if the dictionary couldn't be created.</li> <li><code>source</code> (String) — Text describing the data source for the dictionary.</li> </ul> <p>请注意，字典使用的内存量与其中存储的项目数量不成正比。 因此，对于平面和缓存字典，所有的内存单元都是预先分配的，而不管字典实际上有多满。</p> <h2 id=system_tables-events>系统。活动<a class=headerlink href=#system_tables-events title="Permanent link">&para;</a></h2> <p>包含有关系统中发生的事件数的信息。 例如，在表中，您可以找到多少 <code>SELECT</code> 自ClickHouse服务器启动以来已处理查询。</p> <p>列:</p> <ul> <li><code>event</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Event name.</li> <li><code>value</code> (<a href=../../sql_reference/data_types/int_uint/ >UInt64</a>) — Number of events occurred.</li> <li><code>description</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Event description.</li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>events</span> <span class=k>LIMIT</span> <span class=mi>5</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─event─────────────────────────────────┬─value─┬─description────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ Query                                 │    12 │ Number of queries to be interpreted and potentially executed. Does not include queries that failed to parse or were rejected due to AST size limits, quota limits or limits on the number of simultaneously running queries. May include internal queries initiated by ClickHouse itself. Does not count subqueries.                  │
│ SelectQuery                           │     8 │ Same as Query, but only for SELECT queries.                                                                                                                                                                                                                │
│ FileOpen                              │    73 │ Number of files opened.                                                                                                                                                                                                                                    │
│ ReadBufferFromFileDescriptorRead      │   155 │ Number of reads (read/pread) from a file descriptor. Does not include sockets.                                                                                                                                                                             │
│ ReadBufferFromFileDescriptorReadBytes │  9931 │ Number of bytes read from file descriptors. If the file is compressed, this will show the compressed data size.                                                                                                                                              │
└───────────────────────────────────────┴───────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre></div> <p><strong>另请参阅</strong></p> <ul> <li><a href=#system_tables-asynchronous_metrics>系统。asynchronous_metrics</a> — Contains periodically calculated metrics.</li> <li><a href=#system_tables-metrics>系统。指标</a> — Contains instantly calculated metrics.</li> <li><a href=#system_tables-metric_log>系统。metric_log</a> — Contains a history of metrics values from tables <code>system.metrics</code> и <code>system.events</code>.</li> <li><a href=../monitoring/ >监测</a> — Base concepts of ClickHouse monitoring.</li> </ul> <h2 id=system-functions>系统。功能<a class=headerlink href=#system-functions title="Permanent link">&para;</a></h2> <p>包含有关正常函数和聚合函数的信息。</p> <p>列:</p> <ul> <li><code>name</code>(<code>String</code>) – The name of the function.</li> <li><code>is_aggregate</code>(<code>UInt8</code>) — Whether the function is aggregate.</li> </ul> <h2 id=system-graphite-retentions>系统。graphite_retentions<a class=headerlink href=#system-graphite-retentions title="Permanent link">&para;</a></h2> <p>包含有关参数的信息 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-graphite_rollup>graphite_rollup</a> 这是在表中使用 <a href=../../engines/table_engines/mergetree_family/graphitemergetree/ >*GraphiteMergeTree</a> 引擎</p> <p>列:</p> <ul> <li><code>config_name</code> (字符串) - <code>graphite_rollup</code> 参数名称。</li> <li><code>regexp</code> (String)-指标名称的模式。</li> <li><code>function</code> (String)-聚合函数的名称。</li> <li><code>age</code> (UInt64)-以秒为单位的数据的最小期限。</li> <li><code>precision</code> （UInt64）-如何精确地定义以秒为单位的数据的年龄。</li> <li><code>priority</code> (UInt16)-模式优先级。</li> <li><code>is_default</code> (UInt8)-模式是否为默认值。</li> <li><code>Tables.database</code> (Array(String))-使用数据库表名称的数组 <code>config_name</code> 参数。</li> <li><code>Tables.table</code> (Array(String))-使用表名称的数组 <code>config_name</code> 参数。</li> </ul> <h2 id=system-merges>系统。合并<a class=headerlink href=#system-merges title="Permanent link">&para;</a></h2> <p>包含有关MergeTree系列中表当前正在进行的合并和部件突变的信息。</p> <p>列:</p> <ul> <li><code>database</code> (String) — The name of the database the table is in.</li> <li><code>table</code> (String) — Table name.</li> <li><code>elapsed</code> (Float64) — The time elapsed (in seconds) since the merge started.</li> <li><code>progress</code> (Float64) — The percentage of completed work from 0 to 1.</li> <li><code>num_parts</code> (UInt64) — The number of pieces to be merged.</li> <li><code>result_part_name</code> (String) — The name of the part that will be formed as the result of merging.</li> <li><code>is_mutation</code> (UInt8)-1如果这个过程是一个部分突变.</li> <li><code>total_size_bytes_compressed</code> (UInt64) — The total size of the compressed data in the merged chunks.</li> <li><code>total_size_marks</code> (UInt64) — The total number of marks in the merged parts.</li> <li><code>bytes_read_uncompressed</code> (UInt64) — Number of bytes read, uncompressed.</li> <li><code>rows_read</code> (UInt64) — Number of rows read.</li> <li><code>bytes_written_uncompressed</code> (UInt64) — Number of bytes written, uncompressed.</li> <li><code>rows_written</code> (UInt64) — Number of rows written.</li> </ul> <h2 id=system_tables-metrics>系统。指标<a class=headerlink href=#system_tables-metrics title="Permanent link">&para;</a></h2> <p>包含可以立即计算或具有当前值的指标。 例如，同时处理的查询的数量或当前副本的延迟。 此表始终是最新的。</p> <p>列:</p> <ul> <li><code>metric</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Metric name.</li> <li><code>value</code> (<a href=../../sql_reference/data_types/int_uint/ >Int64</a>) — Metric value.</li> <li><code>description</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Metric description.</li> </ul> <p>支持的指标列表，您可以在 <a href=https://github.com/ClickHouse/ClickHouse/blob/master/src/Common/CurrentMetrics.cpp rel="external nofollow noreferrer">src/Common/CurrentMetrics.cpp</a> ClickHouse的源文件。</p> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>metrics</span> <span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─metric─────────────────────┬─value─┬─description──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ Query                      │     1 │ Number of executing queries                                                                                                                                                                      │
│ Merge                      │     0 │ Number of executing background merges                                                                                                                                                            │
│ PartMutation               │     0 │ Number of mutations (ALTER DELETE/UPDATE)                                                                                                                                                        │
│ ReplicatedFetch            │     0 │ Number of data parts being fetched from replicas                                                                                                                                                │
│ ReplicatedSend             │     0 │ Number of data parts being sent to replicas                                                                                                                                                      │
│ ReplicatedChecks           │     0 │ Number of data parts checking for consistency                                                                                                                                                    │
│ BackgroundPoolTask         │     0 │ Number of active tasks in BackgroundProcessingPool (merges, mutations, fetches, or replication queue bookkeeping)                                                                                │
│ BackgroundSchedulePoolTask │     0 │ Number of active tasks in BackgroundSchedulePool. This pool is used for periodic ReplicatedMergeTree tasks, like cleaning old data parts, altering data parts, replica re-initialization, etc.   │
│ DiskSpaceReservedForMerge  │     0 │ Disk space reserved for currently running background merges. It is slightly more than the total size of currently merging parts.                                                                     │
│ DistributedSend            │     0 │ Number of connections to remote servers sending data that was INSERTed into Distributed tables. Both synchronous and asynchronous mode.                                                          │
└────────────────────────────┴───────┴──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre></div> <p><strong>另请参阅</strong></p> <ul> <li><a href=#system_tables-asynchronous_metrics>系统。asynchronous_metrics</a> — Contains periodically calculated metrics.</li> <li><a href=#system_tables-events>系统。活动</a> — Contains a number of events that occurred.</li> <li><a href=#system_tables-metric_log>系统。metric_log</a> — Contains a history of metrics values from tables <code>system.metrics</code> и <code>system.events</code>.</li> <li><a href=../monitoring/ >监测</a> — Base concepts of ClickHouse monitoring.</li> </ul> <h2 id=system_tables-metric_log>系统。metric_log<a class=headerlink href=#system_tables-metric_log title="Permanent link">&para;</a></h2> <p>包含表中度量值的历史记录 <code>system.metrics</code> 和 <code>system.events</code>，定期刷新到磁盘。<br> 打开指标历史记录收集 <code>system.metric_log</code>,创建 <code>/etc/clickhouse-server/config.d/metric_log.xml</code> 具有以下内容:</p> <div class=codehilite><pre><span></span><code><span class=nt>&lt;yandex&gt;</span>
    <span class=nt>&lt;metric_log&gt;</span>
        <span class=nt>&lt;database&gt;</span>system<span class=nt>&lt;/database&gt;</span>
        <span class=nt>&lt;table&gt;</span>metric_log<span class=nt>&lt;/table&gt;</span>
        <span class=nt>&lt;flush_interval_milliseconds&gt;</span>7500<span class=nt>&lt;/flush_interval_milliseconds&gt;</span>
        <span class=nt>&lt;collect_interval_milliseconds&gt;</span>1000<span class=nt>&lt;/collect_interval_milliseconds&gt;</span>
    <span class=nt>&lt;/metric_log&gt;</span>
<span class=nt>&lt;/yandex&gt;</span>
</code></pre></div> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>metric_log</span> <span class=k>LIMIT</span> <span class=mi>1</span> <span class=n>FORMAT</span> <span class=n>Vertical</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Row 1:
──────
event_date:                                                 2020-02-18
event_time:                                                 2020-02-18 07:15:33
milliseconds:                                               554
ProfileEvent_Query:                                         0
ProfileEvent_SelectQuery:                                   0
ProfileEvent_InsertQuery:                                   0
ProfileEvent_FileOpen:                                      0
ProfileEvent_Seek:                                          0
ProfileEvent_ReadBufferFromFileDescriptorRead:              1
ProfileEvent_ReadBufferFromFileDescriptorReadFailed:        0
ProfileEvent_ReadBufferFromFileDescriptorReadBytes:         0
ProfileEvent_WriteBufferFromFileDescriptorWrite:            1
ProfileEvent_WriteBufferFromFileDescriptorWriteFailed:      0
ProfileEvent_WriteBufferFromFileDescriptorWriteBytes:       56
...
CurrentMetric_Query:                                        0
CurrentMetric_Merge:                                        0
CurrentMetric_PartMutation:                                 0
CurrentMetric_ReplicatedFetch:                              0
CurrentMetric_ReplicatedSend:                               0
CurrentMetric_ReplicatedChecks:                             0
...
</code></pre></div> <p><strong>另请参阅</strong></p> <ul> <li><a href=#system_tables-asynchronous_metrics>系统。asynchronous_metrics</a> — Contains periodically calculated metrics.</li> <li><a href=#system_tables-events>系统。活动</a> — Contains a number of events that occurred.</li> <li><a href=#system_tables-metrics>系统。指标</a> — Contains instantly calculated metrics.</li> <li><a href=../monitoring/ >监测</a> — Base concepts of ClickHouse monitoring.</li> </ul> <h2 id=system-numbers>系统。数字<a class=headerlink href=#system-numbers title="Permanent link">&para;</a></h2> <p>此表包含一个名为UInt64的列 ‘number’ 它包含几乎所有从零开始的自然数。<br> 您可以使用此表进行测试，或者如果您需要进行暴力搜索。<br> 从此表中读取的内容不是并行的。</p> <h2 id=system-numbers-mt>系统。numbers_mt<a class=headerlink href=#system-numbers-mt title="Permanent link">&para;</a></h2> <p>一样的 ‘system.numbers’ 但读取是并行的。 这些数字可以以任何顺序返回。<br> 用于测试。</p> <h2 id=system-one>系统。一<a class=headerlink href=#system-one title="Permanent link">&para;</a></h2> <p>此表包含一行，其中包含一行 ‘dummy’ UInt8列包含值0。<br> 如果SELECT查询未指定FROM子句，则使用此表。<br> 这与其他Dbms中的双表类似。</p> <h2 id=system_tables-parts>系统。零件<a class=headerlink href=#system_tables-parts title="Permanent link">&para;</a></h2> <p>包含有关的部分信息 <a href=../../engines/table_engines/mergetree_family/mergetree/ >MergeTree</a> 桌子</p> <p>每行描述一个数据部分。</p> <p>列:</p> <ul> <li> <p><code>partition</code> (String) – The partition name. To learn what a partition is, see the description of the <a href=../../sql_reference/statements/alter/#query_language_queries_alter>ALTER</a> 查询。</p> <p>格式:</p> <ul> <li><code>YYYYMM</code> 用于按月自动分区。</li> <li><code>any_string</code> 手动分区时。</li> </ul> </li> <li> <p><code>name</code> (<code>String</code>) – Name of the data part.</p> </li> <li> <p><code>active</code> (<code>UInt8</code>) – Flag that indicates whether the data part is active. If a data part is active, it's used in a table. Otherwise, it's deleted. Inactive data parts remain after merging.</p> </li> <li> <p><code>marks</code> (<code>UInt64</code>) – The number of marks. To get the approximate number of rows in a data part, multiply <code>marks</code> 通过索引粒度（通常为8192）（此提示不适用于自适应粒度）。</p> </li> <li> <p><code>rows</code> (<code>UInt64</code>) – The number of rows.</p> </li> <li> <p><code>bytes_on_disk</code> (<code>UInt64</code>) – Total size of all the data part files in bytes.</p> </li> <li> <p><code>data_compressed_bytes</code> (<code>UInt64</code>) – Total size of compressed data in the data part. All the auxiliary files (for example, files with marks) are not included.</p> </li> <li> <p><code>data_uncompressed_bytes</code> (<code>UInt64</code>) – Total size of uncompressed data in the data part. All the auxiliary files (for example, files with marks) are not included.</p> </li> <li> <p><code>marks_bytes</code> (<code>UInt64</code>) – The size of the file with marks.</p> </li> <li> <p><code>modification_time</code> (<code>DateTime</code>) – The time the directory with the data part was modified. This usually corresponds to the time of data part creation.|</p> </li> <li> <p><code>remove_time</code> (<code>DateTime</code>) – The time when the data part became inactive.</p> </li> <li> <p><code>refcount</code> (<code>UInt32</code>) – The number of places where the data part is used. A value greater than 2 indicates that the data part is used in queries or merges.</p> </li> <li> <p><code>min_date</code> (<code>Date</code>) – The minimum value of the date key in the data part.</p> </li> <li> <p><code>max_date</code> (<code>Date</code>) – The maximum value of the date key in the data part.</p> </li> <li> <p><code>min_time</code> (<code>DateTime</code>) – The minimum value of the date and time key in the data part.</p> </li> <li> <p><code>max_time</code>(<code>DateTime</code>) – The maximum value of the date and time key in the data part.</p> </li> <li> <p><code>partition_id</code> (<code>String</code>) – ID of the partition.</p> </li> <li> <p><code>min_block_number</code> (<code>UInt64</code>) – The minimum number of data parts that make up the current part after merging.</p> </li> <li> <p><code>max_block_number</code> (<code>UInt64</code>) – The maximum number of data parts that make up the current part after merging.</p> </li> <li> <p><code>level</code> (<code>UInt32</code>) – Depth of the merge tree. Zero means that the current part was created by insert rather than by merging other parts.</p> </li> <li> <p><code>data_version</code> (<code>UInt64</code>) – Number that is used to determine which mutations should be applied to the data part (mutations with a version higher than <code>data_version</code>).</p> </li> <li> <p><code>primary_key_bytes_in_memory</code> (<code>UInt64</code>) – The amount of memory (in bytes) used by primary key values.</p> </li> <li> <p><code>primary_key_bytes_in_memory_allocated</code> (<code>UInt64</code>) – The amount of memory (in bytes) reserved for primary key values.</p> </li> <li> <p><code>is_frozen</code> (<code>UInt8</code>) – Flag that shows that a partition data backup exists. 1, the backup exists. 0, the backup doesn't exist. For more details, see <a href=../../sql_reference/statements/alter/#alter_freeze-partition>FREEZE PARTITION</a></p> </li> <li> <p><code>database</code> (<code>String</code>) – Name of the database.</p> </li> <li> <p><code>table</code> (<code>String</code>) – Name of the table.</p> </li> <li> <p><code>engine</code> (<code>String</code>) – Name of the table engine without parameters.</p> </li> <li> <p><code>path</code> (<code>String</code>) – Absolute path to the folder with data part files.</p> </li> <li> <p><code>disk</code> (<code>String</code>) – Name of a disk that stores the data part.</p> </li> <li> <p><code>hash_of_all_files</code> (<code>String</code>) – <a href=../../sql_reference/functions/hash_functions/#hash_functions-siphash128>sipHash128</a> 的压缩文件。</p> </li> <li> <p><code>hash_of_uncompressed_files</code> (<code>String</code>) – <a href=../../sql_reference/functions/hash_functions/#hash_functions-siphash128>sipHash128</a> 未压缩的文件（带标记的文件，索引文件等。).</p> </li> <li> <p><code>uncompressed_hash_of_compressed_files</code> (<code>String</code>) – <a href=../../sql_reference/functions/hash_functions/#hash_functions-siphash128>sipHash128</a> 压缩文件中的数据，就好像它们是未压缩的。</p> </li> <li> <p><code>bytes</code> (<code>UInt64</code>) – Alias for <code>bytes_on_disk</code>.</p> </li> <li> <p><code>marks_size</code> (<code>UInt64</code>) – Alias for <code>marks_bytes</code>.</p> </li> </ul> <h2 id=system_tables-part-log>系统。part_log<a class=headerlink href=#system_tables-part-log title="Permanent link">&para;</a></h2> <p>该 <code>system.part_log</code> 表只有当创建 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-part-log>part_log</a> 指定了服务器设置。</p> <p>此表包含与以下情况发生的事件有关的信息 <a href=../../engines/table_engines/mergetree_family/custom_partitioning_key/ >数据部分</a> 在 <a href=../../engines/table_engines/mergetree_family/mergetree/ >MergeTree</a> 家庭表，例如添加或合并数据。</p> <p>该 <code>system.part_log</code> 表包含以下列:</p> <ul> <li><code>event_type</code> (Enum) — Type of the event that occurred with the data part. Can have one of the following values:<ul> <li><code>NEW_PART</code> — Inserting of a new data part.</li> <li><code>MERGE_PARTS</code> — Merging of data parts.</li> <li><code>DOWNLOAD_PART</code> — Downloading a data part.</li> <li><code>REMOVE_PART</code> — Removing or detaching a data part using <a href=../../sql_reference/statements/alter/#alter_detach-partition>DETACH PARTITION</a>.</li> <li><code>MUTATE_PART</code> — Mutating of a data part.</li> <li><code>MOVE_PART</code> — Moving the data part from the one disk to another one.</li> </ul> </li> <li><code>event_date</code> (Date) — Event date.</li> <li><code>event_time</code> (DateTime) — Event time.</li> <li><code>duration_ms</code> (UInt64) — Duration.</li> <li><code>database</code> (String) — Name of the database the data part is in.</li> <li><code>table</code> (String) — Name of the table the data part is in.</li> <li><code>part_name</code> (String) — Name of the data part.</li> <li><code>partition_id</code> (String) — ID of the partition that the data part was inserted to. The column takes the ‘all’ 值，如果分区是由 <code>tuple()</code>.</li> <li><code>rows</code> (UInt64) — The number of rows in the data part.</li> <li><code>size_in_bytes</code> (UInt64) — Size of the data part in bytes.</li> <li><code>merged_from</code> (Array(String)) — An array of names of the parts which the current part was made up from (after the merge).</li> <li><code>bytes_uncompressed</code> (UInt64) — Size of uncompressed bytes.</li> <li><code>read_rows</code> (UInt64) — The number of rows was read during the merge.</li> <li><code>read_bytes</code> (UInt64) — The number of bytes was read during the merge.</li> <li><code>error</code> (UInt16) — The code number of the occurred error.</li> <li><code>exception</code> (String) — Text message of the occurred error.</li> </ul> <p>该 <code>system.part_log</code> 表的第一个插入数据到后创建 <code>MergeTree</code> 桌子</p> <h2 id=system_tables-processes>系统。流程<a class=headerlink href=#system_tables-processes title="Permanent link">&para;</a></h2> <p>该系统表用于实现 <code>SHOW PROCESSLIST</code> 查询。</p> <p>列:</p> <ul> <li><code>user</code> (String) – The user who made the query. Keep in mind that for distributed processing, queries are sent to remote servers under the <code>default</code> 用户。 该字段包含特定查询的用户名，而不是此查询启动的查询的用户名。</li> <li><code>address</code> (String) – The IP address the request was made from. The same for distributed processing. To track where a distributed query was originally made from, look at <code>system.processes</code> 查询请求者服务器上。</li> <li><code>elapsed</code> (Float64) – The time in seconds since request execution started.</li> <li><code>rows_read</code> (UInt64) – The number of rows read from the table. For distributed processing, on the requestor server, this is the total for all remote servers.</li> <li><code>bytes_read</code> (UInt64) – The number of uncompressed bytes read from the table. For distributed processing, on the requestor server, this is the total for all remote servers.</li> <li><code>total_rows_approx</code> (UInt64) – The approximation of the total number of rows that should be read. For distributed processing, on the requestor server, this is the total for all remote servers. It can be updated during request processing, when new sources to process become known.</li> <li><code>memory_usage</code> (UInt64) – Amount of RAM the request uses. It might not include some types of dedicated memory. See the <a href=../settings/query_complexity/#settings_max_memory_usage>max_memory_usage</a> 设置。</li> <li><code>query</code> (String) – The query text. For <code>INSERT</code>，它不包括要插入的数据。</li> <li><code>query_id</code> (String) – Query ID, if defined.</li> </ul> <h2 id=system-tables-text-log>系统。text_log<a class=headerlink href=#system-tables-text-log title="Permanent link">&para;</a></h2> <p>包含日志记录条目。 进入该表的日志记录级别可以通过以下方式进行限制 <code>text_log.level</code> 服务器设置。</p> <p>列:</p> <ul> <li><code>event_date</code> (<code>Date</code>)-条目的日期。</li> <li><code>event_time</code> (<code>DateTime</code>)-条目的时间。</li> <li><code>microseconds</code> (<code>UInt32</code>）-条目的微秒。</li> <li><code>thread_name</code> (String) — Name of the thread from which the logging was done.</li> <li><code>thread_id</code> (UInt64) — OS thread ID.</li> <li><code>level</code> (<code>Enum8</code>）-入门级。<ul> <li><code>'Fatal' = 1</code></li> <li><code>'Critical' = 2</code></li> <li><code>'Error' = 3</code></li> <li><code>'Warning' = 4</code></li> <li><code>'Notice' = 5</code></li> <li><code>'Information' = 6</code></li> <li><code>'Debug' = 7</code></li> <li><code>'Trace' = 8</code></li> </ul> </li> <li><code>query_id</code> (<code>String</code>)-查询的ID。</li> <li><code>logger_name</code> (<code>LowCardinality(String)</code>) - Name of the logger (i.e. <code>DDLWorker</code>)</li> <li><code>message</code> (<code>String</code>）-消息本身。</li> <li><code>revision</code> (<code>UInt32</code>)-ClickHouse修订。</li> <li><code>source_file</code> (<code>LowCardinality(String)</code>)-从中完成日志记录的源文件。</li> <li><code>source_line</code> (<code>UInt64</code>)-从中完成日志记录的源代码行。</li> </ul> <h2 id=system_tables-query_log>系统。query_log<a class=headerlink href=#system_tables-query_log title="Permanent link">&para;</a></h2> <p>包含有关查询执行的信息。 对于每个查询，您可以看到处理开始时间，处理持续时间，错误消息和其他信息。</p> <div class="admonition note"> <p class=admonition-title>注</p> <p>该表不包含以下内容的输入数据 <code>INSERT</code> 查询。</p> </div> <p>ClickHouse仅在以下情况下创建此表 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-query-log>query_log</a> 指定服务器参数。 此参数设置日志记录规则，例如日志记录间隔或将记录查询的表的名称。</p> <p>要启用查询日志记录，请设置 <a href=../settings/settings/#settings-log-queries>log_queries</a> 参数为1。 有关详细信息，请参阅 <a href=../settings/settings/ >设置</a> 科。</p> <p>该 <code>system.query_log</code> 表注册两种查询:</p> <ol> <li>客户端直接运行的初始查询。</li> <li>由其他查询启动的子查询（用于分布式查询执行）。 对于这些类型的查询，有关父查询的信息显示在 <code>initial_*</code> 列。</li> </ol> <p>列:</p> <ul> <li><code>type</code> (<code>Enum8</code>) — Type of event that occurred when executing the query. Values:<ul> <li><code>'QueryStart' = 1</code> — Successful start of query execution.</li> <li><code>'QueryFinish' = 2</code> — Successful end of query execution.</li> <li><code>'ExceptionBeforeStart' = 3</code> — Exception before the start of query execution.</li> <li><code>'ExceptionWhileProcessing' = 4</code> — Exception during the query execution.</li> </ul> </li> <li><code>event_date</code> (Date) — Query starting date.</li> <li><code>event_time</code> (DateTime) — Query starting time.</li> <li><code>query_start_time</code> (DateTime) — Start time of query execution.</li> <li><code>query_duration_ms</code> (UInt64) — Duration of query execution.</li> <li><code>read_rows</code> (UInt64) — Number of read rows.</li> <li><code>read_bytes</code> (UInt64) — Number of read bytes.</li> <li><code>written_rows</code> (UInt64) — For <code>INSERT</code> 查询，写入的行数。 对于其他查询，列值为0。</li> <li><code>written_bytes</code> (UInt64) — For <code>INSERT</code> 查询时，写入的字节数。 对于其他查询，列值为0。</li> <li><code>result_rows</code> (UInt64) — Number of rows in the result.</li> <li><code>result_bytes</code> (UInt64) — Number of bytes in the result.</li> <li><code>memory_usage</code> (UInt64) — Memory consumption by the query.</li> <li><code>query</code> (String) — Query string.</li> <li><code>exception</code> (String) — Exception message.</li> <li><code>stack_trace</code> (String) — Stack trace (a list of methods called before the error occurred). An empty string, if the query is completed successfully.</li> <li><code>is_initial_query</code> (UInt8) — Query type. Possible values:<ul> <li>1 — Query was initiated by the client.</li> <li>0 — Query was initiated by another query for distributed query execution.</li> </ul> </li> <li><code>user</code> (String) — Name of the user who initiated the current query.</li> <li><code>query_id</code> (String) — ID of the query.</li> <li><code>address</code> (IPv6) — IP address that was used to make the query.</li> <li><code>port</code> (UInt16) — The client port that was used to make the query.</li> <li><code>initial_user</code> (String) — Name of the user who ran the initial query (for distributed query execution).</li> <li><code>initial_query_id</code> (String) — ID of the initial query (for distributed query execution).</li> <li><code>initial_address</code> (IPv6) — IP address that the parent query was launched from.</li> <li><code>initial_port</code> (UInt16) — The client port that was used to make the parent query.</li> <li><code>interface</code> (UInt8) — Interface that the query was initiated from. Possible values:<ul> <li>1 — TCP.</li> <li>2 — HTTP.</li> </ul> </li> <li><code>os_user</code> (String) — OS's username who runs <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a>.</li> <li><code>client_hostname</code> (String) — Hostname of the client machine where the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或者运行另一个TCP客户端。</li> <li><code>client_name</code> (String) — The <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端名称。</li> <li><code>client_revision</code> (UInt32) — Revision of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端。</li> <li><code>client_version_major</code> (UInt32) — Major version of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端。</li> <li><code>client_version_minor</code> (UInt32) — Minor version of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端。</li> <li><code>client_version_patch</code> (UInt32) — Patch component of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端版本。</li> <li><code>http_method</code> (UInt8) — HTTP method that initiated the query. Possible values:<ul> <li>0 — The query was launched from the TCP interface.</li> <li>1 — <code>GET</code> 方法被使用。</li> <li>2 — <code>POST</code> 方法被使用。</li> </ul> </li> <li><code>http_user_agent</code> (String) — The <code>UserAgent</code> http请求中传递的标头。</li> <li><code>quota_key</code> (String) — The “quota key” 在指定 <a href=../quotas/ >配额</a> 设置（见 <code>keyed</code>).</li> <li><code>revision</code> (UInt32) — ClickHouse revision.</li> <li><code>thread_numbers</code> (Array(UInt32)) — Number of threads that are participating in query execution.</li> <li><code>ProfileEvents.Names</code> (Array(String)) — Counters that measure different metrics. The description of them could be found in the table <a href=#system_tables-events>系统。活动</a></li> <li><code>ProfileEvents.Values</code> (Array(UInt64)) — Values of metrics that are listed in the <code>ProfileEvents.Names</code> 列。</li> <li><code>Settings.Names</code> (Array(String)) — Names of settings that were changed when the client ran the query. To enable logging changes to settings, set the <code>log_query_settings</code> 参数为1。</li> <li><code>Settings.Values</code> (Array(String)) — Values of settings that are listed in the <code>Settings.Names</code> 列。</li> </ul> <p>每个查询创建一个或两个行中 <code>query_log</code> 表，具体取决于查询的状态:</p> <ol> <li>如果查询执行成功，将创建两个类型为1和2的事件（请参阅 <code>type</code> 列）。</li> <li>如果在查询处理过程中发生错误，将创建两个类型为1和4的事件。</li> <li>如果在启动查询之前发生错误，将创建类型为3的单个事件。</li> </ol> <p>默认情况下，日志以7.5秒的间隔添加到表中。 您可以在设置此时间间隔 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-query-log>query_log</a> 服务器设置（请参阅 <code>flush_interval_milliseconds</code> 参数）。 要强制将日志从内存缓冲区刷新到表中，请使用 <code>SYSTEM FLUSH LOGS</code> 查询。</p> <p>当手动删除表时，它将自动动态创建。 请注意，所有以前的日志将被删除。</p> <div class="admonition note"> <p class=admonition-title>注</p> <p>日志的存储周期是无限的。 日志不会自动从表中删除。 您需要自己组织删除过时的日志。</p> </div> <p>您可以指定一个任意的分区键 <code>system.query_log</code> 表中的 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-query-log>query_log</a> 服务器设置（请参阅 <code>partition_by</code> 参数）。</p> <h2 id=system_tables-query-thread-log>系统。query_thread_log<a class=headerlink href=#system_tables-query-thread-log title="Permanent link">&para;</a></h2> <p>该表包含有关每个查询执行线程的信息。</p> <p>ClickHouse仅在以下情况下创建此表 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-query-thread-log>query_thread_log</a> 指定服务器参数。 此参数设置日志记录规则，例如日志记录间隔或将记录查询的表的名称。</p> <p>要启用查询日志记录，请设置 <a href=../settings/settings/#settings-log-query-threads>log_query_threads</a> 参数为1。 有关详细信息，请参阅 <a href=../settings/settings/ >设置</a> 科。</p> <p>列:</p> <ul> <li><code>event_date</code> (Date) — the date when the thread has finished execution of the query.</li> <li><code>event_time</code> (DateTime) — the date and time when the thread has finished execution of the query.</li> <li><code>query_start_time</code> (DateTime) — Start time of query execution.</li> <li><code>query_duration_ms</code> (UInt64) — Duration of query execution.</li> <li><code>read_rows</code> (UInt64) — Number of read rows.</li> <li><code>read_bytes</code> (UInt64) — Number of read bytes.</li> <li><code>written_rows</code> (UInt64) — For <code>INSERT</code> 查询，写入的行数。 对于其他查询，列值为0。</li> <li><code>written_bytes</code> (UInt64) — For <code>INSERT</code> 查询时，写入的字节数。 对于其他查询，列值为0。</li> <li><code>memory_usage</code> (Int64) — The difference between the amount of allocated and freed memory in context of this thread.</li> <li><code>peak_memory_usage</code> (Int64) — The maximum difference between the amount of allocated and freed memory in context of this thread.</li> <li><code>thread_name</code> (String) — Name of the thread.</li> <li><code>thread_number</code> (UInt32) — Internal thread ID.</li> <li><code>os_thread_id</code> (Int32) — OS thread ID.</li> <li><code>master_thread_id</code> (UInt64) — OS initial ID of initial thread.</li> <li><code>query</code> (String) — Query string.</li> <li><code>is_initial_query</code> (UInt8) — Query type. Possible values:<ul> <li>1 — Query was initiated by the client.</li> <li>0 — Query was initiated by another query for distributed query execution.</li> </ul> </li> <li><code>user</code> (String) — Name of the user who initiated the current query.</li> <li><code>query_id</code> (String) — ID of the query.</li> <li><code>address</code> (IPv6) — IP address that was used to make the query.</li> <li><code>port</code> (UInt16) — The client port that was used to make the query.</li> <li><code>initial_user</code> (String) — Name of the user who ran the initial query (for distributed query execution).</li> <li><code>initial_query_id</code> (String) — ID of the initial query (for distributed query execution).</li> <li><code>initial_address</code> (IPv6) — IP address that the parent query was launched from.</li> <li><code>initial_port</code> (UInt16) — The client port that was used to make the parent query.</li> <li><code>interface</code> (UInt8) — Interface that the query was initiated from. Possible values:<ul> <li>1 — TCP.</li> <li>2 — HTTP.</li> </ul> </li> <li><code>os_user</code> (String) — OS's username who runs <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a>.</li> <li><code>client_hostname</code> (String) — Hostname of the client machine where the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或者运行另一个TCP客户端。</li> <li><code>client_name</code> (String) — The <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端名称。</li> <li><code>client_revision</code> (UInt32) — Revision of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端。</li> <li><code>client_version_major</code> (UInt32) — Major version of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端。</li> <li><code>client_version_minor</code> (UInt32) — Minor version of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端。</li> <li><code>client_version_patch</code> (UInt32) — Patch component of the <a href=../../interfaces/cli/ >ﾂ环板clientｮﾂ嘉ｯﾂ偲</a> 或另一个TCP客户端版本。</li> <li><code>http_method</code> (UInt8) — HTTP method that initiated the query. Possible values:<ul> <li>0 — The query was launched from the TCP interface.</li> <li>1 — <code>GET</code> 方法被使用。</li> <li>2 — <code>POST</code> 方法被使用。</li> </ul> </li> <li><code>http_user_agent</code> (String) — The <code>UserAgent</code> http请求中传递的标头。</li> <li><code>quota_key</code> (String) — The “quota key” 在指定 <a href=../quotas/ >配额</a> 设置（见 <code>keyed</code>).</li> <li><code>revision</code> (UInt32) — ClickHouse revision.</li> <li><code>ProfileEvents.Names</code> (Array(String)) — Counters that measure different metrics for this thread. The description of them could be found in the table <a href=#system_tables-events>系统。活动</a></li> <li><code>ProfileEvents.Values</code> (Array(UInt64)) — Values of metrics for this thread that are listed in the <code>ProfileEvents.Names</code> 列。</li> </ul> <p>默认情况下，日志以7.5秒的间隔添加到表中。 您可以在设置此时间间隔 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-query-thread-log>query_thread_log</a> 服务器设置（请参阅 <code>flush_interval_milliseconds</code> 参数）。 要强制将日志从内存缓冲区刷新到表中，请使用 <code>SYSTEM FLUSH LOGS</code> 查询。</p> <p>当手动删除表时，它将自动动态创建。 请注意，所有以前的日志将被删除。</p> <div class="admonition note"> <p class=admonition-title>注</p> <p>日志的存储周期是无限的。 日志不会自动从表中删除。 您需要自己组织删除过时的日志。</p> </div> <p>您可以指定一个任意的分区键 <code>system.query_thread_log</code> 表中的 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-query-thread-log>query_thread_log</a> 服务器设置（请参阅 <code>partition_by</code> 参数）。</p> <h2 id=system_tables-trace_log>系统。trace_log<a class=headerlink href=#system_tables-trace_log title="Permanent link">&para;</a></h2> <p>包含采样查询探查器收集的堆栈跟踪。</p> <p>ClickHouse创建此表时 <a href=../server_configuration_parameters/settings/#server_configuration_parameters-trace_log>trace_log</a> 服务器配置部分被设置。 也是 <a href=../settings/settings/#query_profiler_real_time_period_ns>query_profiler_real_time_period_ns</a> 和 <a href=../settings/settings/#query_profiler_cpu_time_period_ns>query_profiler_cpu_time_period_ns</a> 应设置设置。</p> <p>要分析日志，请使用 <code>addressToLine</code>, <code>addressToSymbol</code> 和 <code>demangle</code> 内省功能。</p> <p>列:</p> <ul> <li> <p><code>event_date</code>(<a href=../../sql_reference/data_types/date/ >日期</a>) — Date of sampling moment.</p> </li> <li> <p><code>event_time</code>(<a href=../../sql_reference/data_types/datetime/ >日期时间</a>) — Timestamp of sampling moment.</p> </li> <li> <p><code>revision</code>(<a href=../../sql_reference/data_types/int_uint/ >UInt32</a>) — ClickHouse server build revision.</p> <p>通过以下方式连接到服务器 <code>clickhouse-client</code>，你看到的字符串类似于 <code>Connected to ClickHouse server version 19.18.1 revision 54429.</code>. 该字段包含 <code>revision</code>，但不是 <code>version</code> 的服务器。</p> </li> <li> <p><code>timer_type</code>(<a href=../../sql_reference/data_types/enum/ >枚举8</a>) — Timer type:</p> <ul> <li><code>Real</code> 表示挂钟时间。</li> <li><code>CPU</code> 表示CPU时间。</li> </ul> </li> <li> <p><code>thread_number</code>(<a href=../../sql_reference/data_types/int_uint/ >UInt32</a>) — Thread identifier.</p> </li> <li> <p><code>query_id</code>(<a href=../../sql_reference/data_types/string/ >字符串</a>) — Query identifier that can be used to get details about a query that was running from the <a href=#system_tables-query_log>query_log</a> 系统表.</p> </li> <li> <p><code>trace</code>(<a href=../../sql_reference/data_types/array/ >数组(UInt64)</a>) — Stack trace at the moment of sampling. Each element is a virtual memory address inside ClickHouse server process.</p> </li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>trace_log</span> <span class=k>LIMIT</span> <span class=mi>1</span> <span class=err>\</span><span class=k>G</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Row 1:
──────
event_date:    2019-11-15
event_time:    2019-11-15 15:09:38
revision:      54428
timer_type:    Real
thread_number: 48
query_id:      acc4d61f-5bd1-4a3e-bc91-2180be37c915
trace:         [94222141367858,94222152240175,94222152325351,94222152329944,94222152330796,94222151449980,94222144088167,94222151682763,94222144088167,94222151682763,94222144088167,94222144058283,94222144059248,94222091840750,94222091842302,94222091831228,94222189631488,140509950166747,140509942945935]
</code></pre></div> <h2 id=system_tables-replicas>系统。副本<a class=headerlink href=#system_tables-replicas title="Permanent link">&para;</a></h2> <p>包含驻留在本地服务器上的复制表的信息和状态。<br> 此表可用于监视。 该表对于每个已复制的*表都包含一行。</p> <p>示例:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>replicas</span>
<span class=k>WHERE</span> <span class=k>table</span> <span class=o>=</span> <span class=s1>&#39;visits&#39;</span>
<span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Row 1:
──────
database:                   merge
table:                      visits
engine:                     ReplicatedCollapsingMergeTree
is_leader:                  1
can_become_leader:          1
is_readonly:                0
is_session_expired:         0
future_parts:               1
parts_to_check:             0
zookeeper_path:             /clickhouse/tables/01-06/visits
replica_name:               example01-06-1.yandex.ru
replica_path:               /clickhouse/tables/01-06/visits/replicas/example01-06-1.yandex.ru
columns_version:            9
queue_size:                 1
inserts_in_queue:           0
merges_in_queue:            1
part_mutations_in_queue:    0
queue_oldest_time:          2020-02-20 08:34:30
inserts_oldest_time:        0000-00-00 00:00:00
merges_oldest_time:         2020-02-20 08:34:30
part_mutations_oldest_time: 0000-00-00 00:00:00
oldest_part_to_get:
oldest_part_to_merge_to:    20200220_20284_20840_7
oldest_part_to_mutate_to:
log_max_index:              596273
log_pointer:                596274
last_queue_update:          2020-02-20 08:34:32
absolute_delay:             0
total_replicas:             2
active_replicas:            2
</code></pre></div> <p>列:</p> <ul> <li><code>database</code> (<code>String</code>)-数据库名称</li> <li><code>table</code> (<code>String</code>)-表名</li> <li><code>engine</code> (<code>String</code>)-表引擎名称</li> <li><code>is_leader</code> (<code>UInt8</code>)-副本是否是领导者。<br> 一次只有一个副本可以成为领导者。 领导者负责选择要执行的后台合并。<br> 请注意，可以对任何可用且在ZK中具有会话的副本执行写操作，而不管该副本是否为leader。</li> <li><code>can_become_leader</code> (<code>UInt8</code>)-副本是否可以当选为领导者。</li> <li><code>is_readonly</code> (<code>UInt8</code>)-副本是否处于只读模式。<br> 如果配置没有ZooKeeper的部分，如果在ZooKeeper中重新初始化会话时发生未知错误，以及在ZooKeeper中重新初始化会话时发生未知错误，则此模式将打开。</li> <li><code>is_session_expired</code> (<code>UInt8</code>)-与ZooKeeper的会话已经过期。 基本上一样 <code>is_readonly</code>.</li> <li><code>future_parts</code> (<code>UInt32</code>)-由于尚未完成的插入或合并而显示的数据部分的数量。</li> <li><code>parts_to_check</code> (<code>UInt32</code>)-队列中用于验证的数据部分的数量。 如果怀疑零件可能已损坏，则将其放入验证队列。</li> <li><code>zookeeper_path</code> (<code>String</code>)-在ZooKeeper中的表数据路径。</li> <li><code>replica_name</code> (<code>String</code>)-在动物园管理员副本名称. 同一表的不同副本具有不同的名称。</li> <li><code>replica_path</code> (<code>String</code>)-在ZooKeeper中的副本数据的路径。 与连接相同 ‘zookeeper_path/replicas/replica_path’.</li> <li><code>columns_version</code> (<code>Int32</code>)-表结构的版本号。 指示执行ALTER的次数。 如果副本有不同的版本，这意味着一些副本还没有做出所有的改变。</li> <li><code>queue_size</code> (<code>UInt32</code>)-等待执行的操作的队列大小。 操作包括插入数据块、合并和某些其他操作。 它通常与 <code>future_parts</code>.</li> <li><code>inserts_in_queue</code> (<code>UInt32</code>)-需要插入数据块的数量。 插入通常复制得相当快。 如果这个数字很大，这意味着有什么不对劲。</li> <li><code>merges_in_queue</code> (<code>UInt32</code>)-等待进行合并的数量。 有时合并时间很长，因此此值可能长时间大于零。</li> <li><code>part_mutations_in_queue</code> (<code>UInt32</code>）-等待进行的突变的数量。</li> <li><code>queue_oldest_time</code> (<code>DateTime</code>)-如果 <code>queue_size</code> 大于0，显示何时将最旧的操作添加到队列中。</li> <li><code>inserts_oldest_time</code> (<code>DateTime</code>）-看 <code>queue_oldest_time</code></li> <li><code>merges_oldest_time</code> (<code>DateTime</code>）-看 <code>queue_oldest_time</code></li> <li><code>part_mutations_oldest_time</code> (<code>DateTime</code>）-看 <code>queue_oldest_time</code></li> </ul> <p>接下来的4列只有在有ZK活动会话的情况下才具有非零值。</p> <ul> <li><code>log_max_index</code> (<code>UInt64</code>)-一般活动日志中的最大条目数。</li> <li><code>log_pointer</code> (<code>UInt64</code>)-副本复制到其执行队列的常规活动日志中的最大条目数加一。 如果 <code>log_pointer</code> 比 <code>log_max_index</code>，有点不对劲。</li> <li><code>last_queue_update</code> (<code>DateTime</code>)-上次更新队列时。</li> <li><code>absolute_delay</code> (<code>UInt64</code>）-当前副本有多大滞后秒。</li> <li><code>total_replicas</code> (<code>UInt8</code>)-此表的已知副本总数。</li> <li><code>active_replicas</code> (<code>UInt8</code>)-在ZooKeeper中具有会话的此表的副本的数量（即正常运行的副本的数量）。</li> </ul> <p>如果您请求所有列，表可能会工作得有点慢，因为每行都会从ZooKeeper进行几次读取。<br> 如果您没有请求最后4列（log_max_index，log_pointer，total_replicas，active_replicas），表工作得很快。</p> <p>例如，您可以检查一切是否正常工作，如下所示:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span>
    <span class=k>database</span><span class=p>,</span>
    <span class=k>table</span><span class=p>,</span>
    <span class=n>is_leader</span><span class=p>,</span>
    <span class=n>is_readonly</span><span class=p>,</span>
    <span class=n>is_session_expired</span><span class=p>,</span>
    <span class=n>future_parts</span><span class=p>,</span>
    <span class=n>parts_to_check</span><span class=p>,</span>
    <span class=n>columns_version</span><span class=p>,</span>
    <span class=n>queue_size</span><span class=p>,</span>
    <span class=n>inserts_in_queue</span><span class=p>,</span>
    <span class=n>merges_in_queue</span><span class=p>,</span>
    <span class=n>log_max_index</span><span class=p>,</span>
    <span class=n>log_pointer</span><span class=p>,</span>
    <span class=n>total_replicas</span><span class=p>,</span>
    <span class=n>active_replicas</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>replicas</span>
<span class=k>WHERE</span>
       <span class=n>is_readonly</span>
    <span class=k>OR</span> <span class=n>is_session_expired</span>
    <span class=k>OR</span> <span class=n>future_parts</span> <span class=o>&gt;</span> <span class=mi>20</span>
    <span class=k>OR</span> <span class=n>parts_to_check</span> <span class=o>&gt;</span> <span class=mi>10</span>
    <span class=k>OR</span> <span class=n>queue_size</span> <span class=o>&gt;</span> <span class=mi>20</span>
    <span class=k>OR</span> <span class=n>inserts_in_queue</span> <span class=o>&gt;</span> <span class=mi>10</span>
    <span class=k>OR</span> <span class=n>log_max_index</span> <span class=o>-</span> <span class=n>log_pointer</span> <span class=o>&gt;</span> <span class=mi>10</span>
    <span class=k>OR</span> <span class=n>total_replicas</span> <span class=o>&lt;</span> <span class=mi>2</span>
    <span class=k>OR</span> <span class=n>active_replicas</span> <span class=o>&lt;</span> <span class=n>total_replicas</span>
</code></pre></div> <p>如果这个查询没有返回任何东西，这意味着一切都很好。</p> <h2 id=system-tables-system-settings>系统。设置<a class=headerlink href=#system-tables-system-settings title="Permanent link">&para;</a></h2> <p>包含有关当前用户的会话设置的信息。</p> <p>列:</p> <ul> <li><code>name</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Setting name.</li> <li><code>value</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Setting value.</li> <li><code>changed</code> (<a href=../../sql_reference/data_types/int_uint/#uint-ranges>UInt8</a>) — Shows whether a setting is changed from its default value.</li> <li><code>description</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Short setting description.</li> <li><code>min</code> (<a href=../../sql_reference/data_types/nullable/ >可为空</a>(<a href=../../sql_reference/data_types/string/ >字符串</a>)) — Minimum value of the setting, if any is set via <a href=../settings/constraints_on_settings/#constraints-on-settings>制约因素</a>. 如果设置没有最小值，则包含 <a href=../../sql_reference/syntax/#null-literal>NULL</a>.</li> <li><code>max</code> (<a href=../../sql_reference/data_types/nullable/ >可为空</a>(<a href=../../sql_reference/data_types/string/ >字符串</a>)) — Maximum value of the setting, if any is set via <a href=../settings/constraints_on_settings/#constraints-on-settings>制约因素</a>. 如果设置没有最大值，则包含 <a href=../../sql_reference/syntax/#null-literal>NULL</a>.</li> <li><code>readonly</code> (<a href=../../sql_reference/data_types/int_uint/#uint-ranges>UInt8</a>) — Shows whether the current user can change the setting:<ul> <li><code>0</code> — Current user can change the setting.</li> <li><code>1</code> — Current user can't change the setting.</li> </ul> </li> </ul> <p><strong>示例</strong></p> <p>下面的示例演示如何获取有关名称包含的设置的信息 <code>min_i</code>.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span>
<span class=k>WHERE</span> <span class=n>name</span> <span class=k>LIKE</span> <span class=s1>&#39;%min_i%&#39;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─name────────────────────────────────────────┬─value─────┬─changed─┬─description───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┬─min──┬─max──┬─readonly─┐
│ min_insert_block_size_rows                  │ 1048576   │       0 │ Squash blocks passed to INSERT query to specified size in rows, if blocks are not big enough.                                                                         │ ᴺᵁᴸᴸ │ ᴺᵁᴸᴸ │        0 │
│ min_insert_block_size_bytes                 │ 268435456 │       0 │ Squash blocks passed to INSERT query to specified size in bytes, if blocks are not big enough.                                                                        │ ᴺᵁᴸᴸ │ ᴺᵁᴸᴸ │        0 │
│ read_backoff_min_interval_between_events_ms │ 1000      │       0 │ Settings to reduce the number of threads in case of slow reads. Do not pay attention to the event, if the previous one has passed less than a certain amount of time. │ ᴺᵁᴸᴸ │ ᴺᵁᴸᴸ │        0 │
└─────────────────────────────────────────────┴───────────┴─────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴──────┴──────┴──────────┘
</code></pre></div> <p>使用 <code>WHERE changed</code> 可以是有用的，例如，当你想检查:</p> <ul> <li>配置文件中的设置是否正确加载并正在使用。</li> <li>在当前会话中更改的设置。</li> </ul> <!-- --> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>changed</span> <span class=k>AND</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;load_balancing&#39;</span>
</code></pre></div> <p><strong>另请参阅</strong></p> <ul> <li><a href=../settings/#settings>设置</a></li> <li><a href=../settings/permissions_for_queries/#settings_readonly>查询权限</a></li> <li><a href=../settings/constraints_on_settings/ >对设置的限制</a></li> </ul> <h2 id=system.table_engines>系统。表_engines<a class=headerlink href=#system.table_engines title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><code>┌─name───────────────────┬─value───────┐
│ max_threads            │ 8           │
│ use_uncompressed_cache │ 0           │
│ load_balancing         │ random      │
│ max_memory_usage       │ 10000000000 │
└────────────────────────┴─────────────┘
</code></pre></div> <h2 id=system-merge_tree_settings>系统。merge_tree_settings<a class=headerlink href=#system-merge_tree_settings title="Permanent link">&para;</a></h2> <p>包含有关以下设置的信息 <code>MergeTree</code> 桌子</p> <p>列:</p> <ul> <li><code>name</code> (String) — Setting name.</li> <li><code>value</code> (String) — Setting value.</li> <li><code>description</code> (String) — Setting description.</li> <li><code>type</code> (String) — Setting type (implementation specific string value).</li> <li><code>changed</code> (UInt8) — Whether the setting was explicitly defined in the config or explicitly changed.</li> </ul> <h2 id=system-table-engines>系统。表_engines<a class=headerlink href=#system-table-engines title="Permanent link">&para;</a></h2> <p>包含服务器支持的表引擎的描述及其功能支持信息。</p> <p>此表包含以下列（列类型显示在括号中):</p> <ul> <li><code>name</code> (String) — The name of table engine.</li> <li><code>supports_settings</code> (UInt8) — Flag that indicates if table engine supports <code>SETTINGS</code> 条款</li> <li><code>supports_skipping_indices</code> (UInt8) — Flag that indicates if table engine supports <a href=../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-data_skipping-indexes>跳过索引</a>.</li> <li><code>supports_ttl</code> (UInt8) — Flag that indicates if table engine supports <a href=../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-ttl>TTL</a>.</li> <li><code>supports_sort_order</code> (UInt8) — Flag that indicates if table engine supports clauses <code>PARTITION_BY</code>, <code>PRIMARY_KEY</code>, <code>ORDER_BY</code> 和 <code>SAMPLE_BY</code>.</li> <li><code>supports_replication</code> (UInt8) — Flag that indicates if table engine supports <a href=../../engines/table_engines/mergetree_family/replication/ >数据复制</a>.</li> <li><code>supports_duduplication</code> (UInt8) — Flag that indicates if table engine supports data deduplication.</li> </ul> <p>示例:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>table_engines</span>
<span class=k>WHERE</span> <span class=n>name</span> <span class=k>in</span> <span class=p>(</span><span class=s1>&#39;Kafka&#39;</span><span class=p>,</span> <span class=s1>&#39;MergeTree&#39;</span><span class=p>,</span> <span class=s1>&#39;ReplicatedCollapsingMergeTree&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─name──────────────────────────┬─supports_settings─┬─supports_skipping_indices─┬─supports_sort_order─┬─supports_ttl─┬─supports_replication─┬─supports_deduplication─┐
│ Kafka                         │                 1 │                         0 │                   0 │            0 │                    0 │                      0 │
│ MergeTree                     │                 1 │                         1 │                   1 │            1 │                    0 │                      0 │
│ ReplicatedCollapsingMergeTree │                 1 │                         1 │                   1 │            1 │                    1 │                      1 │
└───────────────────────────────┴───────────────────┴───────────────────────────┴─────────────────────┴──────────────┴──────────────────────┴────────────────────────┘
</code></pre></div> <p><strong>另请参阅</strong></p> <ul> <li>梅树家族 <a href=../../engines/table_engines/mergetree_family/mergetree/#mergetree-query-clauses>查询子句</a></li> <li>卡夫卡 <a href=../../engines/table_engines/integrations/kafka/#table_engine-kafka-creating-a-table>设置</a></li> <li>加入我们 <a href=../../engines/table_engines/special/join/#join-limitations-and-settings>设置</a></li> </ul> <h2 id=system-tables>系统。表<a class=headerlink href=#system-tables title="Permanent link">&para;</a></h2> <p>包含服务器知道的每个表的元数据。 分离的表不显示在 <code>system.tables</code>.</p> <p>此表包含以下列（列类型显示在括号中):</p> <ul> <li> <p><code>database</code> (String) — The name of the database the table is in.</p> </li> <li> <p><code>name</code> (String) — Table name.</p> </li> <li> <p><code>engine</code> (String) — Table engine name (without parameters).</p> </li> <li> <p><code>is_temporary</code> (UInt8)-指示表是否是临时的标志。</p> </li> <li> <p><code>data_path</code> (String)-文件系统中表数据的路径。</p> </li> <li> <p><code>metadata_path</code> (String)-文件系统中表元数据的路径。</p> </li> <li> <p><code>metadata_modification_time</code> (DateTime)-表元数据的最新修改时间。</p> </li> <li> <p><code>dependencies_database</code> (数组(字符串))-数据库依赖关系.</p> </li> <li> <p><code>dependencies_table</code> （数组（字符串））-表依赖关系 (<a href=../../engines/table_engines/special/materializedview/ >MaterializedView</a> 基于当前表的表）。</p> </li> <li> <p><code>create_table_query</code> (String)-用于创建表的查询。</p> </li> <li> <p><code>engine_full</code> (String)-表引擎的参数。</p> </li> <li> <p><code>partition_key</code> (String)-表中指定的分区键表达式。</p> </li> <li> <p><code>sorting_key</code> (String)-表中指定的排序键表达式。</p> </li> <li> <p><code>primary_key</code> (String)-表中指定的主键表达式。</p> </li> <li> <p><code>sampling_key</code> (String)-表中指定的采样键表达式。</p> </li> <li> <p><code>storage_policy</code> (字符串)-存储策略:</p> <ul> <li><a href=../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-multiple-volumes>MergeTree</a></li> <li><a href=../../engines/table_engines/special/distributed/#distributed>分布</a></li> </ul> </li> <li> <p><code>total_rows</code> (Nullable(UInt64))-总行数，如果可以快速确定表中的确切行数，否则 <code>Null</code> （包括内衣 <code>Buffer</code> 表）。</p> </li> <li> <p><code>total_bytes</code> (Nullable(UInt64))-总字节数，如果可以快速确定存储表的确切字节数，否则 <code>Null</code> (<strong>不</strong> 包括任何底层存储）。</p> <ul> <li>If the table stores data on disk, returns used space on disk (i.e. compressed).</li> <li>如果表在内存中存储数据,返回在内存中使用的近似字节数.</li> </ul> </li> </ul> <p>该 <code>system.tables</code> 表中使用 <code>SHOW TABLES</code> 查询实现。</p> <h2 id=system-zookeeper>系统。动物园管理员<a class=headerlink href=#system-zookeeper title="Permanent link">&para;</a></h2> <p>如果未配置ZooKeeper，则表不存在。 允许从配置中定义的ZooKeeper集群读取数据。<br> 查询必须具有 ‘path’ WHERE子句中的平等条件。 这是ZooKeeper中您想要获取数据的孩子的路径。</p> <p>查询 <code>SELECT * FROM system.zookeeper WHERE path = '/clickhouse'</code> 输出对所有孩子的数据 <code>/clickhouse</code> 节点。<br> 要输出所有根节点的数据，write path= ‘/’.<br> 如果在指定的路径 ‘path’ 不存在，将引发异常。</p> <p>列:</p> <ul> <li><code>name</code> (String) — The name of the node.</li> <li><code>path</code> (String) — The path to the node.</li> <li><code>value</code> (String) — Node value.</li> <li><code>dataLength</code> (Int32) — Size of the value.</li> <li><code>numChildren</code> (Int32) — Number of descendants.</li> <li><code>czxid</code> (Int64) — ID of the transaction that created the node.</li> <li><code>mzxid</code> (Int64) — ID of the transaction that last changed the node.</li> <li><code>pzxid</code> (Int64) — ID of the transaction that last deleted or added descendants.</li> <li><code>ctime</code> (DateTime) — Time of node creation.</li> <li><code>mtime</code> (DateTime) — Time of the last modification of the node.</li> <li><code>version</code> (Int32) — Node version: the number of times the node was changed.</li> <li><code>cversion</code> (Int32) — Number of added or removed descendants.</li> <li><code>aversion</code> (Int32) — Number of changes to the ACL.</li> <li><code>ephemeralOwner</code> (Int64) — For ephemeral nodes, the ID of the session that owns this node.</li> </ul> <p>示例:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>zookeeper</span>
<span class=k>WHERE</span> <span class=n>path</span> <span class=o>=</span> <span class=s1>&#39;/clickhouse/tables/01-08/visits/replicas&#39;</span>
<span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Row 1:
──────
name:           example01-08-1.yandex.ru
value:
czxid:          932998691229
mzxid:          932998691229
ctime:          2015-03-27 16:49:51
mtime:          2015-03-27 16:49:51
version:        0
cversion:       47
aversion:       0
ephemeralOwner: 0
dataLength:     0
numChildren:    7
pzxid:          987021031383
path:           /clickhouse/tables/01-08/visits/replicas

Row 2:
──────
name:           example01-08-2.yandex.ru
value:
czxid:          933002738135
mzxid:          933002738135
ctime:          2015-03-27 16:57:01
mtime:          2015-03-27 16:57:01
version:        0
cversion:       37
aversion:       0
ephemeralOwner: 0
dataLength:     0
numChildren:    7
pzxid:          987021252247
path:           /clickhouse/tables/01-08/visits/replicas
</code></pre></div> <h2 id=system_tables-mutations>系统。突变<a class=headerlink href=#system_tables-mutations title="Permanent link">&para;</a></h2> <p>该表包含以下信息 <a href=../../sql_reference/statements/alter/#alter-mutations>突变</a> MergeTree表及其进展。 每个突变命令由一行表示。 该表具有以下列:</p> <p><strong>数据库</strong>, <strong>表</strong> -应用突变的数据库和表的名称。</p> <p><strong>mutation_id</strong> -变异的ID 对于复制的表，这些Id对应于znode中的名称 <code>&lt;table_path_in_zookeeper&gt;/mutations/</code> 动物园管理员的目录。 对于未复制的表，Id对应于表的数据目录中的文件名。</p> <p><strong>命令</strong> -Mutation命令字符串（查询后的部分 <code>ALTER TABLE [db.]table</code>).</p> <p><strong>create_time</strong> -当这个突变命令被提交执行。</p> <p><strong>block_numbers.partition_id</strong>, <strong>block_numbers.编号</strong> -嵌套列。 对于复制表的突变，它包含每个分区的一条记录：分区ID和通过突变获取的块编号（在每个分区中，只有包含编号小于该分区中突变获取的块编号的块的 在非复制表中，所有分区中的块编号形成一个序列。 这意味着对于非复制表的突变，该列将包含一条记录，其中包含由突变获取的单个块编号。</p> <p><strong>parts_to_do</strong> -为了完成突变，需要突变的数据部分的数量。</p> <p><strong>is_done</strong> -变异完成了?？ 请注意，即使 <code>parts_to_do = 0</code> 由于长时间运行的INSERT将创建需要突变的新数据部分，因此可能尚未完成复制表的突变。</p> <p>如果在改变某些部分时出现问题，以下列将包含其他信息:</p> <p><strong>latest_failed_part</strong> -不能变异的最新部分的名称。</p> <p><strong>latest_fail_time</strong> -最近的部分突变失败的时间。</p> <p><strong>latest_fail_reason</strong> -导致最近部件变异失败的异常消息。</p> <h2 id=system_tables-disks>系统。磁盘<a class=headerlink href=#system_tables-disks title="Permanent link">&para;</a></h2> <p>包含有关在定义的磁盘信息 <a href=../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-multiple-volumes_configure>服务器配置</a>.</p> <p>列:</p> <ul> <li><code>name</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Name of a disk in the server configuration.</li> <li><code>path</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Path to the mount point in the file system.</li> <li><code>free_space</code> (<a href=../../sql_reference/data_types/int_uint/ >UInt64</a>) — Free space on disk in bytes.</li> <li><code>total_space</code> (<a href=../../sql_reference/data_types/int_uint/ >UInt64</a>) — Disk volume in bytes.</li> <li><code>keep_free_space</code> (<a href=../../sql_reference/data_types/int_uint/ >UInt64</a>) — Amount of disk space that should stay free on disk in bytes. Defined in the <code>keep_free_space_bytes</code> 磁盘配置参数。</li> </ul> <h2 id=system_tables-storage_policies>系统。storage_policies<a class=headerlink href=#system_tables-storage_policies title="Permanent link">&para;</a></h2> <p>包含有关存储策略和卷中定义的信息 <a href=../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-multiple-volumes_configure>服务器配置</a>.</p> <p>列:</p> <ul> <li><code>policy_name</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Name of the storage policy.</li> <li><code>volume_name</code> (<a href=../../sql_reference/data_types/string/ >字符串</a>) — Volume name defined in the storage policy.</li> <li><code>volume_priority</code> (<a href=../../sql_reference/data_types/int_uint/ >UInt64</a>) — Volume order number in the configuration.</li> <li><code>disks</code> (<a href=../../sql_reference/data_types/array/ >数组（字符串)</a>) — Disk names, defined in the storage policy.</li> <li><code>max_data_part_size</code> (<a href=../../sql_reference/data_types/int_uint/ >UInt64</a>) — Maximum size of a data part that can be stored on volume disks (0 — no limit).</li> <li><code>move_factor</code> (<a href=../../sql_reference/data_types/float/ >Float64</a>) — Ratio of free disk space. When the ratio exceeds the value of configuration parameter, ClickHouse start to move data to the next volume in order.</li> </ul> <p>如果存储策略包含多个卷，则每个卷的信息将存储在表的单独行中。</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>建于 <a href=https://github.com/ClickHouse/ClickHouse/commit/c1558f8c18e2727c5991cf923ee79710de89d1d0 rel="external nofollow noreferrer" target=_blank class=text-reset>c1558f8c18</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>目录</label> <a href=#system_tables-asynchronous_metrics title=系统。asynchronous_metrics class="nav-link text-wrap d-inline-block w-100"> 系统。asynchronous_metrics </a> <a href=#system-clusters title=系统。集群 class="nav-link text-wrap d-inline-block w-100"> 系统。集群 </a> <a href=#system-columns title=系统。列 class="nav-link text-wrap d-inline-block w-100"> 系统。列 </a> <a href=#system-contributors title=系统。贡献者 class="nav-link text-wrap d-inline-block w-100"> 系统。贡献者 </a> <a href=#system-databases title=系统。数据库 class="nav-link text-wrap d-inline-block w-100"> 系统。数据库 </a> <a href=#system_tables-detached_parts title=系统。detached_parts class="nav-link text-wrap d-inline-block w-100"> 系统。detached_parts </a> <a href=#system-dictionaries title=系统。字典 class="nav-link text-wrap d-inline-block w-100"> 系统。字典 </a> <a href=#system_tables-events title=系统。活动 class="nav-link text-wrap d-inline-block w-100"> 系统。活动 </a> <a href=#system-functions title=系统。功能 class="nav-link text-wrap d-inline-block w-100"> 系统。功能 </a> <a href=#system-graphite-retentions title=系统。graphite_retentions class="nav-link text-wrap d-inline-block w-100"> 系统。graphite_retentions </a> <a href=#system-merges title=系统。合并 class="nav-link text-wrap d-inline-block w-100"> 系统。合并 </a> <a href=#system_tables-metrics title=系统。指标 class="nav-link text-wrap d-inline-block w-100"> 系统。指标 </a> <a href=#system_tables-metric_log title=系统。metric_log class="nav-link text-wrap d-inline-block w-100"> 系统。metric_log </a> <a href=#system-numbers title=系统。数字 class="nav-link text-wrap d-inline-block w-100"> 系统。数字 </a> <a href=#system-numbers-mt title=系统。numbers_mt class="nav-link text-wrap d-inline-block w-100"> 系统。numbers_mt </a> <a href=#system-one title=系统。一 class="nav-link text-wrap d-inline-block w-100"> 系统。一 </a> <a href=#system_tables-parts title=系统。零件 class="nav-link text-wrap d-inline-block w-100"> 系统。零件 </a> <a href=#system_tables-part-log title=系统。part_log class="nav-link text-wrap d-inline-block w-100"> 系统。part_log </a> <a href=#system_tables-processes title=系统。流程 class="nav-link text-wrap d-inline-block w-100"> 系统。流程 </a> <a href=#system-tables-text-log title=系统。text_log class="nav-link text-wrap d-inline-block w-100"> 系统。text_log </a> <a href=#system_tables-query_log title=系统。query_log class="nav-link text-wrap d-inline-block w-100"> 系统。query_log </a> <a href=#system_tables-query-thread-log title=系统。query_thread_log class="nav-link text-wrap d-inline-block w-100"> 系统。query_thread_log </a> <a href=#system_tables-trace_log title=系统。trace_log class="nav-link text-wrap d-inline-block w-100"> 系统。trace_log </a> <a href=#system_tables-replicas title=系统。副本 class="nav-link text-wrap d-inline-block w-100"> 系统。副本 </a> <a href=#system-tables-system-settings title=系统。设置 class="nav-link text-wrap d-inline-block w-100"> 系统。设置 </a> <a href=#system.table_engines title=系统。表_engines class="nav-link text-wrap d-inline-block w-100"> 系统。表_engines </a> <a href=#system-merge_tree_settings title=系统。merge_tree_settings class="nav-link text-wrap d-inline-block w-100"> 系统。merge_tree_settings </a> <a href=#system-table-engines title=系统。表_engines class="nav-link text-wrap d-inline-block w-100"> 系统。表_engines </a> <a href=#system-tables title=系统。表 class="nav-link text-wrap d-inline-block w-100"> 系统。表 </a> <a href=#system-zookeeper title=系统。动物园管理员 class="nav-link text-wrap d-inline-block w-100"> 系统。动物园管理员 </a> <a href=#system_tables-mutations title=系统。突变 class="nav-link text-wrap d-inline-block w-100"> 系统。突变 </a> <a href=#system_tables-disks title=系统。磁盘 class="nav-link text-wrap d-inline-block w-100"> 系统。磁盘 </a> <a href=#system_tables-storage_policies title=系统。storage_policies class="nav-link text-wrap d-inline-block w-100"> 系统。storage_policies </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>