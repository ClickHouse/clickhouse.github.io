<!DOCTYPE html><html lang=en data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>HTTP Interface - ClickHouse Documentation</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="HTTP Interface - ClickHouse  Documentation"><meta property=og:description content="HTTP Interface The HTTP interface lets you use ClickHouse on any platform from any programming language. We use it for w"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="HTTP Interface - ClickHouse  Documentation"><meta name=description content="HTTP Interface The HTTP interface lets you use ClickHouse on any platform from any programming language. We use it for w"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> HTTP Interface </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/en/interfaces/http.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/en.svg alt=English title=English width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/interfaces/http/ class="dropdown-item disabled"> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/interfaces/http/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/interfaces/http/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/interfaces/http/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/interfaces/http/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/interfaces/http/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/interfaces/http/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page or single-page"> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-page version" title="Multi-page version"> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Single-page version" title="Single-page version"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Version: <span class=text-light>latest</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/en/ class="dropdown-item disable"> <span class=text-light>latest</span> </a> <a href=/docs/v20.3/en/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/en/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/en/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/en/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/en/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/en/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/en/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/en/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/en/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/en/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/en/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../introduction/distinctive_features/ title="Distinctive Features" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distinctive Features</a> <a href=../../introduction/features_considered_disadvantages/ title="ClickHouse Features that Can Be Considered Disadvantages" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Features that Can Be Considered Disadvantages</a> <a href=../../introduction/performance/ title=Performance class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a> <a href=../../introduction/history/ title=History class="nav-link text-light text-wrap d-inline-block w-100 px-0">History</a> <a href=../../introduction/adopters/ title=Adopters class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adopters</a> </nav> </div> <a href=../../ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/install/ title=Installation class="nav-link text-light text-wrap d-inline-block w-100 px-0">Installation</a> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/example_datasets/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../getting_started/example_datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../getting_started/example_datasets/nyc_taxi/ title="New York Taxi Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">New York Taxi Data</a> <a href=../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../getting_started/example_datasets/criteo/ title="Terabyte Click Logs from Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Terabyte Click Logs from Criteo</a> <a href=../../getting_started/example_datasets/star_schema/ title="Star Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Star Schema Benchmark</a> <a href=../../getting_started/example_datasets/metrica/ title="Yandex.Metrica Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica Data</a> </nav> </div> <a href=../../getting_started/tutorial/ title=Tutorial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a> <a href=../../getting_started/playground/ title=Playground class="nav-link text-light text-wrap d-inline-block w-100 px-0">Playground</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../interfaces/cli/ title="Command-Line Client" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Command-Line Client</a> <a href=../../interfaces/tcp/ title="Native Interface (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Native Interface (TCP)</a> <a href=../../interfaces/http/ title="HTTP Interface" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">HTTP Interface</a> <a href=../../interfaces/mysql/ title="MySQL Interface" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL Interface</a> <a href=../../interfaces/formats/ title="Input and Output Formats" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Input and Output Formats</a> <a href=../../interfaces/jdbc/ title="JDBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC Driver</a> <a href=../../interfaces/odbc/ title="ODBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC Driver</a> <a href=../../interfaces/cpp/ title="C++ Client Library" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ Client Library</a> <a href=#sidebar-sidebar-4-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-10 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-4-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../interfaces/third-party/client_libraries/ title="Client Libraries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Client Libraries</a> <a href=../../interfaces/third-party/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../interfaces/third-party/gui/ title="Visual Interfaces" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Visual Interfaces</a> <a href=../../interfaces/third-party/proxy/ title=Proxies class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxies</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../engines/table_engines/mergetree_family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../engines/table_engines/mergetree_family/replication/ title="Data Replication" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Replication</a> <a href=../../engines/table_engines/mergetree_family/custom_partitioning_key/ title="Custom Partitioning Key" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Custom Partitioning Key</a> <a href=../../engines/table_engines/mergetree_family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-5-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-5-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../engines/table_engines/log_family/log_family/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../engines/table_engines/log_family/log/ title=Log class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a> <a href=../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-5-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../engines/table_engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-5-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../engines/table_engines/special/distributed/ title=Distributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a> <a href=../../engines/table_engines/special/external_data/ title="External data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External data</a> <a href=../../engines/table_engines/special/dictionary/ title=Dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a> <a href=../../engines/table_engines/special/merge/ title=Merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a> <a href=../../engines/table_engines/special/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../engines/table_engines/special/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../engines/table_engines/special/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../engines/table_engines/special/join/ title=Join class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a> <a href=../../engines/table_engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../engines/table_engines/special/view/ title=View class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a> <a href=../../engines/table_engines/special/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../engines/table_engines/special/memory/ title=Memory class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a> <a href=../../engines/table_engines/special/buffer/ title=Buffer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a> <a href=../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../engines/database_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../engines/database_engines/lazy/ title=Lazy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lazy</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-2 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../sql_reference/statements/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../sql_reference/statements/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../sql_reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../sql_reference/statements/misc/ title=Other class="nav-link text-light text-wrap d-inline-block w-100 px-0">Other</a> </nav> </div> <a href=../../sql_reference/syntax/ title=Syntax class="nav-link text-light text-wrap d-inline-block w-100 px-0">Syntax</a> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../sql_reference/functions/arithmetic_functions/ title=Arithmetic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arithmetic</a> <a href=../../sql_reference/functions/comparison_functions/ title=Comparison class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparison</a> <a href=../../sql_reference/functions/logical_functions/ title=Logical class="nav-link text-light text-wrap d-inline-block w-100 px-0">Logical</a> <a href=../../sql_reference/functions/type_conversion_functions/ title="Type Conversion" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Type Conversion</a> <a href=../../sql_reference/functions/date_time_functions/ title="Working with Dates and Times" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Dates and Times</a> <a href=../../sql_reference/functions/string_functions/ title="Working with strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with strings</a> <a href=../../sql_reference/functions/string_search_functions/ title="For Searching Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Searching Strings</a> <a href=../../sql_reference/functions/string_replace_functions/ title="For Replacing in Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Replacing in Strings</a> <a href=../../sql_reference/functions/conditional_functions/ title=Conditional class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conditional</a> <a href=../../sql_reference/functions/math_functions/ title=Mathematical class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mathematical</a> <a href=../../sql_reference/functions/rounding_functions/ title=Rounding class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rounding</a> <a href=../../sql_reference/functions/array_functions/ title="Working with Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Arrays</a> <a href=../../sql_reference/functions/splitting_merging_functions/ title="Splitting and Merging Strings and Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Splitting and Merging Strings and Arrays</a> <a href=../../sql_reference/functions/bit_functions/ title=Bit class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bit</a> <a href=../../sql_reference/functions/bitmap_functions/ title=Bitmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bitmap</a> <a href=../../sql_reference/functions/hash_functions/ title=Hash class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a> <a href=../../sql_reference/functions/random_functions/ title="Generating Pseudo-Random Numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generating Pseudo-Random Numbers</a> <a href=../../sql_reference/functions/encoding_functions/ title=Encoding class="nav-link text-light text-wrap d-inline-block w-100 px-0">Encoding</a> <a href=../../sql_reference/functions/uuid_functions/ title="Working with UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with UUID</a> <a href=../../sql_reference/functions/url_functions/ title="Working with URLs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with URLs</a> <a href=../../sql_reference/functions/ip_address_functions/ title="Working with IP Addresses" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with IP Addresses</a> <a href=../../sql_reference/functions/json_functions/ title="Working with JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with JSON</a> <a href=../../sql_reference/functions/higher_order_functions/ title=Higher-Order class="nav-link text-light text-wrap d-inline-block w-100 px-0">Higher-Order</a> <a href=../../sql_reference/functions/ext_dict_functions/ title="Working with External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with External Dictionaries</a> <a href=../../sql_reference/functions/ym_dict_functions/ title="Working with Yandex.Metrica Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Yandex.Metrica Dictionaries</a> <a href=../../sql_reference/functions/in_functions/ title="Implementing the IN Operator" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implementing the IN Operator</a> <a href=../../sql_reference/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../sql_reference/functions/geo/ title="Working with geographical coordinates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with geographical coordinates</a> <a href=../../sql_reference/functions/functions_for_nulls/ title="Working with Nullable arguments" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Nullable arguments</a> <a href=../../sql_reference/functions/machine_learning_functions/ title="Machine Learning Functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Machine Learning Functions</a> <a href=../../sql_reference/functions/introspection/ title=Introspection class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspection</a> <a href=../../sql_reference/functions/other_functions/ title=Other class="nav-link text-light text-wrap d-inline-block w-100 px-0">Other</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/aggregate_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../sql_reference/aggregate_functions/reference/ title=Reference class="nav-link text-light text-wrap d-inline-block w-100 px-0">Reference</a> <a href=../../sql_reference/aggregate_functions/combinators/ title="Aggregate function combinators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aggregate function combinators</a> <a href=../../sql_reference/aggregate_functions/parametric_functions/ title="Parametric aggregate functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Parametric aggregate functions</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/table_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../sql_reference/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../sql_reference/table_functions/merge/ title=merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a> <a href=../../sql_reference/table_functions/numbers/ title=numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a> <a href=../../sql_reference/table_functions/remote/ title=remote class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote</a> <a href=../../sql_reference/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../sql_reference/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../sql_reference/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../sql_reference/table_functions/input/ title=input class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a> <a href=../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/dictionaries/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title="General Description" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Description</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title="Configuring an External Dictionary" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuring an External Dictionary</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title="Storing Dictionaries in Memory" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Storing Dictionaries in Memory</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title="Dictionary Updates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Updates</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title="Sources of External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sources of External Dictionaries</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title="Dictionary Key and Fields" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Key and Fields</a> <a href=../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title="Hierarchical dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hierarchical dictionaries</a> </nav> </div> <a href=../../sql_reference/dictionaries/internal_dicts/ title="Internal Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Internal Dictionaries</a> </nav> </div> <a href=#sidebar-sidebar-6-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-6-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../sql_reference/data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../sql_reference/data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../sql_reference/data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../sql_reference/data_types/boolean/ title=Boolean class="nav-link text-light text-wrap d-inline-block w-100 px-0">Boolean</a> <a href=../../sql_reference/data_types/string/ title=String class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a> <a href=../../sql_reference/data_types/fixedstring/ title=FixedString(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a> <a href=../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../sql_reference/data_types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../sql_reference/data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../sql_reference/data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../sql_reference/data_types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../sql_reference/data_types/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types_of_arguments...)</a> <a href=../../sql_reference/data_types/tuple/ title="Tuple(T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, ...)</a> <a href=#sidebar-sidebar-6-8-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-16 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-6-8-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, ...)</a> </nav> </div> <a href=../../sql_reference/data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-6-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-18 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-6-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/special_data_types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../sql_reference/data_types/special_data_types/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../sql_reference/data_types/special_data_types/nothing/ title=Nothing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a> <a href=../../sql_reference/data_types/special_data_types/interval/ title=Interval class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a> </nav> </div> <a href=#sidebar-sidebar-6-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-19 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../sql_reference/data_types/domains/overview/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=../../sql_reference/operators/ title=Operators class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operators</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../guides/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../guides/apply_catboost_model/ title="Applying CatBoost Models" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Applying CatBoost Models</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/requirements/ title=Requirements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requirements</a> <a href=../../operations/monitoring/ title=Monitoring class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoring</a> <a href=../../operations/troubleshooting/ title=Troubleshooting class="nav-link text-light text-wrap d-inline-block w-100 px-0">Troubleshooting</a> <a href=../../operations/update/ title="ClickHouse Update" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Update</a> <a href=../../operations/access_rights/ title="Access Rights" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Access Rights</a> <a href=../../operations/backup/ title="Data Backup" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Backup</a> <a href=../../operations/configuration_files/ title="Configuration Files" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuration Files</a> <a href=../../operations/quotas/ title=Quotas class="nav-link text-light text-wrap d-inline-block w-100 px-0">Quotas</a> <a href=#sidebar-sidebar-8-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-10 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-8-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../operations/optimizing_performance/sampling_query_profiler/ title="Query Profiling" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Query Profiling</a> </nav> </div> <a href=../../operations/system_tables/ title="System Tables" class="nav-link text-light text-wrap d-inline-block w-100 px-0">System Tables</a> <a href=#sidebar-sidebar-8-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-12 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server_configuration_parameters/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/server_configuration_parameters/settings/ title="Server Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Server Settings</a> </nav> </div> <a href=../../operations/performance_test/ title="Testing Hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing Hardware</a> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/settings/permissions_for_queries/ title="Permissions for Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permissions for Queries</a> <a href=../../operations/settings/query_complexity/ title="Restrictions on Query Complexity" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restrictions on Query Complexity</a> <a href=../../operations/settings/settings/ title=Settings class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings</a> <a href=../../operations/settings/settings_profiles/ title="Settings Profiles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings Profiles</a> <a href=../../operations/settings/constraints_on_settings/ title="Constraints on Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Constraints on Settings</a> <a href=../../operations/settings/settings_users/ title="User Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">User Settings</a> </nav> </div> <a href=#sidebar-sidebar-8-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-15 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utilities/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../operations/utilities/clickhouse-copier/ title=clickhouse-copier class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a> <a href=../../operations/utilities/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> <a href=../../operations/utilities/clickhouse-benchmark/ title=clickhouse-benchmark class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-benchmark</a> </nav> </div> <a href=../../operations/tips/ title="Usage Recommendations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Usage Recommendations</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/developer_instruction/ title="The Beginner ClickHouse Developer Instruction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">The Beginner ClickHouse Developer Instruction</a> <a href=../../development/architecture/ title="Overview of ClickHouse Architecture" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview of ClickHouse Architecture</a> <a href=../../development/browse_code/ title="Browse ClickHouse Source Code" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Browse ClickHouse Source Code</a> <a href=../../development/build/ title="How to Build ClickHouse on Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux</a> <a href=../../development/build_osx/ title="How to Build ClickHouse on Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Mac OS X</a> <a href=../../development/build_cross_osx/ title="How to Build ClickHouse on Linux for Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux for Mac OS X</a> <a href=../../development/build_cross_arm/ title="How to Build ClickHouse on Linux for AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux for AARCH64 (ARM64)</a> <a href=../../development/style/ title="How to Write C++ Code" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Write C++ Code</a> <a href=../../development/tests/ title="How to Run ClickHouse Tests" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Run ClickHouse Tests</a> <a href=../../development/contrib/ title="Third-Party Libraries Used" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party Libraries Used</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../commercial/cloud/ title="ClickHouse Cloud Service Providers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Cloud Service Providers</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../whats_new/roadmap/ title=Roadmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a> <a href=../../whats_new/security_changelog/ title="Security Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security Changelog</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../faq/general/ title="General Questions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Questions</a> </nav> </div> <a href=../../single/clickhouse_en.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="PDF version" title="PDF version" height=24 class="d-block mr-1 float-left"><div>PDF version</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <h1 id=http-interface>HTTP Interface<a class=headerlink href=#http-interface title="Permanent link">&para;</a></h1> <p>The HTTP interface lets you use ClickHouse on any platform from any programming language. We use it for working from Java and Perl, as well as shell scripts. In other departments, the HTTP interface is used from Perl, Python, and Go. The HTTP interface is more limited than the native interface, but it has better compatibility.</p> <p>By default, clickhouse-server listens for HTTP on port 8123 (this can be changed in the config).</p> <p>If you make a GET / request without parameters, it returns 200 response code and the string which defined in <a href=../../operations/server_configuration_parameters/settings/#server_configuration_parameters-http_server_default_response>http_server_default_response</a> default value “Ok.” (with a line feed at the end)</p> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123/&#39;</span>
Ok.
</code></pre></div> <p>Use GET /ping request in health-check scripts. This handler always returns “Ok.” (with a line feed at the end). Available from version 18.12.13.</p> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123/ping&#39;</span>
Ok.
</code></pre></div> <p>Send the request as a URL ‘query’ parameter, or as a POST. Or send the beginning of the query in the ‘query’ parameter, and the rest in the POST (we’ll explain later why this is necessary). The size of the URL is limited to 16 KB, so keep this in mind when sending large queries.</p> <p>If successful, you receive the 200 response code and the result in the response body.<br> If an error occurs, you receive the 500 response code and an error description text in the response body.</p> <p>When using the GET method, ‘readonly’ is set. In other words, for queries that modify data, you can only use the POST method. You can send the query itself either in the POST body or in the URL parameter.</p> <p>Examples:</p> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123/?query=SELECT%201&#39;</span>
<span class=m>1</span>

$ wget -O- -q <span class=s1>&#39;http://localhost:8123/?query=SELECT 1&#39;</span>
<span class=m>1</span>

$ <span class=nb>echo</span> -ne <span class=s1>&#39;GET /?query=SELECT%201 HTTP/1.0\r\n\r\n&#39;</span> <span class=p>|</span> nc localhost <span class=m>8123</span>
HTTP/1.0 <span class=m>200</span> OK
Date: Wed, <span class=m>27</span> Nov <span class=m>2019</span> <span class=m>10</span>:30:18 GMT
Connection: Close
Content-Type: text/tab-separated-values<span class=p>;</span> <span class=nv>charset</span><span class=o>=</span>UTF-8
X-ClickHouse-Server-Display-Name: clickhouse.ru-central1.internal
X-ClickHouse-Query-Id: 5abe861c-239c-467f-b955-8a201abb8b7f
X-ClickHouse-Summary: <span class=o>{</span><span class=s2>&quot;read_rows&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;read_bytes&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;written_rows&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;written_bytes&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;total_rows_to_read&quot;</span>:<span class=s2>&quot;0&quot;</span><span class=o>}</span>

<span class=m>1</span>
</code></pre></div> <p>As you can see, curl is somewhat inconvenient in that spaces must be URL escaped.<br> Although wget escapes everything itself, we don’t recommend using it because it doesn’t work well over HTTP 1.1 when using keep-alive and Transfer-Encoding: chunked.</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;SELECT 1&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/&#39;</span> --data-binary @-
<span class=m>1</span>

$ <span class=nb>echo</span> <span class=s1>&#39;SELECT 1&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?query=&#39;</span> --data-binary @-
<span class=m>1</span>

$ <span class=nb>echo</span> <span class=s1>&#39;1&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?query=SELECT&#39;</span> --data-binary @-
<span class=m>1</span>
</code></pre></div> <p>If part of the query is sent in the parameter, and part in the POST, a line feed is inserted between these two data parts.<br> Example (this won’t work):</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;ECT 1&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?query=SEL&#39;</span> --data-binary @-
Code: <span class=m>59</span>, e.displayText<span class=o>()</span> <span class=o>=</span> DB::Exception: Syntax error: failed at position <span class=m>0</span>: SEL
ECT <span class=m>1</span>
, expected One of: SHOW TABLES, SHOW DATABASES, SELECT, INSERT, CREATE, ATTACH, RENAME, DROP, DETACH, USE, SET, OPTIMIZE., e.what<span class=o>()</span> <span class=o>=</span> DB::Exception
</code></pre></div> <p>By default, data is returned in TabSeparated format (for more information, see the “Formats” section).<br> You use the FORMAT clause of the query to request any other format.</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;SELECT 1 FORMAT Pretty&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?&#39;</span> --data-binary @-
┏━━━┓
┃ <span class=m>1</span> ┃
┡━━━┩
│ <span class=m>1</span> │
└───┘
</code></pre></div> <p>The POST method of transmitting data is necessary for INSERT queries. In this case, you can write the beginning of the query in the URL parameter, and use POST to pass the data to insert. The data to insert could be, for example, a tab-separated dump from MySQL. In this way, the INSERT query replaces LOAD DATA LOCAL INFILE from MySQL.</p> <p>Examples: Creating a table:</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;CREATE TABLE t (a UInt8) ENGINE = Memory&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/&#39;</span> --data-binary @-
</code></pre></div> <p>Using the familiar INSERT query for data insertion:</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;INSERT INTO t VALUES (1),(2),(3)&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/&#39;</span> --data-binary @-
</code></pre></div> <p>Data can be sent separately from the query:</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;(4),(5),(6)&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?query=INSERT%20INTO%20t%20VALUES&#39;</span> --data-binary @-
</code></pre></div> <p>You can specify any data format. The ‘Values’ format is the same as what is used when writing INSERT INTO t VALUES:</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;(7),(8),(9)&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?query=INSERT%20INTO%20t%20FORMAT%20Values&#39;</span> --data-binary @-
</code></pre></div> <p>To insert data from a tab-separated dump, specify the corresponding format:</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> -ne <span class=s1>&#39;10\n11\n12\n&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?query=INSERT%20INTO%20t%20FORMAT%20TabSeparated&#39;</span> --data-binary @-
</code></pre></div> <p>Reading the table contents. Data is output in random order due to parallel query processing:</p> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123/?query=SELECT%20a%20FROM%20t&#39;</span>
<span class=m>7</span>
<span class=m>8</span>
<span class=m>9</span>
<span class=m>10</span>
<span class=m>11</span>
<span class=m>12</span>
<span class=m>1</span>
<span class=m>2</span>
<span class=m>3</span>
<span class=m>4</span>
<span class=m>5</span>
<span class=m>6</span>
</code></pre></div> <p>Deleting the table.</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;DROP TABLE t&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/&#39;</span> --data-binary @-
</code></pre></div> <p>For successful requests that don’t return a data table, an empty response body is returned.</p> <p>You can use the internal ClickHouse compression format when transmitting data. The compressed data has a non-standard format, and you will need to use the special <code>clickhouse-compressor</code> program to work with it (it is installed with the <code>clickhouse-client</code> package). To increase the efficiency of data insertion, you can disable server-side checksum verification by using the <a href=../../operations/settings/settings/#settings-http_native_compression_disable_checksumming_on_decompress>http_native_compression_disable_checksumming_on_decompress</a> setting.</p> <p>If you specified <code>compress=1</code> in the URL, the server compresses the data it sends you.<br> If you specified <code>decompress=1</code> in the URL, the server decompresses the same data that you pass in the <code>POST</code> method.</p> <p>You can also choose to use <a href=https://en.wikipedia.org/wiki/HTTP_compression rel="external nofollow noreferrer">HTTP compression</a>. To send a compressed <code>POST</code> request, append the request header <code>Content-Encoding: compression_method</code>. In order for ClickHouse to compress the response, you must append <code>Accept-Encoding: compression_method</code>. ClickHouse supports <code>gzip</code>, <code>br</code>, and <code>deflate</code> <a href=https://en.wikipedia.org/wiki/HTTP_compression#Content-Encoding_tokens rel="external nofollow noreferrer">compression methods</a>. To enable HTTP compression, you must use the ClickHouse <a href=../../operations/settings/settings/#settings-enable_http_compression>enable_http_compression</a> setting. You can configure the data compression level in the <a href=#settings-http_zlib_compression_level>http_zlib_compression_level</a> setting for all the compression methods.</p> <p>You can use this to reduce network traffic when transmitting a large amount of data, or for creating dumps that are immediately compressed.</p> <p>Examples of sending data with compression:</p> <div class=codehilite><pre><span></span><code><span class=c1>#Sending data to the server:</span>
$ curl -vsS <span class=s2>&quot;http://localhost:8123/?enable_http_compression=1&quot;</span> -d <span class=s1>&#39;SELECT number FROM system.numbers LIMIT 10&#39;</span> -H <span class=s1>&#39;Accept-Encoding: gzip&#39;</span>

<span class=c1>#Sending data to the client:</span>
$ <span class=nb>echo</span> <span class=s2>&quot;SELECT 1&quot;</span> <span class=p>|</span> gzip -c <span class=p>|</span> curl -sS --data-binary @- -H <span class=s1>&#39;Content-Encoding: gzip&#39;</span> <span class=s1>&#39;http://localhost:8123/&#39;</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Some HTTP clients might decompress data from the server by default (with <code>gzip</code> and <code>deflate</code>) and you might get decompressed data even if you use the compression settings correctly.</p> </div> <p>You can use the ‘database’ URL parameter to specify the default database.</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;SELECT number FROM numbers LIMIT 10&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?database=system&#39;</span> --data-binary @-
<span class=m>0</span>
<span class=m>1</span>
<span class=m>2</span>
<span class=m>3</span>
<span class=m>4</span>
<span class=m>5</span>
<span class=m>6</span>
<span class=m>7</span>
<span class=m>8</span>
<span class=m>9</span>
</code></pre></div> <p>By default, the database that is registered in the server settings is used as the default database. By default, this is the database called ‘default’. Alternatively, you can always specify the database using a dot before the table name.</p> <p>The username and password can be indicated in one of three ways:</p> <ol> <li>Using HTTP Basic Authentication. Example:</li> </ol> <!-- --> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;SELECT 1&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://user:password@localhost:8123/&#39;</span> -d @-
</code></pre></div> <ol> <li>In the ‘user’ and ‘password’ URL parameters. Example:</li> </ol> <!-- --> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;SELECT 1&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?user=user&amp;password=password&#39;</span> -d @-
</code></pre></div> <ol> <li>Using ‘X-ClickHouse-User’ and ‘X-ClickHouse-Key’ headers. Example:</li> </ol> <!-- --> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;SELECT 1&#39;</span> <span class=p>|</span> curl -H <span class=s1>&#39;X-ClickHouse-User: user&#39;</span> -H <span class=s1>&#39;X-ClickHouse-Key: password&#39;</span> <span class=s1>&#39;http://localhost:8123/&#39;</span> -d @-
</code></pre></div> <p>If the user name is not specified, the <code>default</code> name is used. If the password is not specified, the empty password is used.<br> You can also use the URL parameters to specify any settings for processing a single query or entire profiles of settings. Example:<a href="http://localhost:8123/?profile=web&amp;max">http://localhost:8123/?profile=web&amp;max</a>_rows_to_read=1000000000&amp;query=SELECT+1</p> <p>For more information, see the <a href=../../operations/settings/ >Settings</a> section.</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;SELECT number FROM system.numbers LIMIT 10&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?&#39;</span> --data-binary @-
<span class=m>0</span>
<span class=m>1</span>
<span class=m>2</span>
<span class=m>3</span>
<span class=m>4</span>
<span class=m>5</span>
<span class=m>6</span>
<span class=m>7</span>
<span class=m>8</span>
<span class=m>9</span>
</code></pre></div> <p>For information about other parameters, see the section “SET”.</p> <p>Similarly, you can use ClickHouse sessions in the HTTP protocol. To do this, you need to add the <code>session_id</code> GET parameter to the request. You can use any string as the session ID. By default, the session is terminated after 60 seconds of inactivity. To change this timeout, modify the <code>default_session_timeout</code> setting in the server configuration, or add the <code>session_timeout</code> GET parameter to the request. To check the session status, use the <code>session_check=1</code> parameter. Only one query at a time can be executed within a single session.</p> <p>You can receive information about the progress of a query in <code>X-ClickHouse-Progress</code> response headers. To do this, enable <a href=../../operations/settings/settings/#settings-send_progress_in_http_headers>send_progress_in_http_headers</a>. Example of the header sequence:</p> <div class=codehilite><pre><span></span><code>X-ClickHouse-Progress: {&quot;read_rows&quot;:&quot;2752512&quot;,&quot;read_bytes&quot;:&quot;240570816&quot;,&quot;total_rows_to_read&quot;:&quot;8880128&quot;}
X-ClickHouse-Progress: {&quot;read_rows&quot;:&quot;5439488&quot;,&quot;read_bytes&quot;:&quot;482285394&quot;,&quot;total_rows_to_read&quot;:&quot;8880128&quot;}
X-ClickHouse-Progress: {&quot;read_rows&quot;:&quot;8783786&quot;,&quot;read_bytes&quot;:&quot;819092887&quot;,&quot;total_rows_to_read&quot;:&quot;8880128&quot;}
</code></pre></div> <p>Possible header fields:</p> <ul> <li><code>read_rows</code> — Number of rows read.</li> <li><code>read_bytes</code> — Volume of data read in bytes.</li> <li><code>total_rows_to_read</code> — Total number of rows to be read.</li> <li><code>written_rows</code> — Number of rows written.</li> <li><code>written_bytes</code> — Volume of data written in bytes.</li> </ul> <p>Running requests don’t stop automatically if the HTTP connection is lost. Parsing and data formatting are performed on the server-side, and using the network might be ineffective.<br> The optional ‘query_id’ parameter can be passed as the query ID (any string). For more information, see the section “Settings, replace_running_query”.</p> <p>The optional ‘quota_key’ parameter can be passed as the quota key (any string). For more information, see the section “Quotas”.</p> <p>The HTTP interface allows passing external data (external temporary tables) for querying. For more information, see the section “External data for query processing”.</p> <h2 id=response-buffering>Response Buffering<a class=headerlink href=#response-buffering title="Permanent link">&para;</a></h2> <p>You can enable response buffering on the server-side. The <code>buffer_size</code> and <code>wait_end_of_query</code> URL parameters are provided for this purpose.</p> <p><code>buffer_size</code> determines the number of bytes in the result to buffer in the server memory. If a result body is larger than this threshold, the buffer is written to the HTTP channel, and the remaining data is sent directly to the HTTP channel.</p> <p>To ensure that the entire response is buffered, set <code>wait_end_of_query=1</code>. In this case, the data that is not stored in memory will be buffered in a temporary server file.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code>$ curl -sS <span class=s1>&#39;http://localhost:8123/?max_result_bytes=4000000&amp;buffer_size=3000000&amp;wait_end_of_query=1&#39;</span> -d <span class=s1>&#39;SELECT toUInt8(number) FROM system.numbers LIMIT 9000000 FORMAT RowBinary&#39;</span>
</code></pre></div> <p>Use buffering to avoid situations where a query processing error occurred after the response code and HTTP headers were sent to the client. In this situation, an error message is written at the end of the response body, and on the client-side, the error can only be detected at the parsing stage.</p> <h3 id=cli-queries-with-parameters>Queries with Parameters<a class=headerlink href=#cli-queries-with-parameters title="Permanent link">&para;</a></h3> <p>You can create a query with parameters and pass values for them from the corresponding HTTP request parameters. For more information, see <a href=../cli/#cli-queries-with-parameters>Queries with Parameters for CLI</a>.</p> <h3 id=example>Example<a class=headerlink href=#example title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code>$ curl -sS <span class=s2>&quot;&lt;address&gt;?param_id=2&amp;param_phrase=test&quot;</span> -d <span class=s2>&quot;SELECT * FROM table WHERE int_column = {id:UInt8} and string_column = {phrase:String}&quot;</span>
</code></pre></div> <h2 id=predefined_http_interface>Predefined HTTP Interface<a class=headerlink href=#predefined_http_interface title="Permanent link">&para;</a></h2> <p>ClickHouse supports specific queries through the HTTP interface. For example, you can write data to a table as follows:</p> <div class=codehilite><pre><span></span><code>$ <span class=nb>echo</span> <span class=s1>&#39;(4),(5),(6)&#39;</span> <span class=p>|</span> curl <span class=s1>&#39;http://localhost:8123/?query=INSERT%20INTO%20t%20VALUES&#39;</span> --data-binary @-
</code></pre></div> <p>ClickHouse also supports Predefined HTTP Interface which can help you more easy integration with third party tools like <a href=https://github.com/percona-lab/clickhouse_exporter rel="external nofollow noreferrer">Prometheus exporter</a>.</p> <p>Example:</p> <ul> <li>First of all, add this section to server configuration file:</li> </ul> <!-- --> <div class=codehilite><pre><span></span><code><span class=nt>&lt;http_handlers&gt;</span>
  <span class=nt>&lt;predefine_query_handler&gt;</span>
      <span class=nt>&lt;url&gt;</span>/metrics<span class=nt>&lt;/url&gt;</span>
        <span class=nt>&lt;method&gt;</span>GET<span class=nt>&lt;/method&gt;</span>
        <span class=nt>&lt;queries&gt;</span>
            <span class=nt>&lt;query&gt;</span>SELECT * FROM system.metrics LIMIT 5 FORMAT Template SETTINGS format_template_resultset = &#39;prometheus_template_output_format_resultset&#39;, format_template_row = &#39;prometheus_template_output_format_row&#39;, format_template_rows_between_delimiter = &#39;\n&#39;<span class=nt>&lt;/query&gt;</span>
        <span class=nt>&lt;/queries&gt;</span>
  <span class=nt>&lt;/predefine_query_handler&gt;</span>
<span class=nt>&lt;/http_handlers&gt;</span>
</code></pre></div> <ul> <li>You can now request the url directly for data in the Prometheus format:</li> </ul> <!-- --> <div class=codehilite><pre><span></span><code>curl -vvv <span class=s1>&#39;http://localhost:8123/metrics&#39;</span>
*   Trying ::1...
* Connected to localhost <span class=o>(</span>::1<span class=o>)</span> port <span class=m>8123</span> <span class=o>(</span><span class=c1>#0)</span>
&gt; GET /metrics HTTP/1.1
&gt; Host: localhost:8123
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 <span class=m>200</span> OK
&lt; Date: Wed, <span class=m>27</span> Nov <span class=m>2019</span> <span class=m>08</span>:54:25 GMT
&lt; Connection: Keep-Alive
&lt; Content-Type: text/plain<span class=p>;</span> <span class=nv>charset</span><span class=o>=</span>UTF-8
&lt; X-ClickHouse-Server-Display-Name: i-tl62qd0o
&lt; Transfer-Encoding: chunked
&lt; X-ClickHouse-Query-Id: f39235f6-6ed7-488c-ae07-c7ceafb960f6
&lt; Keep-Alive: <span class=nv>timeout</span><span class=o>=</span><span class=m>3</span>
&lt; X-ClickHouse-Summary: <span class=o>{</span><span class=s2>&quot;read_rows&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;read_bytes&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;written_rows&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;written_bytes&quot;</span>:<span class=s2>&quot;0&quot;</span>,<span class=s2>&quot;total_rows_to_read&quot;</span>:<span class=s2>&quot;0&quot;</span><span class=o>}</span>
&lt;
<span class=c1># HELP &quot;Query&quot; &quot;Number of executing queries&quot;</span>
<span class=c1># TYPE &quot;Query&quot; counter</span>
<span class=s2>&quot;Query&quot;</span> <span class=m>1</span>

<span class=c1># HELP &quot;Merge&quot; &quot;Number of executing background merges&quot;</span>
<span class=c1># TYPE &quot;Merge&quot; counter</span>
<span class=s2>&quot;Merge&quot;</span> <span class=m>0</span>

<span class=c1># HELP &quot;PartMutation&quot; &quot;Number of mutations (ALTER DELETE/UPDATE)&quot;</span>
<span class=c1># TYPE &quot;PartMutation&quot; counter</span>
<span class=s2>&quot;PartMutation&quot;</span> <span class=m>0</span>

<span class=c1># HELP &quot;ReplicatedFetch&quot; &quot;Number of data parts being fetched from replica&quot;</span>
<span class=c1># TYPE &quot;ReplicatedFetch&quot; counter</span>
<span class=s2>&quot;ReplicatedFetch&quot;</span> <span class=m>0</span>

<span class=c1># HELP &quot;ReplicatedSend&quot; &quot;Number of data parts being sent to replicas&quot;</span>
<span class=c1># TYPE &quot;ReplicatedSend&quot; counter</span>
<span class=s2>&quot;ReplicatedSend&quot;</span> <span class=m>0</span>

* Connection <span class=c1>#0 to host localhost left intact</span>
</code></pre></div> <p>As you can see from the example, if <code>&lt;http_handlers&gt;</code> is configured in the config.xml file, ClickHouse will match the HTTP requests received to the predefined type in <code>&lt;http_handlers&gt;</code>, then ClickHouse will execute the corresponding predefined query if the match is successful.</p> <p>Now <code>&lt;http_handlers&gt;</code> can configure <code>&lt;root_handler&gt;</code>, <code>&lt;ping_handler&gt;</code>, <code>&lt;replicas_status_handler&gt;</code>, <code>&lt;dynamic_query_handler&gt;</code> and <code>&lt;no_handler_description&gt;</code> .</p> <h2 id=root_handler>root_handler<a class=headerlink href=#root_handler title="Permanent link">&para;</a></h2> <p><code>&lt;root_handler&gt;</code> returns the specified content for the root path request. The specific return content is configured by <code>http_server_default_response</code> in config.xml. if not specified, return <strong>Ok.</strong></p> <p><code>http_server_default_response</code> is not defined and an HTTP request is sent to ClickHouse. The result is as follows:</p> <div class=codehilite><pre><span></span><code><span class=nt>&lt;http_handlers&gt;</span>
    <span class=nt>&lt;root_handler/&gt;</span>
<span class=nt>&lt;/http_handlers&gt;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123&#39;</span>
Ok.
</code></pre></div> <p><code>http_server_default_response</code> is defined and an HTTP request is sent to ClickHouse. The result is as follows:</p> <div class=codehilite><pre><span></span><code><span class=nt>&lt;http_server_default_response&gt;</span><span class=cp>&lt;![CDATA[&lt;html ng-app=&quot;SMI2&quot;&gt;&lt;head&gt;&lt;base href=&quot;http://ui.tabix.io/&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div ui-view=&quot;&quot; class=&quot;content-ui&quot;&gt;&lt;/div&gt;&lt;script src=&quot;http://loader.tabix.io/master.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]&gt;</span><span class=nt>&lt;/http_server_default_response&gt;</span>

<span class=nt>&lt;http_handlers&gt;</span>
    <span class=nt>&lt;root_handler/&gt;</span>
<span class=nt>&lt;/http_handlers&gt;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>$ curl &#39;http://localhost:8123&#39;
<span class=nt>&lt;html</span> <span class=na>ng-app=</span><span class=s>&quot;SMI2&quot;</span><span class=nt>&gt;&lt;head&gt;&lt;base</span> <span class=na>href=</span><span class=s>&quot;http://ui.tabix.io/&quot;</span><span class=nt>&gt;&lt;/head&gt;&lt;body&gt;&lt;div</span> <span class=na>ui-view=</span><span class=s>&quot;&quot;</span> <span class=na>class=</span><span class=s>&quot;content-ui&quot;</span><span class=nt>&gt;&lt;/div&gt;&lt;script</span> <span class=na>src=</span><span class=s>&quot;http://loader.tabix.io/master.js&quot;</span><span class=nt>&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</span>%
</code></pre></div> <h2 id=ping_handler>ping_handler<a class=headerlink href=#ping_handler title="Permanent link">&para;</a></h2> <p><code>&lt;ping_handler&gt;</code> can be used to probe the health of the current ClickHouse Server. When the ClickHouse HTTP Server is normal, accessing ClickHouse through <code>&lt;ping_handler&gt;</code> will return <strong>Ok.</strong>.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code><span class=nt>&lt;http_handlers&gt;</span>
    <span class=nt>&lt;ping_handler&gt;</span>/ping<span class=nt>&lt;/ping_handler&gt;</span>
<span class=nt>&lt;/http_handlers&gt;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123/ping&#39;</span>
Ok.
</code></pre></div> <h2 id=replicas_status_handler>replicas_status_handler<a class=headerlink href=#replicas_status_handler title="Permanent link">&para;</a></h2> <p><code>&lt;replicas_status_handler&gt;</code> is used to detect the state of the replica node and return <strong>Ok.</strong> if the replica node has no delay. If there is a delay, return the specific delay. The value of <code>&lt;replicas_status_handler&gt;</code> supports customization. If you do not specify <code>&lt;replicas_status_handler&gt;</code>, ClickHouse default setting <code>&lt;replicas_status_handler&gt;</code> is <strong>/replicas_status</strong>.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code><span class=nt>&lt;http_handlers&gt;</span>
    <span class=nt>&lt;replicas_status_handler&gt;</span>/replicas_status<span class=nt>&lt;/replicas_status_handler&gt;</span>
<span class=nt>&lt;/http_handlers&gt;</span>
</code></pre></div> <p>No delay case:</p> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123/replicas_status&#39;</span>
Ok.
</code></pre></div> <p>Delayed case:</p> <div class=codehilite><pre><span></span><code>$ curl <span class=s1>&#39;http://localhost:8123/replicas_status&#39;</span>
db.stats:  Absolute delay: <span class=m>22</span>. Relative delay: <span class=m>22</span>.
</code></pre></div> <h2 id=predefined_query_handler>predefined_query_handler<a class=headerlink href=#predefined_query_handler title="Permanent link">&para;</a></h2> <p>You can configure <code>&lt;method&gt;</code>, <code>&lt;headers&gt;</code>, <code>&lt;url&gt;</code> and <code>&lt;queries&gt;</code> in <code>&lt;predefined_query_handler&gt;</code>.</p> <p><code>&lt;method&gt;</code> is responsible for matching the method part of the HTTP request. <code>&lt;method&gt;</code> fully conforms to the definition of <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods rel="external nofollow noreferrer">method</a> in the HTTP protocol. It is an optional configuration. If it is not defined in the configuration file, it does not match the method portion of the HTTP request</p> <p><code>&lt;url&gt;</code> is responsible for matching the url part of the HTTP request. It is compatible with <a href=https://github.com/google/re2 rel="external nofollow noreferrer">RE2</a>’s regular expressions. It is an optional configuration. If it is not defined in the configuration file, it does not match the url portion of the HTTP request</p> <p><code>&lt;headers&gt;</code> is responsible for matching the header part of the HTTP request. It is compatible with RE2’s regular expressions. It is an optional configuration. If it is not defined in the configuration file, it does not match the header portion of the HTTP request</p> <p><code>&lt;queries&gt;</code> value is a predefined query of <code>&lt;predefined_query_handler&gt;</code>, which is executed by ClickHouse when an HTTP request is matched and the result of the query is returned. It is a must configuration.</p> <p><code>&lt;predefined_query_handler&gt;</code> supports setting Settings and query_params values.</p> <p>The following example defines the values of <code>max_threads</code> and <code>max_alter_threads</code> settings, then queries the system table to check whether these settings were set successfully.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code><span class=nt>&lt;root_handlers&gt;</span>
    <span class=nt>&lt;predefined_query_handler&gt;</span>
        <span class=nt>&lt;method&gt;</span>GET<span class=nt>&lt;/method&gt;</span>
        <span class=nt>&lt;headers&gt;</span>
            <span class=nt>&lt;XXX&gt;</span>TEST_HEADER_VALUE<span class=nt>&lt;/XXX&gt;</span>
            <span class=nt>&lt;PARAMS_XXX&gt;</span><span class=cp>&lt;![CDATA[(?P&lt;name_1&gt;[^/]+)(/(?P&lt;name_2&gt;[^/]+))?]]&gt;</span><span class=nt>&lt;/PARAMS_XXX&gt;</span>
        <span class=nt>&lt;/headers&gt;</span>
        <span class=nt>&lt;url&gt;</span><span class=cp>&lt;![CDATA[/query_param_with_url/\w+/(?P&lt;name_1&gt;[^/]+)(/(?P&lt;name_2&gt;[^/]+))?]]&gt;</span><span class=nt>&lt;/url&gt;</span>
        <span class=nt>&lt;queries&gt;</span>
            <span class=nt>&lt;query&gt;</span>SELECT value FROM system.settings WHERE name = {name_1:String}<span class=nt>&lt;/query&gt;</span>
            <span class=nt>&lt;query&gt;</span>SELECT name, value FROM system.settings WHERE name = {name_2:String}<span class=nt>&lt;/query&gt;</span>
        <span class=nt>&lt;/queries&gt;</span>
    <span class=nt>&lt;/predefined_query_handler&gt;</span>
<span class=nt>&lt;/root_handlers&gt;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>$ curl -H <span class=s1>&#39;XXX:TEST_HEADER_VALUE&#39;</span> -H <span class=s1>&#39;PARAMS_XXX:max_threads&#39;</span> <span class=s1>&#39;http://localhost:8123/query_param_with_url/1/max_threads/max_alter_threads?max_threads=1&amp;max_alter_threads=2&#39;</span>
<span class=m>1</span>
max_alter_threads   <span class=m>2</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In one <code>&lt;predefined_query_handler&gt;</code>, one <code>&lt;queries&gt;</code> only supports one <code>&lt;query&gt;</code> of an insert type.</p> </div> <h2 id=dynamic_query_handler>dynamic_query_handler<a class=headerlink href=#dynamic_query_handler title="Permanent link">&para;</a></h2> <p><code>&lt;dynamic_query_handler&gt;</code> than <code>&lt;predefined_query_handler&gt;</code> increased <code>&lt;query_param_name&gt;</code> .</p> <p>ClickHouse extracts and executes the value corresponding to the <code>&lt;query_param_name&gt;</code> value in the url of the HTTP request.<br> ClickHouse default setting <code>&lt;query_param_name&gt;</code> is <code>/query</code> . It is an optional configuration. If there is no definition in the configuration file, the param is not passed in.</p> <p>To experiment with this functionality, the example defines the values of max_threads and max_alter_threads and queries whether the Settings were set successfully.<br> The difference is that in <code>&lt;predefined_query_handler&gt;</code>, query is wrote in the configuration file. But in <code>&lt;dynamic_query_handler&gt;</code>, query is written in the form of param of the HTTP request.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code><span class=nt>&lt;root_handlers&gt;</span>
    <span class=nt>&lt;dynamic_query_handler&gt;</span>
        <span class=nt>&lt;headers&gt;</span>
            <span class=nt>&lt;XXX&gt;</span>TEST_HEADER_VALUE_DYNAMIC<span class=nt>&lt;/XXX&gt;</span>
            <span class=nt>&lt;PARAMS_XXX&gt;</span><span class=cp>&lt;![CDATA[(?P&lt;param_name_1&gt;[^/]+)(/(?P&lt;param_name_2&gt;[^/]+))?]]&gt;</span><span class=nt>&lt;/PARAMS_XXX&gt;</span>
        <span class=nt>&lt;/headers&gt;</span>
        <span class=nt>&lt;query_param_name&gt;</span>query_param<span class=nt>&lt;/query_param_name&gt;</span>
    <span class=nt>&lt;/dynamic_query_handler&gt;</span>
<span class=nt>&lt;/root_handlers&gt;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>$ curl  -H <span class=s1>&#39;XXX:TEST_HEADER_VALUE_DYNAMIC&#39;</span> -H <span class=s1>&#39;PARAMS_XXX:max_threads&#39;</span> <span class=s1>&#39;http://localhost:8123/?query_param=SELECT%20value%20FROM%20system.settings%20where%20name%20=%20%7Bname_1:String%7D%20OR%20name%20=%20%7Bname_2:String%7D&amp;max_threads=1&amp;max_alter_threads=2&amp;param_name_2=max_alter_threads&#39;</span>
<span class=m>1</span>
<span class=m>2</span>
</code></pre></div> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/c1558f8c18e2727c5991cf923ee79710de89d1d0 rel="external nofollow noreferrer" target=_blank class=text-reset>c1558f8c18</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table of Contents</label> <a href=#response-buffering title="Response Buffering" class="nav-link text-wrap d-inline-block w-100"> Response Buffering </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#cli-queries-with-parameters title="Queries with Parameters" class="nav-link text-wrap d-inline-block w-100"> Queries with Parameters </a> <a href=#example title=Example class="nav-link text-wrap d-inline-block w-100"> Example </a> </nav> <a href=#predefined_http_interface title="Predefined HTTP Interface" class="nav-link text-wrap d-inline-block w-100"> Predefined HTTP Interface </a> <a href=#root_handler title=root_handler class="nav-link text-wrap d-inline-block w-100"> root_handler </a> <a href=#ping_handler title=ping_handler class="nav-link text-wrap d-inline-block w-100"> ping_handler </a> <a href=#replicas_status_handler title=replicas_status_handler class="nav-link text-wrap d-inline-block w-100"> replicas_status_handler </a> <a href=#predefined_query_handler title=predefined_query_handler class="nav-link text-wrap d-inline-block w-100"> predefined_query_handler </a> <a href=#dynamic_query_handler title=dynamic_query_handler class="nav-link text-wrap d-inline-block w-100"> dynamic_query_handler </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>