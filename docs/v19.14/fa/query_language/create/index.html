<!DOCTYPE html><html lang=fa data-version=v19.14 data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>CREATE - مستندات v19.14ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="CREATE - مستندات v19.14ClickHouse"><meta property=og:description content="CREATE DATABASE Creates database. CREATE DATABASE [IF NOT EXISTS] db_name [ON CLUSTER cluster] [ENGINE = engine(...)] Cl"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="CREATE - مستندات v19.14ClickHouse"><meta name=description content="CREATE DATABASE Creates database. CREATE DATABASE [IF NOT EXISTS] db_name [ON CLUSTER cluster] [ENGINE = engine(...)] Cl"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=rtl data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> CREATE </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fa/query_language/create.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/fa.svg alt=فارسی title=فارسی width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/v19.14/en/query_language/create/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/v19.14/zh/query_language/create/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/v19.14/es/query_language/create/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/v19.14/fr/query_language/create/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/v19.14/ru/query_language/create/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/v19.14/ja/query_language/create/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/v19.14/fa/query_language/create/ class="dropdown-item disabled"> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class="container-fluid text-right"> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="چند صفحه یا یک صفحه"> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="نسخه چند صفحه ای" title="نسخه چند صفحه ای"> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="نسخه تک صفحه ای" title="نسخه تک صفحه ای"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> نسخه: <span class=text-light>v19.14</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/fa/ class=dropdown-item> <span class=text-light>جدیدترین</span> </a> <a href=/docs/v20.3/fa/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/fa/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/fa/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/fa/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/fa/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/fa/ class="dropdown-item disable">v19.14</a> <a href=/docs/v19.13/fa/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/fa/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/fa/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/fa/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/fa/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../ title="ClickHouse چیست؟" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse چیست؟</a> <a href=../../introduction/distinctive_features/ title=" ویژگی های برجسته ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> ویژگی های برجسته ClickHouse</a> <a href=../../introduction/features_considered_disadvantages/ title=" ویژگی های از ClickHouse که می تواند معایبی باشد" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> ویژگی های از ClickHouse که می تواند معایبی باشد</a> <a href=../../introduction/performance/ title=Performance class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a> <a href=../../introduction/ya_metrika_task/ title="The Yandex.Metrica task" class="nav-link text-light text-wrap d-inline-block w-100 px-0">The Yandex.Metrica task</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Getting started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting started</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/ title=" شروع به کار" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> شروع به کار</a> <a href=#sidebar-sidebar-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-2 title="Example datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example datasets</a> <div id=sidebar-sidebar-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/example_datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../getting_started/example_datasets/nyc_taxi/ title=" داده های تاکسی New York" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> داده های تاکسی New York</a> <a href=../../getting_started/example_datasets/amplab_benchmark/ title=" بنچمارک AMPLab Big Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> بنچمارک AMPLab Big Data</a> <a href=../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../getting_started/example_datasets/criteo/ title=" ترابایت از لاگ های کلیک از سرویس Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> ترابایت از لاگ های کلیک از سرویس Criteo</a> <a href=../../getting_started/example_datasets/star_schema/ title=" بنچمارک Star Schema" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> بنچمارک Star Schema</a> <a href=../../getting_started/example_datasets/metrica/ title="Yandex.Metrica Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica Data</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/ title="Interface ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interface ها</a> <a href=../../interfaces/cli/ title=" کلاینت Command-line" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> کلاینت Command-line</a> <a href=../../interfaces/tcp/ title="Native interface (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Native interface (TCP)</a> <a href=../../interfaces/http/ title="HTTP interface" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP interface</a> <a href=../../interfaces/formats/ title=" فرمت های Input و Output" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> فرمت های Input و Output</a> <a href=../../interfaces/jdbc/ title=" درایور JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> درایور JDBC</a> <a href=../../interfaces/odbc/ title=" درایور ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> درایور ODBC</a> <a href=#sidebar-sidebar-3-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-8 title=Third-party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-party</a> <div id=sidebar-sidebar-3-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/client_libraries/ title="کتابخانه های مشتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کتابخانه های مشتری</a> <a href=../../interfaces/third-party/integrations/ title=یکپارچگی class="nav-link text-light text-wrap d-inline-block w-100 px-0">یکپارچگی</a> <a href=../../interfaces/third-party/gui/ title="رابط های بصری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط های بصری</a> <a href=../../interfaces/third-party/proxy/ title=پروکسی class="nav-link text-light text-wrap d-inline-block w-100 px-0">پروکسی</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title="Data types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data types</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../data_types/boolean/ title=" مقادیر Boolean" class="nav-link text-light text-wrap d-inline-block w-100 px-0"> مقادیر Boolean</a> <a href=../../data_types/string/ title=String class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a> <a href=../../data_types/fixedstring/ title=FixedString(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a> <a href=../../data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../data_types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../data_types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types_of_arguments...)</a> <a href=../../data_types/tuple/ title="Tuple(T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, ...)</a> <a href=../../data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-4-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-16 title="Nested data structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested data structures</a> <div id=sidebar-sidebar-4-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-4-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-17 title="Special data types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special data types</a> <div id=sidebar-sidebar-4-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/special_data_types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../data_types/special_data_types/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../data_types/special_data_types/nothing/ title=Nothing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a> </nav> </div> <a href=#sidebar-sidebar-4-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-18 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-4-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/domains/overview/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../database_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../operations/table_engines/replication/ title="Data Replication" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Replication</a> <a href=../../operations/table_engines/custom_partitioning_key/ title="Custom Partitioning Key" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Custom Partitioning Key</a> <a href=../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../operations/table_engines/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-6-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-6-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/log_family/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/table_engines/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../operations/table_engines/log/ title=Log class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a> <a href=../../operations/table_engines/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../operations/table_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../operations/table_engines/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../operations/table_engines/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/distributed/ title=Distributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a> <a href=../../operations/table_engines/external_data/ title="External data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External data</a> <a href=../../operations/table_engines/dictionary/ title=Dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a> <a href=../../operations/table_engines/merge/ title=Merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a> <a href=../../operations/table_engines/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../operations/table_engines/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../operations/table_engines/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../operations/table_engines/join/ title=Join class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a> <a href=../../operations/table_engines/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../operations/table_engines/view/ title=View class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a> <a href=../../operations/table_engines/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../operations/table_engines/memory/ title=Memory class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a> <a href=../../operations/table_engines/buffer/ title=Buffer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../query_language/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../query_language/create/ title=CREATE class="nav-link text-white active text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../query_language/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../query_language/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../query_language/misc/ title="Other Kinds of Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Other Kinds of Queries</a> <a href=#sidebar-sidebar-7-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-8 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-7-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../query_language/functions/arithmetic_functions/ title=Arithmetic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arithmetic</a> <a href=../../query_language/functions/comparison_functions/ title=Comparison class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparison</a> <a href=../../query_language/functions/logical_functions/ title=Logical class="nav-link text-light text-wrap d-inline-block w-100 px-0">Logical</a> <a href=../../query_language/functions/type_conversion_functions/ title="Type Conversion" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Type Conversion</a> <a href=../../query_language/functions/date_time_functions/ title="Working with Dates and Times" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Dates and Times</a> <a href=../../query_language/functions/string_functions/ title="Working with strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with strings</a> <a href=../../query_language/functions/string_search_functions/ title="For Searching Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Searching Strings</a> <a href=../../query_language/functions/string_replace_functions/ title="For Replacing in Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Replacing in Strings</a> <a href=../../query_language/functions/conditional_functions/ title="Conditional " class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conditional </a> <a href=../../query_language/functions/math_functions/ title=Mathematical class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mathematical</a> <a href=../../query_language/functions/rounding_functions/ title=Rounding class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rounding</a> <a href=../../query_language/functions/array_functions/ title="Working with Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Arrays</a> <a href=../../query_language/functions/splitting_merging_functions/ title="Splitting and Merging Strings and Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Splitting and Merging Strings and Arrays</a> <a href=../../query_language/functions/bit_functions/ title=Bit class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bit</a> <a href=../../query_language/functions/bitmap_functions/ title=Bitmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bitmap</a> <a href=../../query_language/functions/hash_functions/ title=Hash class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a> <a href=../../query_language/functions/random_functions/ title="Generating Pseudo-Random Numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generating Pseudo-Random Numbers</a> <a href=../../query_language/functions/encoding_functions/ title=Encoding class="nav-link text-light text-wrap d-inline-block w-100 px-0">Encoding</a> <a href=../../query_language/functions/uuid_functions/ title="Working with UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with UUID</a> <a href=../../query_language/functions/url_functions/ title="Working with URLs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with URLs</a> <a href=../../query_language/functions/ip_address_functions/ title="Working with IP Addresses" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with IP Addresses</a> <a href=../../query_language/functions/json_functions/ title="Working with JSON." class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with JSON.</a> <a href=../../query_language/functions/higher_order_functions/ title=Higher-Order class="nav-link text-light text-wrap d-inline-block w-100 px-0">Higher-Order</a> <a href=../../query_language/functions/ext_dict_functions/ title="Working with External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with External Dictionaries</a> <a href=../../query_language/functions/ym_dict_functions/ title="Working with Yandex.Metrica Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Yandex.Metrica Dictionaries</a> <a href=../../query_language/functions/in_functions/ title="Implementing the IN Operator" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implementing the IN Operator</a> <a href=../../query_language/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../query_language/functions/geo/ title="Working with geographical coordinates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with geographical coordinates</a> <a href=../../query_language/functions/functions_for_nulls/ title="Working with Nullable arguments" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Nullable arguments</a> <a href=../../query_language/functions/machine_learning_functions/ title="Machine Learning Functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Machine Learning Functions</a> <a href=../../query_language/functions/other_functions/ title=Other class="nav-link text-light text-wrap d-inline-block w-100 px-0">Other</a> </nav> </div> <a href=#sidebar-sidebar-7-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-9 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-7-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/agg_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../query_language/agg_functions/reference/ title=Reference class="nav-link text-light text-wrap d-inline-block w-100 px-0">Reference</a> <a href=../../query_language/agg_functions/combinators/ title="Aggregate function combinators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aggregate function combinators</a> <a href=../../query_language/agg_functions/parametric_functions/ title="Parametric aggregate functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Parametric aggregate functions</a> </nav> </div> <a href=#sidebar-sidebar-7-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-10 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-7-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/table_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../query_language/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../query_language/table_functions/merge/ title=merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a> <a href=../../query_language/table_functions/numbers/ title=numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a> <a href=../../query_language/table_functions/remote/ title=remote class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote</a> <a href=../../query_language/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../query_language/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../query_language/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../query_language/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> </nav> </div> <a href=#sidebar-sidebar-7-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-11 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-7-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/dicts/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-7-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-11-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-7-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/dicts/external_dicts/ title="General Description" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Description</a> <a href=../../query_language/dicts/external_dicts_dict/ title="Configuring an External Dictionary" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuring an External Dictionary</a> <a href=../../query_language/dicts/external_dicts_dict_layout/ title="Storing Dictionaries in Memory" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Storing Dictionaries in Memory</a> <a href=../../query_language/dicts/external_dicts_dict_lifetime/ title="Dictionary Updates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Updates</a> <a href=../../query_language/dicts/external_dicts_dict_sources/ title="Sources of External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sources of External Dictionaries</a> <a href=../../query_language/dicts/external_dicts_dict_structure/ title="Dictionary Key and Fields" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Key and Fields</a> </nav> </div> <a href=../../query_language/dicts/internal_dicts/ title="Internal Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Internal Dictionaries</a> <a href=../../query_language/operators/ title=Operators class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operators</a> <a href=../../query_language/syntax/ title="General Syntax" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Syntax</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/requirements/ title=Requirements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requirements</a> <a href=../../operations/monitoring/ title=Monitoring class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoring</a> <a href=../../operations/troubleshooting/ title=Troubleshooting class="nav-link text-light text-wrap d-inline-block w-100 px-0">Troubleshooting</a> <a href=../../operations/tips/ title="Usage Recommendations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Usage Recommendations</a> <a href=../../operations/update/ title="ClickHouse Update" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Update</a> <a href=../../operations/access_rights/ title="Access Rights" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Access Rights</a> <a href=../../operations/backup/ title="Data Backup" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Backup</a> <a href=../../operations/configuration_files/ title="Configuration Files" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuration Files</a> <a href=../../operations/quotas/ title=Quotas class="nav-link text-light text-wrap d-inline-block w-100 px-0">Quotas</a> <a href=../../operations/system_tables/ title="System Tables" class="nav-link text-light text-wrap d-inline-block w-100 px-0">System Tables</a> <a href=#sidebar-sidebar-8-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-12 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server_settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/server_settings/settings/ title="Server Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Server Settings</a> </nav> </div> <a href=#sidebar-sidebar-8-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-13 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/settings/permissions_for_queries/ title="Permissions for Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permissions for Queries</a> <a href=../../operations/settings/query_complexity/ title="Restrictions on Query Complexity" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restrictions on Query Complexity</a> <a href=../../operations/settings/settings/ title=Settings class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings</a> <a href=../../operations/settings/settings_profiles/ title="Settings Profiles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings Profiles</a> <a href=../../operations/settings/settings_users/ title="User Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">User Settings</a> <a href=../../operations/settings/constraints_on_settings/ title="Constraints on Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Constraints on Settings</a> </nav> </div> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utils/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../operations/utils/clickhouse-copier/ title=clickhouse-copier class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a> <a href=../../operations/utils/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/general/ title="General Questions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Questions</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/architecture/ title="Overview of ClickHouse Architecture" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview of ClickHouse Architecture</a> <a href=../../development/build/ title="How to Build ClickHouse on Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux</a> <a href=../../development/build_osx/ title="How to Build ClickHouse on Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Mac OS X</a> <a href=../../development/style/ title="How to Write C++ code" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Write C++ code</a> <a href=../../development/tests/ title="How to Run ClickHouse Tests" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Run ClickHouse Tests</a> <a href=../../development/contrib/ title="Third-Party Libraries Used" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party Libraries Used</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../roadmap/ title=Roadmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a> <a href=../../changelog/ title=Changelog class="nav-link text-light text-wrap d-inline-block w-100 px-0">Changelog</a> <a href=../../security_changelog/ title="Security Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security Changelog</a> </nav> </div> <a href=../../single/clickhouse_fa.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="نسخه PDF" title="نسخه PDF" height=24 class="d-block mr-1 float-left"><div>نسخه PDF</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <h2 id=query_language-create-database>CREATE DATABASE<a class=headerlink href=#query_language-create-database title="Permanent link">&para;</a></h2> <p>Creates database.</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>DATABASE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>db_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>(...)]</span>
</code></pre></div> <h3 id=clauses>Clauses<a class=headerlink href=#clauses title="Permanent link">&para;</a></h3> <ul> <li> <p><code>IF NOT EXISTS</code></p> <p>If the <code>db_name</code> database already exists, then ClickHouse doesn't create a new database and:</p> <ul> <li>Doesn't throw an exception if clause is specified.</li> <li>Throws an exception if clause isn't specified.</li> </ul> </li> <li> <p><code>ON CLUSTER</code></p> <p>ClickHouse creates the <code>db_name</code> database on all the servers of a specified cluster.</p> </li> <li> <p><code>ENGINE</code></p> <ul> <li> <p><a href=../../database_engines/mysql/ >MySQL</a></p> <p>Allows you to retrieve data from the remote MySQL server.</p> </li> </ul> <p>By default, ClickHouse uses its own <a href=../../database_engines/ >database engine</a>.</p> </li> </ul> <h2 id=create-table-query>CREATE TABLE<a class=headerlink href=#create-table-query title="Permanent link">&para;</a></h2> <p>The <code>CREATE TABLE</code> query can have several forms.</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>]</span> <span class=p>[</span><span class=n>compression_codec</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=n>name2</span> <span class=p>[</span><span class=n>type2</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr2</span><span class=p>]</span> <span class=p>[</span><span class=n>compression_codec</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span> <span class=n>expr2</span><span class=p>],</span>
    <span class=p>...</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span>
</code></pre></div> <p>Creates a table named 'name' in the 'db' database or the current database if 'db' is not set, with the structure specified in brackets and the 'engine' engine.<br> The structure of the table is a list of column descriptions. If indexes are supported by the engine, they are indicated as parameters for the table engine.</p> <p>A column description is <code>name type</code> in the simplest case. Example: <code>RegionID UInt32</code>.<br> Expressions can also be defined for default values (see below).</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=k>AS</span> <span class=p>[</span><span class=n>db2</span><span class=p>.]</span><span class=n>name2</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>]</span>
</code></pre></div> <p>Creates a table with the same structure as another table. You can specify a different engine for the table. If the engine is not specified, the same engine will be used as for the <code>db2.name2</code> table.</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=k>AS</span> <span class=n>table_fucntion</span><span class=p>()</span>
</code></pre></div> <p>Creates a table with the same structure and data as the value returned by table function.</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</code></pre></div> <p>Creates a table with a structure like the result of the <code>SELECT</code> query, with the 'engine' engine, and fills it with data from SELECT.</p> <p>In all cases, if <code>IF NOT EXISTS</code> is specified, the query won't return an error if the table already exists. In this case, the query won't do anything.</p> <p>There can be other clauses after the <code>ENGINE</code> clause in the query. See detailed documentation on how to create tables in the descriptions of <a href=../../operations/table_engines/#table_engines>table engines</a>.</p> <h3 id=create-default-values>Default Values<a class=headerlink href=#create-default-values title="Permanent link">&para;</a></h3> <p>The column description can specify an expression for a default value, in one of the following ways:<code>DEFAULT expr</code>, <code>MATERIALIZED expr</code>, <code>ALIAS expr</code>.<br> Example: <code>URLDomain String DEFAULT domain(URL)</code>.</p> <p>If an expression for the default value is not defined, the default values will be set to zeros for numbers, empty strings for strings, empty arrays for arrays, and <code>0000-00-00</code> for dates or <code>0000-00-00 00:00:00</code> for dates with time. NULLs are not supported.</p> <p>If the default expression is defined, the column type is optional. If there isn't an explicitly defined type, the default expression type is used. Example: <code>EventDate DEFAULT toDate(EventTime)</code> – the 'Date' type will be used for the 'EventDate' column.</p> <p>If the data type and default expression are defined explicitly, this expression will be cast to the specified type using type casting functions. Example: <code>Hits UInt32 DEFAULT 0</code> means the same thing as <code>Hits UInt32 DEFAULT toUInt32(0)</code>.</p> <p>Default expressions may be defined as an arbitrary expression from table constants and columns. When creating and changing the table structure, it checks that expressions don't contain loops. For INSERT, it checks that expressions are resolvable – that all columns they can be calculated from have been passed.</p> <p><code>DEFAULT expr</code></p> <p>Normal default value. If the INSERT query doesn't specify the corresponding column, it will be filled in by computing the corresponding expression.</p> <p><code>MATERIALIZED expr</code></p> <p>Materialized expression. Such a column can't be specified for INSERT, because it is always calculated.<br> For an INSERT without a list of columns, these columns are not considered.<br> In addition, this column is not substituted when using an asterisk in a SELECT query. This is to preserve the invariant that the dump obtained using <code>SELECT *</code> can be inserted back into the table using INSERT without specifying the list of columns.</p> <p><code>ALIAS expr</code></p> <p>Synonym. Such a column isn't stored in the table at all.<br> Its values can't be inserted in a table, and it is not substituted when using an asterisk in a SELECT query.<br> It can be used in SELECTs if the alias is expanded during query parsing.</p> <p>When using the ALTER query to add new columns, old data for these columns is not written. Instead, when reading old data that does not have values for the new columns, expressions are computed on the fly by default. However, if running the expressions requires different columns that are not indicated in the query, these columns will additionally be read, but only for the blocks of data that need it.</p> <p>If you add a new column to a table but later change its default expression, the values used for old data will change (for data where values were not stored on the disk). Note that when running background merges, data for columns that are missing in one of the merging parts is written to the merged part.</p> <p>It is not possible to set default values for elements in nested data structures.</p> <h3 id=constraints>Constraints<a class=headerlink href=#constraints title="Permanent link">&para;</a></h3> <p>WARNING: This feature is experimental. Correct work is not guaranteed on non-MergeTree family engines.</p> <p>Along with columns descriptions constraints could be defined:</p> <p>``sql<br> CREATE TABLE [IF NOT EXISTS] [db.]table_name [ON CLUSTER cluster]<br> (<br> name1 [type1] [DEFAULT|MATERIALIZED|ALIAS expr1] [compression_codec] [TTL expr1],<br> ...<br> CONSTRAINT constraint_name_1 CHECK boolean_expr_1,<br> ...<br> ) ENGINE = engine</p> <div class=codehilite><pre><span></span><code><span class=err>`</span><span class=n>boolean_expr_1</span><span class=err>`</span> <span class=n>could</span> <span class=n>by</span> <span class=n>any</span> <span class=n>boolean</span> <span class=n>expression</span><span class=p>.</span> <span class=n>If</span> <span class=n>constraints</span> <span class=n>are</span> <span class=n>defined</span> <span class=k>for</span> <span class=n>the</span> <span class=n>table</span><span class=p>,</span> <span class=n>each</span> <span class=n>of</span> <span class=n>them</span> <span class=n>will</span> <span class=n>be</span> <span class=n>checked</span> <span class=k>for</span> <span class=n>every</span> <span class=n>row</span> <span class=k>in</span> <span class=err>`</span><span class=n>INSERT</span><span class=err>`</span> <span class=n>query</span><span class=p>.</span> <span class=n>If</span> <span class=n>any</span> <span class=n>constraint</span> <span class=n>is</span> <span class=n>not</span> <span class=n>satisfied</span> <span class=err>—</span> <span class=n>server</span> <span class=n>will</span> <span class=n>raise</span> <span class=n>an</span> <span class=n>exception</span> <span class=n>with</span> <span class=n>constraint</span> <span class=n>name</span> <span class=n>and</span> <span class=n>checking</span> <span class=n>expression</span><span class=p>.</span>

<span class=n>Adding</span> <span class=n>large</span> <span class=n>amount</span> <span class=n>of</span> <span class=n>constraints</span> <span class=n>can</span> <span class=n>negatively</span> <span class=n>affect</span> <span class=n>performance</span> <span class=n>of</span> <span class=n>big</span> <span class=err>`</span><span class=n>INSERT</span><span class=err>`</span> <span class=n>queries</span><span class=p>.</span>

<span class=cp>### TTL expression</span>

<span class=n>Defines</span> <span class=n>storage</span> <span class=n>time</span> <span class=k>for</span> <span class=n>values</span><span class=p>.</span> <span class=n>Can</span> <span class=n>be</span> <span class=n>specified</span> <span class=n>only</span> <span class=k>for</span> <span class=n>MergeTree</span><span class=o>-</span><span class=n>family</span> <span class=n>tables</span><span class=p>.</span> <span class=n>For</span> <span class=n>the</span> <span class=n>detailed</span> <span class=n>description</span><span class=p>,</span> <span class=n>see</span> <span class=p>[</span><span class=n>TTL</span> <span class=k>for</span> <span class=n>columns</span> <span class=n>and</span> <span class=n>tables</span><span class=p>](..</span><span class=o>/</span><span class=n>operations</span><span class=o>/</span><span class=n>table_engines</span><span class=o>/</span><span class=n>mergetree</span><span class=p>.</span><span class=n>md</span><span class=err>#</span><span class=n>table_engine</span><span class=o>-</span><span class=n>mergetree</span><span class=o>-</span><span class=n>ttl</span><span class=p>).</span>

<span class=cp>## Column Compression Codecs</span>

<span class=n>By</span> <span class=k>default</span><span class=p>,</span> <span class=n>ClickHouse</span> <span class=n>applies</span> <span class=n>to</span> <span class=n>columns</span> <span class=n>the</span> <span class=n>compression</span> <span class=n>method</span><span class=p>,</span> <span class=n>defined</span> <span class=k>in</span> <span class=p>[</span><span class=n>server</span> <span class=n>settings</span><span class=p>](..</span><span class=o>/</span><span class=n>operations</span><span class=o>/</span><span class=n>server_settings</span><span class=o>/</span><span class=n>settings</span><span class=p>.</span><span class=n>md</span><span class=err>#</span><span class=n>compression</span><span class=p>).</span> <span class=n>Also</span><span class=p>,</span> <span class=n>you</span> <span class=n>can</span> <span class=n>define</span> <span class=n>compression</span> <span class=n>method</span> <span class=k>for</span> <span class=n>each</span> <span class=n>individual</span> <span class=n>column</span> <span class=k>in</span> <span class=n>the</span> <span class=err>`</span><span class=n>CREATE</span> <span class=n>TABLE</span><span class=err>`</span> <span class=n>query</span><span class=p>.</span>
</code></pre></div> <p>CREATE TABLE codec_example<br> (<br> dt Date CODEC(ZSTD),<br> ts DateTime CODEC(LZ4HC),<br> float_value Float32 CODEC(NONE),<br> double_value Float64 CODEC(LZ4HC(9))<br> value Float32 CODEC(Delta, ZSTD)<br> )<br> ENGINE = <engine><br> ...</p> <div class=codehilite><pre><span></span><code><span class=k>If</span> <span class=n>a</span> <span class=n>codec</span> <span class=k>is</span> <span class=n>specified</span><span class=p>,</span> <span class=n>the</span> <span class=k>default</span> <span class=n>codec</span> <span class=n>doesn</span><span class=s1>&#39;t apply. Codecs can be combined in a pipeline, for example, `CODEC(Delta, ZSTD)`. To select the best codecs combination for you project, pass benchmarks, similar to described in the Altinity [New Encodings to Improve ClickHouse Efficiency](https://www.altinity.com/blog/2019/7/new-encodings-to-improve-clickhouse) article.</span>

<span class=s1>!!!warning</span>
<span class=s1>    You cannot decompress ClickHouse database files with external utilities, for example, `lz4`. Use the special utility, [clickhouse-compressor](https://github.com/yandex/ClickHouse/tree/master/dbms/programs/compressor).</span>

<span class=s1>Compression is supported for the table engines:</span>

<span class=s1>- [*MergeTree](../operations/table_engines/mergetree.md) family</span>
<span class=s1>- [*Log](../operations/table_engines/log_family.md) family</span>
<span class=s1>- [Set](../operations/table_engines/set.md)</span>
<span class=s1>- [Join](../operations/table_engines/join.md)</span>

<span class=s1>ClickHouse supports common purpose codecs and specialized codecs.</span>

<span class=s1>### Specialized codecs {#create-query-specialized-codecs}</span>

<span class=s1>These codecs are designed to make compression more effective using specifities of the data. Some of this codecs don&#39;</span><span class=n>t</span> <span class=n>compress</span> <span class=n>data</span> <span class=k>by</span> <span class=n>itself</span><span class=p>,</span> <span class=n>but</span> <span class=n>they</span> <span class=n>prepare</span> <span class=n>data</span> <span class=k>to</span> <span class=n>be</span> <span class=n>compressed</span> <span class=n>better</span> <span class=k>by</span> <span class=n>common</span> <span class=n>purpose</span> <span class=n>codecs</span><span class=p>.</span>

<span class=n>Specialized</span> <span class=n>codecs</span><span class=p>:</span>

<span class=o>-</span> <span class=ss>`Delta(delta_bytes)`</span> <span class=err>—</span> <span class=n>Compression</span> <span class=n>approach</span> <span class=k>in</span> <span class=n>which</span> <span class=n>raw</span> <span class=k>values</span> <span class=n>are</span> <span class=n>replaced</span> <span class=k>by</span> <span class=n>the</span> <span class=n>difference</span> <span class=n>of</span> <span class=n>two</span> <span class=n>neighboring</span> <span class=k>values</span><span class=p>,</span> <span class=n>except</span> <span class=k>for</span> <span class=n>the</span> <span class=n>first</span> <span class=n>value</span> <span class=n>that</span> <span class=n>stays</span> <span class=n>unchanged</span><span class=p>.</span> <span class=n>Up</span> <span class=k>to</span> <span class=ss>`delta_bytes`</span> <span class=n>are</span> <span class=n>used</span> <span class=k>for</span> <span class=n>storing</span> <span class=n>delta</span> <span class=k>values</span><span class=p>,</span> <span class=n>so</span> <span class=ss>`delta_bytes`</span> <span class=k>is</span> <span class=n>the</span> <span class=n>maximum</span> <span class=n>size</span> <span class=n>of</span> <span class=n>raw</span> <span class=k>values</span><span class=p>.</span> <span class=n>Possible</span> <span class=ss>`delta_bytes`</span> <span class=k>values</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>.</span> <span class=n>The</span> <span class=k>default</span> <span class=n>value</span> <span class=k>for</span> <span class=ss>`delta_bytes`</span> <span class=k>is</span> <span class=ss>`sizeof(type)`</span> <span class=k>if</span> <span class=n>equal</span> <span class=k>to</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=k>or</span> <span class=mi>8</span><span class=p>.</span> <span class=k>In</span> <span class=k>all</span> <span class=n>other</span> <span class=n>cases</span><span class=p>,</span> <span class=n>it</span><span class=s1>&#39;s 1.</span>
<span class=s1>- `DoubleDelta` — Calculates delta of deltas and writes it in compact binary form. Optimal compression rates are achieved for monotonic sequences with a constant stride, such as time series data. Can be used with any fixed-width type. Implements the algorithm used in Gorilla TSDB, extending it to support 64-bit types. Uses 1 extra bit for 32-byte deltas: 5-bit prefixes instead of 4-bit prefixes. For additional information, see Compressing Time Stamps in [Gorilla: A Fast, Scalable, In-Memory Time Series Database](http://www.vldb.org/pvldb/vol8/p1816-teller.pdf).</span>
<span class=s1>- `Gorilla` — Calculates XOR between current and previous value and writes it in compact binary form. Efficient when storing a series of floating point values that change slowly, because the best compression rate is achieved when neighboring values are binary equal. Implements the algorithm used in Gorilla TSDB, extending it to support 64-bit types. For additional information, see Compressing Values in [Gorilla: A Fast, Scalable, In-Memory Time Series Database](http://www.vldb.org/pvldb/vol8/p1816-teller.pdf).</span>
<span class=s1>- `T64` — Compression approach that crops unused high bits of values in integer data types (including `Enum`, `Date` and `DateTime`). At each step of its algorithm, codec takes a block of 64 values, puts them into 64x64 bit matrix, transposes it, crops the unused bits of values and returns the rest as a sequence. Unused bits are the bits, that don&#39;</span><span class=n>t</span> <span class=n>differ</span> <span class=k>between</span> <span class=n>maximum</span> <span class=k>and</span> <span class=n>minimum</span> <span class=k>values</span> <span class=k>in</span> <span class=n>the</span> <span class=n>whole</span> <span class=n>data</span> <span class=n>part</span> <span class=k>for</span> <span class=n>which</span> <span class=n>the</span> <span class=n>compression</span> <span class=k>is</span> <span class=n>used</span><span class=p>.</span>

<span class=ss>`DoubleDelta`</span> <span class=k>and</span> <span class=ss>`Gorilla`</span> <span class=n>codecs</span> <span class=n>are</span> <span class=n>used</span> <span class=k>in</span> <span class=n>Gorilla</span> <span class=n>TSDB</span> <span class=k>as</span> <span class=n>the</span> <span class=n>components</span> <span class=n>of</span> <span class=n>its</span> <span class=n>compressing</span> <span class=n>algorithm</span><span class=p>.</span> <span class=n>Gorilla</span> <span class=n>approach</span> <span class=k>is</span> <span class=n>effective</span> <span class=k>in</span> <span class=n>scenarios</span> <span class=k>when</span> <span class=n>there</span> <span class=k>is</span> <span class=n>a</span> <span class=n>sequence</span> <span class=n>of</span> <span class=n>slowly</span> <span class=n>changing</span> <span class=k>values</span> <span class=k>with</span> <span class=n>their</span> <span class=n>timestamps</span><span class=p>.</span> <span class=n>Timestamps</span> <span class=n>are</span> <span class=n>effectively</span> <span class=n>compressed</span> <span class=k>by</span> <span class=n>the</span> <span class=ss>`DoubleDelta`</span> <span class=n>codec</span><span class=p>,</span> <span class=k>and</span> <span class=k>values</span> <span class=n>are</span> <span class=n>effectively</span> <span class=n>compressed</span> <span class=k>by</span> <span class=n>the</span> <span class=ss>`Gorilla`</span> <span class=n>codec</span><span class=p>.</span> <span class=k>For</span> <span class=n>example</span><span class=p>,</span> <span class=k>to</span> <span class=n>get</span> <span class=n>an</span> <span class=n>effectively</span> <span class=n>stored</span> <span class=k>table</span><span class=p>,</span> <span class=n>you</span> <span class=n>can</span> <span class=k>create</span> <span class=n>it</span> <span class=k>in</span> <span class=n>the</span> <span class=n>following</span> <span class=n>configuration</span><span class=p>:</span>

<span class=ss>``</span><span class=o>`</span><span class=k>sql</span>
<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=nf>codec_example</span>
<span class=p>(</span>
    <span class=kt>timestamp</span> <span class=kt>DateTime</span> <span class=nf>CODEC</span><span class=p>(</span><span class=n>DoubleDelta</span><span class=p>),</span>
    <span class=n>slow_values</span> <span class=n>Float32</span> <span class=nf>CODEC</span><span class=p>(</span><span class=n>Gorilla</span><span class=p>)</span>
<span class=p>)</span>
<span class=kp>ENGINE</span> <span class=o>=</span> <span class=nf>MergeTree</span><span class=p>()</span>
</code></pre></div> <h3 id=create-query-common-purpose-codecs>Common purpose codecs<a class=headerlink href=#create-query-common-purpose-codecs title="Permanent link">&para;</a></h3> <p>Codecs:</p> <ul> <li><code>NONE</code> — No compression.</li> <li><code>LZ4</code> — Lossless <a href=https://github.com/lz4/lz4 rel="external nofollow noreferrer">data compression algorithm</a> used by default. Applies LZ4 fast compression.</li> <li><code>LZ4HC[(level)]</code> — LZ4 HC (high compression) algorithm with configurable level. Default level: 9. Setting <code>level &lt;= 0</code> applies the default level. Possible levels: [1, 12]. Recommended level range: [4, 9].</li> <li><code>ZSTD[(level)]</code> — <a href=https://en.wikipedia.org/wiki/Zstandard rel="external nofollow noreferrer">ZSTD compression algorithm</a> with configurable <code>level</code>. Possible levels: [1, 22]. Default value: 1.</li> </ul> <p>High compression levels useful for asymmetric scenarios, like compress once, decompress a lot of times. Greater levels stands for better compression and higher CPU usage.</p> <h2 id=temporary-tables>Temporary Tables<a class=headerlink href=#temporary-tables title="Permanent link">&para;</a></h2> <p>ClickHouse supports temporary tables which have the following characteristics:</p> <ul> <li>Temporary tables disappear when the session ends, including if the connection is lost.</li> <li>A temporary table use the Memory engine only.</li> <li>The DB can't be specified for a temporary table. It is created outside of databases.</li> <li>If a temporary table has the same name as another one and a query specifies the table name without specifying the DB, the temporary table will be used.</li> <li>For distributed query processing, temporary tables used in a query are passed to remote servers.</li> </ul> <p>To create a temporary table, use the following syntax:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TEMPORARY</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=k>table_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=n>name2</span> <span class=p>[</span><span class=n>type2</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr2</span><span class=p>],</span>
    <span class=p>...</span>
<span class=p>)</span>
</code></pre></div> <p>In most cases, temporary tables are not created manually, but when using external data for a query, or for distributed <code>(GLOBAL) IN</code>. For more information, see the appropriate sections</p> <h2 id=distributed-ddl-queries-on-cluster-clause>Distributed DDL queries (ON CLUSTER clause)<a class=headerlink href=#distributed-ddl-queries-on-cluster-clause title="Permanent link">&para;</a></h2> <p>The <code>CREATE</code>, <code>DROP</code>, <code>ALTER</code>, and <code>RENAME</code> queries support distributed execution on a cluster.<br> For example, the following query creates the <code>all_hits</code> <code>Distributed</code> table on each host in <code>cluster</code>:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>all_hits</span> <span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span> <span class=p>(</span><span class=n>p</span> <span class=nb>Date</span><span class=p>,</span> <span class=n>i</span> <span class=n>Int32</span><span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Distributed</span><span class=p>(</span><span class=k>cluster</span><span class=p>,</span> <span class=k>default</span><span class=p>,</span> <span class=n>hits</span><span class=p>)</span>
</code></pre></div> <p>In order to run these queries correctly, each host must have the same cluster definition (to simplify syncing configs, you can use substitutions from ZooKeeper). They must also connect to the ZooKeeper servers.<br> The local version of the query will eventually be implemented on each host in the cluster, even if some hosts are currently not available. The order for executing queries within a single host is guaranteed.<br> <code>ALTER</code> queries are not yet supported for replicated tables.</p> <h2 id=create-view>CREATE VIEW<a class=headerlink href=#create-view title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=p>[</span><span class=n>MATERIALIZED</span><span class=p>]</span> <span class=k>VIEW</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>TO</span><span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span><span class=p>]</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>]</span> <span class=p>[</span><span class=n>POPULATE</span><span class=p>]</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</code></pre></div> <p>Creates a view. There are two types of views: normal and MATERIALIZED.</p> <p>Normal views don't store any data, but just perform a read from another table. In other words, a normal view is nothing more than a saved query. When reading from a view, this saved query is used as a subquery in the FROM clause.</p> <p>As an example, assume you've created a view:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>VIEW</span> <span class=k>view</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</code></pre></div> <p>and written a query:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=k>c</span> <span class=k>FROM</span> <span class=k>view</span>
</code></pre></div> <p>This query is fully equivalent to using the subquery:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=k>c</span> <span class=k>FROM</span> <span class=p>(</span><span class=k>SELECT</span> <span class=p>...)</span>
</code></pre></div> <p>Materialized views store data transformed by the corresponding SELECT query.</p> <p>When creating a materialized view, you must specify ENGINE – the table engine for storing data.</p> <p>A materialized view is arranged as follows: when inserting data to the table specified in SELECT, part of the inserted data is converted by this SELECT query, and the result is inserted in the view.</p> <p>If you specify POPULATE, the existing table data is inserted in the view when creating it, as if making a <code>CREATE TABLE ... AS SELECT ...</code> . Otherwise, the query contains only the data inserted in the table after creating the view. We don't recommend using POPULATE, since data inserted in the table during the view creation will not be inserted in it.</p> <p>A <code>SELECT</code> query can contain <code>DISTINCT</code>, <code>GROUP BY</code>, <code>ORDER BY</code>, <code>LIMIT</code>... Note that the corresponding conversions are performed independently on each block of inserted data. For example, if <code>GROUP BY</code> is set, data is aggregated during insertion, but only within a single packet of inserted data. The data won't be further aggregated. The exception is when using an ENGINE that independently performs data aggregation, such as <code>SummingMergeTree</code>.</p> <p>The execution of <code>ALTER</code> queries on materialized views has not been fully developed, so they might be inconvenient. If the materialized view uses the construction <code>TO [db.]name</code>, you can <code>DETACH</code> the view, run <code>ALTER</code> for the target table, and then <code>ATTACH</code> the previously detached (<code>DETACH</code>) view.</p> <p>Views look the same as normal tables. For example, they are listed in the result of the <code>SHOW TABLES</code> query.</p> <p>There isn't a separate query for deleting views. To delete a view, use <code>DROP TABLE</code>.</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>ساخته شده از <a href=https://github.com/ClickHouse/ClickHouse/commit/d6653f1fdcabbf1f588ee132a5044c31df63261a rel="external nofollow noreferrer" target=_blank class=text-reset>d6653f1fdc</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>جدول محتویات</label> <a href=#query_language-create-database title="CREATE DATABASE" class="nav-link text-wrap d-inline-block w-100"> CREATE DATABASE </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#clauses title=Clauses class="nav-link text-wrap d-inline-block w-100"> Clauses </a> </nav> <a href=#create-table-query title="CREATE TABLE" class="nav-link text-wrap d-inline-block w-100"> CREATE TABLE </a> <nav id=toc-toc-2 class="nav flex-column pl-2"> <a href=#create-default-values title="Default Values" class="nav-link text-wrap d-inline-block w-100"> Default Values </a> <a href=#constraints title=Constraints class="nav-link text-wrap d-inline-block w-100"> Constraints </a> <a href=#create-query-common-purpose-codecs title="Common purpose codecs" class="nav-link text-wrap d-inline-block w-100"> Common purpose codecs </a> </nav> <a href=#temporary-tables title="Temporary Tables" class="nav-link text-wrap d-inline-block w-100"> Temporary Tables </a> <a href=#distributed-ddl-queries-on-cluster-clause title="Distributed DDL queries (ON CLUSTER clause)" class="nav-link text-wrap d-inline-block w-100"> Distributed DDL queries (ON CLUSTER clause) </a> <a href=#create-view title="CREATE VIEW" class="nav-link text-wrap d-inline-block w-100"> CREATE VIEW </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>