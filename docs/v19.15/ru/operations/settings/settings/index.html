<!DOCTYPE html><html lang=ru data-version=v19.15 data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Настройки - Документация ClickHouse v19.15</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="Настройки - Документация ClickHouse v19.15"><meta property=og:description content="Настройки distributed_product_mode Изменяет поведение распределенных подзапросов. ClickHouse применяет настройку в тех с"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="Настройки - Документация ClickHouse v19.15"><meta name=description content="Настройки distributed_product_mode Изменяет поведение распределенных подзапросов. ClickHouse применяет настройку в тех с"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> Настройки </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/operations/settings/settings.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/ru.svg alt=Русский title=Русский width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/v19.15/en/operations/settings/settings/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/v19.15/zh/operations/settings/settings/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/v19.15/es/operations/settings/settings/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/v19.15/fr/operations/settings/settings/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/v19.15/ru/operations/settings/settings/ class="dropdown-item disabled"> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/v19.15/ja/operations/settings/settings/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/v19.15/fa/operations/settings/settings/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Многостраничный или одностраничный"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Многостраничная версия" title="Многостраничная версия"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Одностраничная версия" title="Одностраничная версия"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Версия: <span class=text-light>v19.15</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/ru/ class=dropdown-item> <span class=text-light>последняя</span> </a> <a href=/docs/v20.3/ru/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/ru/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/ru/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/ru/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/ru/ class="dropdown-item disable">v19.15</a> <a href=/docs/v19.14/ru/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/ru/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/ru/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/ru/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/ru/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/ru/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Введение class="nav-link text-light text-wrap dropdown-toggle px-0">Введение</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../../introduction/distinctive_features/ title="Отличительные возможности ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Отличительные возможности ClickHouse</a> <a href=../../../introduction/features_considered_disadvantages/ title="Особенности ClickHouse, которые могут считаться недостатками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Особенности ClickHouse, которые могут считаться недостатками</a> <a href=../../../introduction/performance/ title=Производительность class="nav-link text-light text-wrap d-inline-block w-100 px-0">Производительность</a> <a href=../../../introduction/ya_metrika_task/ title="Постановка задачи в Яндекс.Метрике" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Постановка задачи в Яндекс.Метрике</a> <a href=../../../introduction/info/ title="Информационная поддержка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Информационная поддержка</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Начало работы" class="nav-link text-light text-wrap dropdown-toggle px-0">Начало работы</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/ title="Установка и запуск" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Установка и запуск</a> <a href=#sidebar-sidebar-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-2 title="Тестовые наборы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Тестовые наборы данных</a> <div id=sidebar-sidebar-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="Данные о такси в Нью-Йорке" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные о такси в Нью-Йорке</a> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../../getting_started/example_datasets/criteo/ title="Терабайт логов кликов от Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Терабайт логов кликов от Criteo</a> <a href=../../../getting_started/example_datasets/star_schema/ title="Схема «Звезда»" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Схема «Звезда»</a> <a href=../../../getting_started/example_datasets/metrica/ title="Данные Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные Яндекс.Метрики</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Интерфейсы class="nav-link text-light text-wrap dropdown-toggle px-0">Интерфейсы</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../interfaces/cli/ title="Клиент командной строки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиент командной строки</a> <a href=../../../interfaces/tcp/ title="Нативный интерфейс (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Нативный интерфейс (TCP)</a> <a href=../../../interfaces/http/ title=HTTP-интерфейс class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP-интерфейс</a> <a href=../../../interfaces/formats/ title="Форматы входных и выходных данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Форматы входных и выходных данных</a> <a href=../../../interfaces/jdbc/ title=JDBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC-драйвер</a> <a href=../../../interfaces/odbc/ title=ODBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC-драйвер</a> <a href=#sidebar-sidebar-3-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-8 title="От сторонних разработчиков" class="nav-link text-light text-wrap dropdown-toggle px-0">От сторонних разработчиков</a> <div id=sidebar-sidebar-3-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/client_libraries/ title="Клиентские библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиентские библиотеки</a> <a href=../../../interfaces/third-party/integrations/ title=Интеграции class="nav-link text-light text-wrap d-inline-block w-100 px-0">Интеграции</a> <a href=../../../interfaces/third-party/gui/ title="Визуальные интерфейсы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Визуальные интерфейсы</a> <a href=../../../interfaces/third-party/proxy/ title=Прокси class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прокси</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title="Типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Типы данных</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../data_types/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../../data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../../data_types/boolean/ title="Булевы значения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Булевы значения</a> <a href=../../../data_types/string/ title=String class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a> <a href=../../../data_types/fixedstring/ title=FixedString(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a> <a href=../../../data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../data_types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../../data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../../data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../data_types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types_of_arguments...)</a> <a href=../../../data_types/tuple/ title="Tuple(T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, ...)</a> <a href=../../../data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-4-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-16 title="Вложенные структуры данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Вложенные структуры данных</a> <div id=sidebar-sidebar-4-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-4-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-17 title="Служебные типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Служебные типы данных</a> <div id=sidebar-sidebar-4-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../data_types/special_data_types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../../data_types/special_data_types/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../../data_types/special_data_types/nothing/ title=Nothing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a> </nav> </div> <a href=#sidebar-sidebar-4-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-18 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-4-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../data_types/domains/overview/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../../data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="Движки баз данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки баз данных</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../database_engines/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="Движки таблиц" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки таблиц</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/table_engines/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=#sidebar-sidebar-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-2 title="Семейство MergeTree" class="nav-link text-light text-wrap dropdown-toggle px-0">Семейство MergeTree</a> <div id=sidebar-sidebar-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/table_engines/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../../operations/table_engines/replication/ title="Репликация данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Репликация данных</a> <a href=../../../operations/table_engines/custom_partitioning_key/ title="Произвольный ключ партиционирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Произвольный ключ партиционирования</a> <a href=../../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../operations/table_engines/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-6-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-3 title="Семейство Log" class="nav-link text-light text-wrap dropdown-toggle px-0">Семейство Log</a> <div id=sidebar-sidebar-6-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/table_engines/log_family/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../operations/table_engines/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../operations/table_engines/log/ title=Log class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a> <a href=../../../operations/table_engines/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Интеграции class="nav-link text-light text-wrap dropdown-toggle px-0">Интеграции</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/table_engines/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../operations/table_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../operations/table_engines/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../operations/table_engines/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../operations/table_engines/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title=Особые class="nav-link text-light text-wrap dropdown-toggle px-0">Особые</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/table_engines/distributed/ title=Distributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a> <a href=../../../operations/table_engines/external_data/ title="Внешние данные" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние данные</a> <a href=../../../operations/table_engines/dictionary/ title=Dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a> <a href=../../../operations/table_engines/merge/ title=Merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a> <a href=../../../operations/table_engines/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../../operations/table_engines/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../../operations/table_engines/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../../operations/table_engines/join/ title=Join class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a> <a href=../../../operations/table_engines/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../operations/table_engines/view/ title=View class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a> <a href=../../../operations/table_engines/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../../operations/table_engines/memory/ title=Memory class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a> <a href=../../../operations/table_engines/buffer/ title=Buffer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title="Справка по SQL" class="nav-link text-light text-wrap dropdown-toggle px-0">Справка по SQL</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../query_language/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../../query_language/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../query_language/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../query_language/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../query_language/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../query_language/misc/ title="Прочие виды запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие виды запросов</a> <a href=#sidebar-sidebar-7-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-8 title=Функции class="nav-link text-light text-wrap dropdown-toggle px-0">Функции</a> <div id=sidebar-sidebar-7-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../query_language/functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../query_language/functions/arithmetic_functions/ title="Арифметические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Арифметические функции</a> <a href=../../../query_language/functions/comparison_functions/ title="Функции сравнения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции сравнения</a> <a href=../../../query_language/functions/logical_functions/ title="Логические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Логические функции</a> <a href=../../../query_language/functions/type_conversion_functions/ title="Функции преобразования типов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции преобразования типов</a> <a href=../../../query_language/functions/date_time_functions/ title="Функции для работы с датами и временем" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с датами и временем</a> <a href=../../../query_language/functions/string_functions/ title="Функции для работы со строками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со строками</a> <a href=../../../query_language/functions/string_search_functions/ title="Функции поиска в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска в строках</a> <a href=../../../query_language/functions/string_replace_functions/ title="Функции поиска и замены в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска и замены в строках</a> <a href=../../../query_language/functions/conditional_functions/ title="Условные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Условные функции</a> <a href=../../../query_language/functions/math_functions/ title="Математические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Математические функции</a> <a href=../../../query_language/functions/rounding_functions/ title="Функции округления" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции округления</a> <a href=../../../query_language/functions/array_functions/ title="Функции по работе с массивами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции по работе с массивами</a> <a href=../../../query_language/functions/splitting_merging_functions/ title="Функции разбиения и слияния строк и массивов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции разбиения и слияния строк и массивов</a> <a href=../../../query_language/functions/bit_functions/ title="Битовые функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Битовые функции</a> <a href=../../../query_language/functions/bitmap_functions/ title="Функции для битмапов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для битмапов</a> <a href=../../../query_language/functions/hash_functions/ title="Функции хэширования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции хэширования</a> <a href=../../../query_language/functions/random_functions/ title="Функции генерации псевдослучайных чисел" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции генерации псевдослучайных чисел</a> <a href=../../../query_language/functions/uuid_functions/ title="Функции для работы с UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с UUID</a> <a href=../../../query_language/functions/encoding_functions/ title="Функции кодирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции кодирования</a> <a href=../../../query_language/functions/url_functions/ title="Функции для работы с URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с URL</a> <a href=../../../query_language/functions/ip_address_functions/ title="Функции для работы с IP-адресами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с IP-адресами</a> <a href=../../../query_language/functions/json_functions/ title="Функции для работы с JSON." class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с JSON.</a> <a href=../../../query_language/functions/higher_order_functions/ title="Функции высшего порядка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции высшего порядка</a> <a href=../../../query_language/functions/ext_dict_functions/ title="Функции для работы с внешними словарями" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с внешними словарями</a> <a href=../../../query_language/functions/ym_dict_functions/ title="Функции для работы со словарями Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со словарями Яндекс.Метрики</a> <a href=../../../query_language/functions/in_functions/ title="Функции для реализации оператора IN." class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для реализации оператора IN.</a> <a href=../../../query_language/functions/array_join/ title="Функция arrayJoin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функция arrayJoin</a> <a href=../../../query_language/functions/geo/ title="Функции для работы с географическими координатами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с географическими координатами</a> <a href=../../../query_language/functions/functions_for_nulls/ title="Функции c Nullable агрументами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции c Nullable агрументами</a> <a href=../../../query_language/functions/machine_learning_functions/ title="Функции машинного обучения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции машинного обучения</a> <a href=../../../query_language/functions/other_functions/ title="Прочие функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие функции</a> </nav> </div> <a href=#sidebar-sidebar-7-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-9 title="Агрегатные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Агрегатные функции</a> <div id=sidebar-sidebar-7-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../query_language/agg_functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../query_language/agg_functions/reference/ title="Справочник функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Справочник функций</a> <a href=../../../query_language/agg_functions/combinators/ title="Комбинаторы агрегатных функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Комбинаторы агрегатных функций</a> <a href=../../../query_language/agg_functions/parametric_functions/ title="Параметрические агрегатные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Параметрические агрегатные функции</a> </nav> </div> <a href=#sidebar-sidebar-7-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-10 title="Табличные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Табличные функции</a> <div id=sidebar-sidebar-7-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../query_language/table_functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../query_language/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../../query_language/table_functions/merge/ title=merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a> <a href=../../../query_language/table_functions/numbers/ title=numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a> <a href=../../../query_language/table_functions/remote/ title=remote class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote</a> <a href=../../../query_language/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../../query_language/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../query_language/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../query_language/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../../query_language/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../query_language/table_functions/input/ title=input class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a> </nav> </div> <a href=#sidebar-sidebar-7-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-11 title=Словари class="nav-link text-light text-wrap dropdown-toggle px-0">Словари</a> <div id=sidebar-sidebar-7-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../query_language/dicts/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=#sidebar-sidebar-7-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7-11-2 title="Внешние словари" class="nav-link text-light text-wrap dropdown-toggle px-0">Внешние словари</a> <div id=sidebar-sidebar-7-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../query_language/dicts/external_dicts/ title="Общее описание" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общее описание</a> <a href=../../../query_language/dicts/external_dicts_dict/ title="Настройка внешнего словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройка внешнего словаря</a> <a href=../../../query_language/dicts/external_dicts_dict_layout/ title="Хранение словарей в памяти" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Хранение словарей в памяти</a> <a href=../../../query_language/dicts/external_dicts_dict_lifetime/ title="Обновление словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление словарей</a> <a href=../../../query_language/dicts/external_dicts_dict_sources/ title="Источники внешних словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Источники внешних словарей</a> <a href=../../../query_language/dicts/external_dicts_dict_structure/ title="Ключ и поля словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ключ и поля словаря</a> </nav> </div> <a href=../../../query_language/dicts/internal_dicts/ title="Встроенные словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Встроенные словари</a> </nav> </div> <a href=../../../query_language/operators/ title=Операторы class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы</a> <a href=../../../query_language/syntax/ title="Общий синтаксис" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общий синтаксис</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Эксплуатация class="nav-link text-light text-wrap dropdown-toggle px-0">Эксплуатация</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../operations/requirements/ title=Требования class="nav-link text-light text-wrap d-inline-block w-100 px-0">Требования</a> <a href=../../../operations/monitoring/ title=Мониторинг class="nav-link text-light text-wrap d-inline-block w-100 px-0">Мониторинг</a> <a href=../../../operations/troubleshooting/ title="Устранение неисправностей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Устранение неисправностей</a> <a href=../../../operations/tips/ title="Советы по эксплуатации" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Советы по эксплуатации</a> <a href=../../../operations/update/ title="Обновление ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление ClickHouse</a> <a href=../../../operations/access_rights/ title="Права доступа" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Права доступа</a> <a href=../../../operations/backup/ title="Резервное копирование" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Резервное копирование</a> <a href=../../../operations/configuration_files/ title="Конфигурационные файлы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные файлы</a> <a href=../../../operations/quotas/ title=Квоты class="nav-link text-light text-wrap d-inline-block w-100 px-0">Квоты</a> <a href=../../../operations/system_tables/ title="Системные таблицы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Системные таблицы</a> <a href=#sidebar-sidebar-8-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-12 title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap dropdown-toggle px-0">Конфигурационные параметры сервера</a> <div id=sidebar-sidebar-8-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_settings/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../operations/server_settings/settings/ title="Серверные настройки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Серверные настройки</a> </nav> </div> <a href=#sidebar-sidebar-8-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-13 title=Настройки class="nav-link text-light text-wrap dropdown-toggle px-0">Настройки</a> <div id=sidebar-sidebar-8-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../operations/settings/permissions_for_queries/ title="Разрешения на выполнение запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Разрешения на выполнение запросов</a> <a href=../../../operations/settings/query_complexity/ title="Ограничения на сложность запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на сложность запроса</a> <a href=../../../operations/settings/settings/ title=Настройки class="nav-link text-white active text-wrap d-inline-block w-100 px-0">Настройки</a> <a href=../../../operations/settings/constraints_on_settings/ title="Ограничения на изменение настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на изменение настроек</a> <a href=../../../operations/settings/settings_profiles/ title="Профили настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Профили настроек</a> <a href=../../../operations/settings/settings_users/ title="Настройки пользователей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки пользователей</a> </nav> </div> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Утилиты class="nav-link text-light text-wrap dropdown-toggle px-0">Утилиты</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utils/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../../operations/utils/clickhouse-copier/ title=clickhouse-copier class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a> <a href=../../../operations/utils/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/general/ title="Общие вопросы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общие вопросы</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Разработка class="nav-link text-light text-wrap dropdown-toggle px-0">Разработка</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/architecture/ title="Обзор архитектуры ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор архитектуры ClickHouse</a> <a href=../../../development/build/ title="Как собрать ClickHouse на Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как собрать ClickHouse на Linux</a> <a href=../../../development/build_osx/ title="Как собрать ClickHouse на Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как собрать ClickHouse на Mac OS X</a> <a href=../../../development/style/ title="Как писать код на C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как писать код на C++</a> <a href=../../../development/tests/ title="Как запустить тесты" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как запустить тесты</a> <a href=../../../development/contrib/ title="Сторонние библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Сторонние библиотеки</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="Что нового" class="nav-link text-light text-wrap dropdown-toggle px-0">Что нового</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../changelog/ title=Changelog class="nav-link text-light text-wrap d-inline-block w-100 px-0">Changelog</a> <a href=../../../security_changelog/ title="Security changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security changelog</a> <a href=../../../roadmap/ title=Roadmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a> </nav> </div> <a href=../../../single/clickhouse_ru.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt=PDF-версия title=PDF-версия height=24 class="d-block mr-1 float-left"><div>PDF-версия</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <h1 id=nastroiki>Настройки<a class=headerlink href=#nastroiki title="Permanent link">&para;</a></h1> <h2 id=distributed-product-mode>distributed_product_mode<a class=headerlink href=#distributed-product-mode title="Permanent link">&para;</a></h2> <p>Изменяет поведение <a href=../../../query_language/select/ >распределенных подзапросов</a>.</p> <p>ClickHouse применяет настройку в тех случаях, когда запрос содержит произведение распределённых таблиц, т.е. когда запрос к распределенной таблице содержит не-GLOBAL подзапрос к также распределенной таблице.</p> <p>Условия применения:</p> <ul> <li>Только подзапросы для IN, JOIN.</li> <li>Только если в секции FROM используется распределённая таблица, содержащая более одного шарда.</li> <li>Если подзапрос касается распределенной таблицы, содержащей более одного шарда.</li> <li>Не используется в случае табличной функции <a href=../../../query_language/table_functions/remote/ >remote</a>.</li> </ul> <p>Возможные значения:</p> <ul> <li><code>deny</code> — значение по умолчанию. Запрещает использование таких подзапросов (При попытке использование вернет исключение "Double-distributed IN/JOIN subqueries is denied");</li> <li><code>local</code> — заменяет базу данных и таблицу в подзапросе на локальные для конечного сервера (шарда), оставив обычный <code>IN</code> / <code>JOIN.</code></li> <li><code>global</code> — заменяет запрос <code>IN</code> / <code>JOIN</code> на <code>GLOBAL IN</code> / <code>GLOBAL JOIN.</code></li> <li><code>allow</code> — разрешает использование таких подзапросов.</li> </ul> <h2 id=enable-optimize-predicate-expression>enable_optimize_predicate_expression<a class=headerlink href=#enable-optimize-predicate-expression title="Permanent link">&para;</a></h2> <p>Включает пробрасывание предикатов в подзапросы для запросов <code>SELECT</code>.</p> <p>Пробрасывание предикатов может существенно уменьшить сетевой трафик для распределенных запросов.</p> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию — 1.</p> <p><strong>Использование</strong></p> <p>Рассмотрим следующие запросы:</p> <ol> <li><code>SELECT count() FROM test_table WHERE date = '2018-10-10'</code></li> <li><code>SELECT count() FROM (SELECT * FROM test_table) WHERE date = '2018-10-10'</code></li> </ol> <p>Если <code>enable_optimize_predicate_expression = 1</code>, то время выполнения запросов одинаковое, так как ClickHouse применяет <code>WHERE</code> к подзапросу сразу при его обработке.</p> <p>Если <code>enable_optimize_predicate_expression = 0</code>, то время выполнения второго запроса намного больше, потому что секция <code>WHERE</code> применяется к данным уже после завершения подзапроса.</p> <h2 id=settings-fallback_to_stale_replicas_for_distributed_queries>fallback_to_stale_replicas_for_distributed_queries<a class=headerlink href=#settings-fallback_to_stale_replicas_for_distributed_queries title="Permanent link">&para;</a></h2> <p>Форсирует запрос в устаревшую реплику в случае, если актуальные данные недоступны. Смотрите "<a href=../../table_engines/replication/ >Репликация</a>".</p> <p>Из устаревших реплик таблицы ClickHouse выбирает наиболее актуальную.</p> <p>Используется при выполнении <code>SELECT</code> из распределенной таблицы, которая указывает на реплицированные таблицы.</p> <p>По умолчанию - 1 (включена).</p> <h2 id=settings-force_index_by_date>force_index_by_date<a class=headerlink href=#settings-force_index_by_date title="Permanent link">&para;</a></h2> <p>Запрещает выполнение запросов, если использовать индекс по дате невозможно.</p> <p>Работает с таблицами семейства MergeTree.</p> <p>При <code>force_index_by_date=1</code> ClickHouse проверяет, есть ли в запросе условие на ключ даты, которое может использоваться для отсечения диапазонов данных. Если подходящего условия нет - кидается исключение. При этом не проверяется, действительно ли условие уменьшает объём данных для чтения. Например, условие <code>Date != '2000-01-01'</code> подходит даже в том случае, когда соответствует всем данным в таблице (т.е. для выполнения запроса требуется full scan). Подробнее про диапазоны данных в таблицах MergeTree читайте в разделе "<a href=../../table_engines/mergetree/ >MergeTree</a>".</p> <h2 id=settings-force_primary_key>force_primary_key<a class=headerlink href=#settings-force_primary_key title="Permanent link">&para;</a></h2> <p>Запрещает выполнение запросов, если использовать индекс по первичному ключу невозможно.</p> <p>Работает с таблицами семейства MergeTree.</p> <p>При <code>force_primary_key=1</code> ClickHouse проверяет, есть ли в запросе условие на первичный ключ, которое может использоваться для отсечения диапазонов данных. Если подходящего условия нет - кидается исключение. При этом не проверяется, действительно ли условие уменьшает объём данных для чтения. Подробнее про диапазоны данных в таблицах MergeTree читайте в разделе "<a href=../../table_engines/mergetree/ >MergeTree</a>".</p> <h2 id=format-schema>format_schema<a class=headerlink href=#format-schema title="Permanent link">&para;</a></h2> <p>Параметр применяется в том случае, когда используются форматы, требующие определения схемы, например <a href=https://capnproto.org/ rel="external nofollow noreferrer">Cap'n Proto</a>, <a href=https://developers.google.com/protocol-buffers/ rel="external nofollow noreferrer">Protobuf</a> или <a href=../../../interfaces/formats/#format-template>Template</a>. Значение параметра зависит от формата.</p> <h2 id=fsync-metadata>fsync_metadata<a class=headerlink href=#fsync-metadata title="Permanent link">&para;</a></h2> <p>Включает или отключает <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/fsync.html rel="external nofollow noreferrer">fsync</a> при записи <code>.sql</code> файлов. По умолчанию включено.</p> <p>Имеет смысл выключать, если на сервере миллионы мелких таблиц-чанков, которые постоянно создаются и уничтожаются.</p> <h2 id=settings-enable_http_compression>enable_http_compression<a class=headerlink href=#settings-enable_http_compression title="Permanent link">&para;</a></h2> <p>Включает или отключает сжатие данных в ответе на HTTP-запрос.</p> <p>Для получения дополнительной информации, читайте <a href=../../../interfaces/http/ >Описание интерфейса HTTP</a>.</p> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=settings-http_zlib_compression_level>http_zlib_compression_level<a class=headerlink href=#settings-http_zlib_compression_level title="Permanent link">&para;</a></h2> <p>Задаёт уровень сжатия данных в ответе на HTTP-запрос, если <a href=#settings-enable_http_compression>enable_http_compression = 1</a>.</p> <p>Возможные значения: числа от 1 до 9.</p> <p>Значение по умолчанию: 3.</p> <h2 id=settings-http_native_compression_disable_checksumming_on_decompress>http_native_compression_disable_checksumming_on_decompress<a class=headerlink href=#settings-http_native_compression_disable_checksumming_on_decompress title="Permanent link">&para;</a></h2> <p>Включает или отключает проверку контрольной суммы при распаковке данных HTTP POST от клиента. Используется только для собственного (<code>Navite</code>) формата сжатия ClickHouse (ни <code>gzip</code>, ни <code>deflate</code>).</p> <p>Для получения дополнительной информации, читайте <a href=../../../interfaces/http/ >Описание интерфейса HTTP</a>.</p> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=settings-send_progress_in_http_headers>send_progress_in_http_headers<a class=headerlink href=#settings-send_progress_in_http_headers title="Permanent link">&para;</a></h2> <p>Включает или отключает HTTP-заголовки <code>X-ClickHouse-Progress</code> в ответах <code>clickhouse-server</code>.</p> <p>Для получения дополнительной информации, читайте <a href=../../../interfaces/http/ >Описание интерфейса HTTP</a>.</p> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=input-format-allow-errors-num>input_format_allow_errors_num<a class=headerlink href=#input-format-allow-errors-num title="Permanent link">&para;</a></h2> <p>Устанавливает максимальное количество допустимых ошибок при чтении из текстовых форматов (CSV, TSV и т.п.).</p> <p>Значение по умолчанию: 0.</p> <p>Используйте обязательно в паре с <code>input_format_allow_errors_ratio</code>. Для пропуска ошибок, значения обеих настроек должны быть больше 0.</p> <p>Если при чтении строки возникла ошибка, но при этом счетчик ошибок меньше <code>input_format_allow_errors_num</code>, то ClickHouse игнорирует строку и переходит к следующей.</p> <p>В случае превышения <code>input_format_allow_errors_num</code> ClickHouse генерирует исключение.</p> <h2 id=input-format-allow-errors-ratio>input_format_allow_errors_ratio<a class=headerlink href=#input-format-allow-errors-ratio title="Permanent link">&para;</a></h2> <p>Устанавливает максимальную долю допустимых ошибок при чтении из текстовых форматов (CSV, TSV и т.п.).<br> Доля ошибок задаётся в виде числа с плавающей запятой от 0 до 1.</p> <p>Значение по умолчанию: 0.</p> <p>Используйте обязательно в паре с <code>input_format_allow_errors_num</code>. Для пропуска ошибок, значения обеих настроек должны быть больше 0.</p> <p>Если при чтении строки возникла ошибка, но при этом текущая доля ошибок меньше <code>input_format_allow_errors_ratio</code>, то ClickHouse игнорирует строку и переходит к следующей.</p> <p>В случае превышения <code>input_format_allow_errors_ratio</code> ClickHouse генерирует исключение.</p> <h2 id=settings-input_format_values_interpret_expressions>input_format_values_interpret_expressions<a class=headerlink href=#settings-input_format_values_interpret_expressions title="Permanent link">&para;</a></h2> <p>Включает или отключает парсер SQL, если потоковый парсер не может проанализировать данные. Этот параметр используется только для формата <a href=../../../interfaces/formats/#data-format-values>Values</a> при вставке данных. Дополнительные сведения о парсерах читайте в разделе <a href=../../../query_language/syntax/ >Синтаксис</a>.</p> <p>Возможные значения:</p> <ul> <li> <p>0 — выключена.</p> <p>В этом случае необходимо вставлять форматированные данные. Смотрите раздел <a href=../../../interfaces/formats/ >Форматы</a>.</p> </li> <li> <p>1 — включена.</p> <p>В этом случае вы можете использовать выражение SQL в качестве значения, но вставка данных намного медленнее. Если вы вставляете только форматированные данные, ClickHouse ведет себя так, как будто значение параметра равно 0.</p> </li> </ul> <p>Значение по умолчанию: 1.</p> <p><strong>Пример использования</strong></p> <p>Вставим значение типа <a href=../../../data_types/datetime/ >DateTime</a> при разных значения настройки.</p> <div class=codehilite><pre><span></span><code><span class=k>SET</span> <span class=n>input_format_values_interpret_expressions</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>datetime_t</span> <span class=k>VALUES</span> <span class=p>(</span><span class=n>now</span><span class=p>())</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Exception on client:
Code: 27. DB::Exception: Cannot parse input: expected ) before: now()): (at row 1)
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SET</span> <span class=n>input_format_values_interpret_expressions</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>datetime_t</span> <span class=k>VALUES</span> <span class=p>(</span><span class=n>now</span><span class=p>())</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Ok.
</code></pre></div> <p>Последний запрос эквивалентен следующему:</p> <div class=codehilite><pre><span></span><code><span class=k>SET</span> <span class=n>input_format_values_interpret_expressions</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>datetime_t</span> <span class=k>SELECT</span> <span class=n>now</span><span class=p>()</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Ok.
</code></pre></div> <h2 id=session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields<a class=headerlink href=#session_settings-input_format_defaults_for_omitted_fields title="Permanent link">&para;</a></h2> <p>При вставке данных запросом <code>INSERT</code>, заменяет пропущенные поля значениям по умолчанию для типа данных столбца.</p> <p>Поддерживаемые форматы вставки:</p> <ul> <li><a href=../../../interfaces/formats/#jsoneachrow>JSONEachRow</a></li> <li><a href=../../../interfaces/formats/#csv>CSV</a></li> </ul> <div class="admonition note"> <p class=admonition-title>Примечание</p> <p>Когда опция включена, сервер отправляет клиенту расширенные метаданные. Это требует дополнительных вычислительных ресурсов на сервере и может снизить производительность.</p> </div> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию — 1.</p> <h2 id=settings-input_format_null_as_default>input_format_null_as_default<a class=headerlink href=#settings-input_format_null_as_default title="Permanent link">&para;</a></h2> <p>Включает или отключает использование значений по-умолчанию в случаях, когда во входных данных содержится <code>NULL</code>, но тип соответствующего столбца не <code>Nullable(T)</code> (для фомата CSV).</p> <h2 id=settings-input_format_skip_unknown_fields>input_format_skip_unknown_fields<a class=headerlink href=#settings-input_format_skip_unknown_fields title="Permanent link">&para;</a></h2> <p>Включает или отключает пропускание вставки неизвестных данных.</p> <p>При записи данных, если входные данные содержат столбцы, которых нет в целевой таблице, ClickHouse генерирует исключение. Если пропускание вставки включено, ClickHouse не вставляет неизвестные данные и не генерирует исключение.</p> <p>Поддерживаемые форматы:</p> <ul> <li><a href=../../../interfaces/formats/#jsoneachrow>JSONEachRow</a></li> <li><a href=../../../interfaces/formats/#csvwithnames>CSVWithNames</a></li> <li><a href=../../../interfaces/formats/#tabseparatedwithnames>TabSeparatedWithNames</a></li> <li><a href=../../../interfaces/formats/#tskv>TSKV</a></li> </ul> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=settings-input_format_import_nested_json>input_format_import_nested_json<a class=headerlink href=#settings-input_format_import_nested_json title="Permanent link">&para;</a></h2> <p>Включает или отключает вставку данных JSON с вложенными объектами.</p> <p>Поддерживаемые форматы:</p> <ul> <li><a href=../../../interfaces/formats/#jsoneachrow>JSONEachRow</a></li> </ul> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию — 0.</p> <p><strong>Смотрите также</strong></p> <ul> <li><a href=../../../interfaces/formats/#jsoneachrow-nested>Использование вложенных структур</a> with the <code>JSONEachRow</code> format.</li> </ul> <h2 id=settings-input_format_with_names_use_header>input_format_with_names_use_header<a class=headerlink href=#settings-input_format_with_names_use_header title="Permanent link">&para;</a></h2> <p>Включает или отключает проверку порядка столбцов при вставке данных.</p> <p>Чтобы повысить эффективность вставки данных, рекомендуем отключить эту проверку, если вы уверены, что порядок столбцов входных данных такой же, как в целевой таблице.</p> <p>Поддерживаемые форматы:</p> <ul> <li><a href=../../../interfaces/formats/#csvwithnames>CSVWithNames</a></li> <li><a href=../../../interfaces/formats/#tabseparatedwithnames>TabSeparatedWithNames</a></li> </ul> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию: 1.</p> <h2 id=settings-date_time_input_format>date_time_input_format<a class=headerlink href=#settings-date_time_input_format title="Permanent link">&para;</a></h2> <p>Выбор парсера для текстового представления дат и времени при обработке входного формата.</p> <p>Настройка не применяется к <a href=../../../query_language/functions/date_time_functions/ >функциям для работы с датой и временем</a>.</p> <p>Возможные значения:</p> <ul> <li> <p><code>'best_effort'</code> — включает расширенный парсинг.</p> <p>ClickHouse может парсить базовый формат <code>YYYY-MM-DD HH:MM:SS</code> и все форматы <a href=https://en.wikipedia.org/wiki/ISO_8601 rel="external nofollow noreferrer">ISO 8601</a>. Например, <code>'2018-06-08T01:02:03.000Z'</code>.</p> </li> <li> <p><code>'basic'</code> — используется базовый парсер.</p> <p>ClickHouse может парсить только базовый формат <code>YYYY-MM-DD HH:MM:SS</code>. Например, <code>'2019-08-20 10:18:56'</code>.</p> </li> </ul> <p>Значение по умолчанию — <code>'basic'</code>.</p> <p><strong>Смотрите также</strong></p> <ul> <li><a href=../../../data_types/datetime/ >Тип данных DateTime.</a></li> <li><a href=../../../query_language/functions/date_time_functions/ >Функции для работы с датой и временем.</a></li> </ul> <h2 id=settings-join_default_strictness>join_default_strictness<a class=headerlink href=#settings-join_default_strictness title="Permanent link">&para;</a></h2> <p>Устанавливает строгость по умолчанию для <a href=../../../query_language/select/#select-join>JOIN</a>.</p> <p><strong>Возможные значения</strong></p> <ul> <li><code>ALL</code> — если в правой таблице несколько совпадающих строк, данные умножаются на количество этих строк. Это нормальное поведение <code>JOIN</code> как в стандартном SQL.</li> <li><code>ANY</code> — если в правой таблице несколько соответствующих строк, то соединяется только первая найденная. Если в "правой" таблице есть не более одной подходящей строки, то результаты <code>ANY</code> и <code>ALL</code> совпадают.</li> <li><code>Пустая строка</code> — если <code>ALL</code> или <code>ANY</code> не указаны в запросе, то ClickHouse генерирует исключение.</li> </ul> <p>Значение по умолчанию — <code>ALL</code>.</p> <h2 id=settings-join_any_take_last_row>join_any_take_last_row<a class=headerlink href=#settings-join_any_take_last_row title="Permanent link">&para;</a></h2> <p>Изменяет поведение операций, выполняемых со строгостью <code>ANY</code>.</p> <div class="admonition warning"> <p class=admonition-title>Внимание</p> <p>Настройка применяется только для операций <code>JOIN</code>, выполняемых над таблицами с движком <a href=../../table_engines/join/ >Join</a>.</p> </div> <p>Возможные значения:</p> <ul> <li>0 — если в правой таблице несколько соответствующих строк, то присоединяется только первая найденная строка.</li> <li>1 — если в правой таблице несколько соответствующих строк, то присоединяется только последняя найденная строка.</li> </ul> <p>Значение по умолчанию — 0.</p> <p><strong>Смотрите также</strong></p> <ul> <li><a href=../../../query_language/select/#select-join>Секция JOIN</a></li> <li><a href=../../table_engines/join/ >Движок таблиц Join</a></li> <li><a href=#settings-join_default_strictness>join_default_strictness</a></li> </ul> <h2 id=settings-join_any_take_last_row>join_any_take_last_row<a class=headerlink href=#settings-join_any_take_last_row title="Permanent link">&para;</a></h2> <p>Изменяет поведение операций, выполняемых со строгостью <code>ANY</code>.</p> <div class="admonition note"> <p class=admonition-title>Внимание</p> <p>Настройка работает только для движка таблиц <a href=../../table_engines/join/ >Join</a>.</p> </div> <p>Возможные значения:</p> <ul> <li>0 — если в правой таблице несколько соответствующих строк, то присоединяется только первая найденная.</li> <li>1 — если в правой таблице несколько соответствующих строк, то присоединяется только последняя найденная строка.</li> </ul> <p>Значение по умолчанию — 0.</p> <p><strong>Смотрите также</strong></p> <ul> <li><a href=../../../query_language/select/#select-join>Секция JOIN</a></li> <li><a href=../../table_engines/join/ >Движок таблиц Join</a></li> <li><a href=#settings-join_default_strictness>join_default_strictness</a></li> </ul> <h2 id=settings-join_use_nulls>join_use_nulls<a class=headerlink href=#settings-join_use_nulls title="Permanent link">&para;</a></h2> <p>Устанавливает тип поведения <a href=../../../query_language/select/ >JOIN</a>. При объединении таблиц могут появиться пустые ячейки. ClickHouse заполняет их по-разному в зависимости от настроек.</p> <p><strong>Возможные значения</strong></p> <ul> <li>0 — пустые ячейки заполняются значением по умолчанию соответствующего типа поля.</li> <li>1 — <code>JOIN</code> ведёт себя как в стандартном SQL. Тип соответствующего поля преобразуется в <a href=../../../data_types/nullable/#data_type-nullable>Nullable</a>, а пустые ячейки заполняются значениями <a href=../../../query_language/syntax/ >NULL</a>.</li> </ul> <p><strong>Значение по умолчанию</strong>: 0.</p> <h2 id=max-block-size>max_block_size<a class=headerlink href=#max-block-size title="Permanent link">&para;</a></h2> <p>Данные в ClickHouse обрабатываются по блокам (наборам кусочков столбцов). Внутренние циклы обработки для одного блока достаточно эффективны, но есть заметные издержки на каждый блок. Настройка <code>max_block_size</code> — это рекомендация, какой размер блока (в количестве строк) загружать из таблиц. Размер блока не должен быть слишком маленьким, чтобы затраты на каждый блок были заметны, но не слишком велики, чтобы запрос с LIMIT, который завершается после первого блока, обрабатывался быстро. Цель состоит в том, чтобы не использовалось слишком много оперативки при вынимании большого количества столбцов в несколько потоков; чтобы оставалась хоть какая-нибудь кэш-локальность.</p> <p>Значение по умолчанию: 65,536.</p> <p>Из таблицы не всегда загружаются блоки размера <code>max_block_size</code>. Если ясно, что нужно прочитать меньше данных, то будет считан блок меньшего размера.</p> <h2 id=preferred-block-size-bytes>preferred_block_size_bytes<a class=headerlink href=#preferred-block-size-bytes title="Permanent link">&para;</a></h2> <p>Служит для тех же целей что и <code>max_block_size</code>, но задает рекомедуемый размер блоков в байтах, выбирая адаптивное количество строк в блоке.<br> При этом размер блока не может быть более <code>max_block_size</code> строк.<br> По умолчанию: 1,000,000. Работает только при чтении из MergeTree-движков.</p> <h2 id=setting-merge_tree_uniform_read_distribution>merge_tree_uniform_read_distribution<a class=headerlink href=#setting-merge_tree_uniform_read_distribution title="Permanent link">&para;</a></h2> <p>При чтении из таблиц <a href=../../table_engines/mergetree/ >MergeTree*</a> ClickHouse использует несколько потоков. Этот параметр включает/выключает равномерное распределение заданий по рабочим потокам. Алгоритм равномерного распределения стремится сделать время выполнения всех потоков примерно равным для одного запроса <code>SELECT</code>.</p> <p><strong>Возможные значения</strong></p> <ul> <li>0 — не использовать равномерное распределение заданий на чтение.</li> <li>1 — использовать равномерное распределение заданий на чтение.</li> </ul> <p><strong>Значение по умолчанию</strong>: 1.</p> <h2 id=setting-merge_tree_min_rows_for_concurrent_read>merge_tree_min_rows_for_concurrent_read<a class=headerlink href=#setting-merge_tree_min_rows_for_concurrent_read title="Permanent link">&para;</a></h2> <p>Если количество строк, считываемых из файла таблицы <a href=../../table_engines/mergetree/ >MergeTree*</a> превышает <code>merge_tree_min_rows_for_concurrent_read</code>, то ClickHouse пытается выполнить одновременное чтение из этого файла в несколько потоков.</p> <p><strong>Возможные значения</strong></p> <p>Любое положительное целое число.</p> <p><strong>Значение по умолчанию</strong>: 163840.</p> <h2 id=setting-merge_tree_min_rows_for_seek>merge_tree_min_rows_for_seek<a class=headerlink href=#setting-merge_tree_min_rows_for_seek title="Permanent link">&para;</a></h2> <p>Если расстояние между двумя блоками данных для чтения в одном файле меньше, чем <code>merge_tree_min_rows_for_seek</code> строк, то ClickHouse не перескакивает через блоки, а считывает данные последовательно.</p> <p><strong>Возможные значения</strong></p> <p>Любое положительное целое число.</p> <p><strong>Значение по умолчанию</strong>: 0.</p> <h2 id=setting-merge_tree_coarse_index_granularity>merge_tree_coarse_index_granularity<a class=headerlink href=#setting-merge_tree_coarse_index_granularity title="Permanent link">&para;</a></h2> <p>При поиске данных ClickHouse проверяет засечки данных в файле индекса. Если ClickHouse обнаруживает, что требуемые ключи находятся в некотором диапазоне, он делит этот диапазон на <code>merge_tree_coarse_index_granularity</code> поддиапазонов и выполняет в них рекурсивный поиск нужных ключей.</p> <p><strong>Возможные значения</strong></p> <p>Любое положительное целое число.</p> <p><strong>Значение по умолчанию</strong>: 8.</p> <h2 id=setting-merge_tree_max_rows_to_use_cache>merge_tree_max_rows_to_use_cache<a class=headerlink href=#setting-merge_tree_max_rows_to_use_cache title="Permanent link">&para;</a></h2> <p>Если требуется прочитать более, чем <code>merge_tree_max_rows_to_use_cache</code> строк в одном запросе, ClickHouse не используют кэш несжатых блоков. Настройка сервера <a href=../../server_settings/settings/#server-settings-uncompressed_cache_size>uncompressed_cache_size</a> определяет размер кэша несжатых блоков.</p> <p><strong>Возможные значения</strong></p> <p>Любое положительное целое число.</p> <p><strong>Значение по умолчанию</strong>: 1048576.</p> <h2 id=settings-min_bytes_to_use_direct_io>min_bytes_to_use_direct_io<a class=headerlink href=#settings-min_bytes_to_use_direct_io title="Permanent link">&para;</a></h2> <p>Минимальный объем данных, необходимый для прямого (небуферизованного) чтения/записи (direct I/O) на диск.</p> <p>ClickHouse использует этот параметр при чтении данных из таблиц. Если общий объем хранения всех данных для чтения превышает <code>min_bytes_to_use_direct_io</code> байт, тогда ClickHouse использует флаг <code>O_DIRECT</code> при чтении данных с диска.</p> <p><strong>Возможные значения</strong></p> <ul> <li>0 — прямой ввод-вывод отключен.</li> <li>Положительное целое число.</li> </ul> <p><strong>Значение по умолчанию</strong>: 0.</p> <h2 id=settings-log-queries>log_queries<a class=headerlink href=#settings-log-queries title="Permanent link">&para;</a></h2> <p>Установка логгирования запроса.</p> <p>Запросы, переданные в ClickHouse с этой установкой, логгируются согласно правилам конфигурационного параметра сервера <a href=../../server_settings/settings/#server_settings-query-log>query_log</a>.</p> <p><strong>Пример</strong> :</p> <div class=codehilite><pre><span></span><code><span class=err>log_queries=1</span>
</code></pre></div> <h2 id=settings-max_insert_block_size>max_insert_block_size<a class=headerlink href=#settings-max_insert_block_size title="Permanent link">&para;</a></h2> <p>Формировать блоки указанного размера, при вставке в таблицу.<br> Эта настройка действует только в тех случаях, когда сервер сам формирует такие блоки.<br> Например, при INSERT-е через HTTP интерфейс, сервер парсит формат данных, и формирует блоки указанного размера.<br> А при использовании clickhouse-client, клиент сам парсит данные, и настройка max_insert_block_size на сервере не влияет на размер вставляемых блоков.<br> При использовании INSERT SELECT, настройка так же не имеет смысла, так как данные будут вставляться теми блоками, которые вышли после SELECT-а.</p> <p>Значение по умолчанию: 1,048,576.</p> <p>Это значение намного больше, чем <code>max_block_size</code>. Это сделано, потому что некоторые движки таблиц (<code>*MergeTree</code>) будут на каждый вставляемый блок формировать кусок данных на диске, что является довольно большой сущностью. Также, в таблицах типа <code>*MergeTree</code>, данные сортируются при вставке, и достаточно большой размер блока позволяет отсортировать больше данных в оперативке.</p> <h2 id=settings-max_replica_delay_for_distributed_queries>max_replica_delay_for_distributed_queries<a class=headerlink href=#settings-max_replica_delay_for_distributed_queries title="Permanent link">&para;</a></h2> <p>Отключает отстающие реплики при распределенных запросах. Смотрите "<a href=../../table_engines/replication/ >Репликация</a>".</p> <p>Устанавливает время в секундах. Если оставание реплики больше установленного значения, то реплика не используется.</p> <p>Значение по умолчанию: 300.</p> <p>Используется при выполнении <code>SELECT</code> из распределенной таблицы, которая указывает на реплицированные таблицы.</p> <h2 id=settings-max_threads>max_threads<a class=headerlink href=#settings-max_threads title="Permanent link">&para;</a></h2> <p>Максимальное количество потоков обработки запроса без учёта потоков для чтения данных с удалённых серверов (смотрите параметр max_distributed_connections).</p> <p>Этот параметр относится к потокам, которые выполняют параллельно одни стадии конвейера выполнения запроса.<br> Например, при чтении из таблицы, если есть возможность вычислять выражения с функциями, фильтровать с помощью WHERE и предварительно агрегировать для GROUP BY параллельно, используя хотя бы количество потоков max_threads, то используются max_threads.</p> <p>Значение по умолчанию: количество процессорных ядер без учёта Hyper-Threading.</p> <p>Если на сервере обычно исполняется менее одного запроса SELECT одновременно, то выставите этот параметр в значение чуть меньше количества реальных процессорных ядер.</p> <p>Для запросов, которые быстро завершаются из-за LIMIT-а, имеет смысл выставить max_threads поменьше. Например, если нужное количество записей находится в каждом блоке, то при max_threads = 8 будет считано 8 блоков, хотя достаточно было прочитать один.</p> <p>Чем меньше <code>max_threads</code>, тем меньше будет использоваться оперативки.</p> <h2 id=max-compress-block-size>max_compress_block_size<a class=headerlink href=#max-compress-block-size title="Permanent link">&para;</a></h2> <p>Максимальный размер блоков не сжатых данных перед сжатием при записи в таблицу. По умолчанию - 1 048 576 (1 MiB). При уменьшении размера, незначительно уменьшается коэффициент сжатия, незначительно возрастает скорость сжатия и разжатия за счёт кэш-локальности, и уменьшается потребление оперативки. Как правило, не имеет смысла менять эту настройку.</p> <p>Не путайте блоки для сжатия (кусок памяти, состоящий из байт) и блоки для обработки запроса (пачка строк из таблицы).</p> <h2 id=min-compress-block-size>min_compress_block_size<a class=headerlink href=#min-compress-block-size title="Permanent link">&para;</a></h2> <p>Для таблиц типа "<a href=../../table_engines/mergetree/ >MergeTree</a>". В целях уменьшения задержек при обработке запросов, блок сжимается при записи следующей засечки, если его размер не меньше min_compress_block_size. По умолчанию - 65 536.</p> <p>Реальный размер блока, если несжатых данных меньше max_compress_block_size, будет не меньше этого значения и не меньше объёма данных на одну засечку.</p> <p>Рассмотрим пример. Пусть index_granularity, указанная при создании таблицы - 8192.</p> <p>Пусть мы записываем столбец типа UInt32 (4 байта на значение). При записи 8192 строк, будет всего 32 КБ данных. Так как min_compress_block_size = 65 536, сжатый блок будет сформирован на каждые две засечки.</p> <p>Пусть мы записываем столбец URL типа String (средний размер - 60 байт на значение). При записи 8192 строк, будет, в среднем, чуть меньше 500 КБ данных. Так как это больше 65 536 строк, то сжатый блок будет сформирован на каждую засечку. В этом случае, при чтении с диска данных из диапазона в одну засечку, не будет разжато лишних данных.</p> <p>Как правило, не имеет смысла менять эту настройку.</p> <h2 id=settings-max_query_size>max_query_size<a class=headerlink href=#settings-max_query_size title="Permanent link">&para;</a></h2> <p>Максимальный кусок запроса, который будет считан в оперативку для разбора парсером языка SQL.<br> Запрос INSERT также содержит данные для INSERT-а, которые обрабатываются отдельным, потоковым парсером (расходующим O(1) оперативки), и не учитываются в этом ограничении.</p> <p>Значение по умолчанию: 256 Кб.</p> <h2 id=interactive-delay>interactive_delay<a class=headerlink href=#interactive-delay title="Permanent link">&para;</a></h2> <p>Интервал в микросекундах для проверки, не запрошена ли остановка выполнения запроса, и отправки прогресса.</p> <p>Значение по умолчанию: 100,000 (проверять остановку запроса и отправлять прогресс десять раз в секунду).</p> <h2 id=connect-timeout-receive-timeout-send-timeout>connect_timeout, receive_timeout, send_timeout<a class=headerlink href=#connect-timeout-receive-timeout-send-timeout title="Permanent link">&para;</a></h2> <p>Таймауты в секундах на сокет, по которому идёт общение с клиентом.</p> <p>Значение по умолчанию: 10, 300, 300.</p> <h2 id=poll-interval>poll_interval<a class=headerlink href=#poll-interval title="Permanent link">&para;</a></h2> <p>Блокироваться в цикле ожидания запроса в сервере на указанное количество секунд.</p> <p>Значение по умолчанию: 10.</p> <h2 id=max-distributed-connections>max_distributed_connections<a class=headerlink href=#max-distributed-connections title="Permanent link">&para;</a></h2> <p>Максимальное количество одновременных соединений с удалёнными серверами при распределённой обработке одного запроса к одной таблице типа Distributed. Рекомендуется выставлять не меньше, чем количество серверов в кластере.</p> <p>Значение по умолчанию: 1024.</p> <p>Следующие параметры имеют значение только на момент создания таблицы типа Distributed (и при запуске сервера), поэтому их не имеет смысла менять в рантайме.</p> <h2 id=distributed-connections-pool-size>distributed_connections_pool_size<a class=headerlink href=#distributed-connections-pool-size title="Permanent link">&para;</a></h2> <p>Максимальное количество одновременных соединений с удалёнными серверами при распределённой обработке всех запросов к одной таблице типа Distributed. Рекомендуется выставлять не меньше, чем количество серверов в кластере.</p> <p>Значение по умолчанию: 1024.</p> <h2 id=connect-timeout-with-failover-ms>connect_timeout_with_failover_ms<a class=headerlink href=#connect-timeout-with-failover-ms title="Permanent link">&para;</a></h2> <p>Таймаут в миллисекундах на соединение с удалённым сервером, для движка таблиц Distributed, если используются секции shard и replica в описании кластера.<br> В случае неуспеха, делается несколько попыток соединений с разными репликами.</p> <p>Значение по умолчанию: 50.</p> <h2 id=connections-with-failover-max-tries>connections_with_failover_max_tries<a class=headerlink href=#connections-with-failover-max-tries title="Permanent link">&para;</a></h2> <p>Максимальное количество попыток соединения с каждой репликой, для движка таблиц Distributed.</p> <p>Значение по умолчанию: 3.</p> <h2 id=extremes>extremes<a class=headerlink href=#extremes title="Permanent link">&para;</a></h2> <p>Считать ли экстремальные значения (минимумы и максимумы по столбцам результата запроса). Принимает 0 или 1. По умолчанию - 0 (выключено).<br> Подробнее смотрите раздел "Экстремальные значения".</p> <h2 id=setting-use_uncompressed_cache>use_uncompressed_cache<a class=headerlink href=#setting-use_uncompressed_cache title="Permanent link">&para;</a></h2> <p>Использовать ли кэш разжатых блоков. Принимает 0 или 1. По умолчанию - 0 (выключено).</p> <p>Использование кэша несжатых блоков (только для таблиц семейства MergeTree) может существенно сократить задержку и увеличить пропускную способность при работе с большим количеством коротких запросов. Включите эту настройку для пользователей, от которых идут частые короткие запросы. Также обратите внимание на конфигурационный параметр <a href=../../server_settings/settings/#server-settings-uncompressed_cache_size>uncompressed_cache_size</a> (настраивается только в конфигурационном файле) – размер кэша разжатых блоков. По умолчанию - 8 GiB. Кэш разжатых блоков заполняется по мере надобности, а наиболее невостребованные данные автоматически удаляются.</p> <p>Для запросов, читающих хоть немного приличный объём данных (миллион строк и больше), кэш разжатых блоков автоматически выключается, чтобы оставить место для действительно мелких запросов. Поэтому, можно держать настройку <code>use_uncompressed_cache</code> всегда выставленной в 1.</p> <h2 id=replace-running-query>replace_running_query<a class=headerlink href=#replace-running-query title="Permanent link">&para;</a></h2> <p>При использовании интерфейса HTTP может быть передан параметр query_id. Это любая строка, которая служит идентификатором запроса.<br> Если в этот момент, уже существует запрос от того же пользователя с тем же query_id, то поведение определяется параметром replace_running_query.</p> <p><code>0</code> - (по умолчанию) кинуть исключение (не давать выполнить запрос, если запрос с таким же query_id уже выполняется);</p> <p><code>1</code> - отменить старый запрос и начать выполнять новый.</p> <p>Эта настройка, выставленная в 1, используется в Яндекс.Метрике для реализации suggest-а значений для условий сегментации. После ввода очередного символа, если старый запрос ещё не выполнился, его следует отменить.</p> <h2 id=stream-flush-interval-ms>stream_flush_interval_ms<a class=headerlink href=#stream-flush-interval-ms title="Permanent link">&para;</a></h2> <p>Работает для таблиц со стриммингом в случае тайм-аута, или когда поток генерирует <a href=#settings-max_insert_block_size>max_insert_block_size</a> строк.</p> <p>Значение по умолчанию - 7500.</p> <p>Чем меньше значение, тем чаще данные сбрасываются в таблицу. Установка слишком низкого значения приводит к снижению производительности.</p> <h2 id=settings-load_balancing>load_balancing<a class=headerlink href=#settings-load_balancing title="Permanent link">&para;</a></h2> <p>Задает алгоритм выбора реплик, используемый при обработке распределенных запросов.</p> <p>ClickHouse поддерживает следующие алгоритмы выбора реплик:</p> <ul> <li><a href=#load_balancing-random>Random</a> (by default)</li> <li><a href=#load_balancing-nearest_hostname>Nearest hostname</a></li> <li><a href=#load_balancing-in_order>In order</a></li> <li><a href=#load_balancing-first_or_random>First or random</a></li> </ul> <h3 id=load_balancing-random>Random (by default)<a class=headerlink href=#load_balancing-random title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code><span class=n>load_balancing</span> <span class=o>=</span> <span class=n>random</span>
</code></pre></div> <p>Для каждой реплики считается количество ошибок. Запрос отправляется на реплику с минимальным числом ошибок, а если таких несколько, то на случайную из них.<br> Недостатки: не учитывается близость серверов; если на репликах оказались разные данные, то вы будете получать так же разные данные.</p> <h3 id=load_balancing-nearest_hostname>Nearest Hostname<a class=headerlink href=#load_balancing-nearest_hostname title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code><span class=n>load_balancing</span> <span class=o>=</span> <span class=n>nearest_hostname</span>
</code></pre></div> <p>Для каждой реплики считается количество ошибок. Каждые 5 минут, число ошибок целочисленно делится на 2. Таким образом, обеспечивается расчёт числа ошибок за недавнее время с экспоненциальным сглаживанием. Если есть одна реплика с минимальным числом ошибок (то есть, на других репликах недавно были ошибки) - запрос отправляется на неё. Если есть несколько реплик с одинаковым минимальным числом ошибок, то запрос отправляется на реплику, имя хоста которой в конфигурационном файле минимально отличается от имени хоста сервера (по количеству отличающихся символов на одинаковых позициях, до минимальной длины обеих имён хостов).</p> <p>Для примера, example01-01-1 и example01-01-2.yandex.ru отличаются в одной позиции, а example01-01-1 и example01-02-2 - в двух.<br> Этот метод может показаться примитивным, но он не требует внешних данных о топологии сети и не сравнивает IP-адреса, что было бы сложно для наших IPv6-адресов.</p> <p>Таким образом, если есть равнозначные реплики, предпочитается ближайшая по имени.<br> Также можно сделать предположение, что при отправке запроса на один и тот же сервер, в случае отсутствия сбоев, распределённый запрос будет идти тоже на одни и те же серверы. То есть, даже если на репликах расположены разные данные, запрос будет возвращать в основном одинаковые результаты.</p> <h3 id=load_balancing-in_order>In Order<a class=headerlink href=#load_balancing-in_order title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code><span class=n>load_balancing</span> <span class=o>=</span> <span class=n>in_order</span>
</code></pre></div> <p>Реплики с одинаковым количеством ошибок опрашиваются в порядке, определённом конфигурацией.<br> Этот способ подходит для тех случаев, когда вы точно знаете, какая реплика предпочтительнее.</p> <h3 id=load_balancing-first_or_random>First or Random<a class=headerlink href=#load_balancing-first_or_random title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code><span class=n>load_balancing</span> <span class=o>=</span> <span class=n>first_or_random</span>
</code></pre></div> <p>Алгоритм выбирает первую реплику или случайную реплику, если первая недоступна. Он эффективен в топологиях с перекрестной репликацей, но бесполезен в других конфигурациях.</p> <p>Алгоритм <code>first or random</code> решает проблему алгоритма <code>in order</code>. При использовании <code>in order</code>, если одна реплика перестаёт ответчать, то следующая за ней принимает двойную нагрузку, в то время как все остальные обрабатываю свой обычный трафик. Алгоритм <code>first or random</code> равномерно распределяет нагрузку между репликами.</p> <h2 id=settings-prefer_localhost_replica>prefer_localhost_replica<a class=headerlink href=#settings-prefer_localhost_replica title="Permanent link">&para;</a></h2> <p>Включает или выключает предпочтительное использование localhost реплики при обработке распределенных запросов.</p> <p>Возможные значения:</p> <ul> <li>1 — ClickHouse всегда отправляет запрос на localhost реплику, если она существует.</li> <li>0 — ClickHouse использует балансировку, заданную настройкой <a href=#settings-load_balancing>load_balancing</a>.</li> </ul> <p>Значение по умолчанию: 1.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Отключайте эту настройку при использовании <a href=#settings-max_parallel_replicas>max_parallel_replicas</a>.</p> </div> <h2 id=totals-mode>totals_mode<a class=headerlink href=#totals-mode title="Permanent link">&para;</a></h2> <p>Каким образом вычислять TOTALS при наличии HAVING, а также при наличии max_rows_to_group_by и group_by_overflow_mode = 'any'.<br> Смотрите раздел "Модификатор WITH TOTALS".</p> <h2 id=totals-auto-threshold>totals_auto_threshold<a class=headerlink href=#totals-auto-threshold title="Permanent link">&para;</a></h2> <p>Порог для <code>totals_mode = 'auto'</code>.<br> Смотрите раздел "Модификатор WITH TOTALS".</p> <h2 id=settings-max_parallel_replicas>max_parallel_replicas<a class=headerlink href=#settings-max_parallel_replicas title="Permanent link">&para;</a></h2> <p>Максимальное количество используемых реплик каждого шарда при выполнении запроса.<br> Для консистентности (чтобы получить разные части одного и того же разбиения), эта опция работает только при заданном ключе сэмплирования.<br> Отставание реплик не контролируется.</p> <h2 id=compile>compile<a class=headerlink href=#compile title="Permanent link">&para;</a></h2> <p>Включить компиляцию запросов. По умолчанию - 0 (выключено).</p> <p>Компиляция предусмотрена только для части конвейера обработки запроса - для первой стадии агрегации (GROUP BY).<br> В случае, если эта часть конвейера была скомпилирована, запрос может работать быстрее, за счёт разворачивания коротких циклов и инлайнинга вызовов агрегатных функций. Максимальный прирост производительности (до четырёх раз в редких случаях) достигается на запросах с несколькими простыми агрегатными функциями. Как правило, прирост производительности незначителен. В очень редких случаях возможно замедление выполнения запроса.</p> <h2 id=min-count-to-compile>min_count_to_compile<a class=headerlink href=#min-count-to-compile title="Permanent link">&para;</a></h2> <p>После скольких раз, когда скомпилированный кусок кода мог пригодиться, выполнить его компиляцию. По умолчанию - 3.<br> Для тестирования можно установить значение 0: компиляция выполняется синхронно, и запрос ожидает окончания процесса компиляции перед продолжением выполнения. Во всех остальных случаях используйте значения, начинающиеся с 1. Как правило, компиляция занимает по времени около 5-10 секунд.<br> В случае, если значение равно 1 или больше, компиляция выполняется асинхронно, в отдельном потоке. При готовности результата, он сразу же будет использован, в том числе, уже выполняющимися в данный момент запросами.</p> <p>Скомпилированный код требуется для каждого разного сочетания используемых в запросе агрегатных функций и вида ключей в GROUP BY.<br> Результаты компиляции сохраняются в директории build в виде .so файлов. Количество результатов компиляции не ограничено, так как они не занимают много места. При перезапуске сервера, старые результаты будут использованы, за исключением случая обновления сервера - тогда старые результаты удаляются.</p> <h2 id=input-format-skip-unknown-fields>input_format_skip_unknown_fields<a class=headerlink href=#input-format-skip-unknown-fields title="Permanent link">&para;</a></h2> <p>Если значение равно true, то при выполнении INSERT входные данные из столбцов с неизвестными именами будут пропущены. В противном случае эта ситуация создаст исключение.<br> Работает для форматов JSONEachRow и TSKV.</p> <h2 id=session_settings-output_format_json_quote_64bit_integers>output_format_json_quote_64bit_integers<a class=headerlink href=#session_settings-output_format_json_quote_64bit_integers title="Permanent link">&para;</a></h2> <p>Если значение истинно, то при использовании JSON* форматов UInt64 и Int64 числа выводятся в кавычках (из соображений совместимости с большинством реализаций JavaScript), иначе - без кавычек.</p> <h2 id=settings-format_csv_delimiter>format_csv_delimiter<a class=headerlink href=#settings-format_csv_delimiter title="Permanent link">&para;</a></h2> <p>Символ, интерпретируемый как разделитель в данных формата CSV. По умолчанию — <code>,</code>.</p> <h2 id=settings-input_format_csv_unquoted_null_literal_as_null>input_format_csv_unquoted_null_literal_as_null<a class=headerlink href=#settings-input_format_csv_unquoted_null_literal_as_null title="Permanent link">&para;</a></h2> <p>Для формата CSV включает или выключает парсинг неэкранированной строки <code>NULL</code> как литерала (синоним для <code>\N</code>)</p> <h2 id=settings-insert_quorum>insert_quorum<a class=headerlink href=#settings-insert_quorum title="Permanent link">&para;</a></h2> <p>Включает кворумную запись.</p> <ul> <li>Если <code>insert_quorum &lt; 2</code>, то кворумная запись выключена.</li> <li>Если <code>insert_quorum &gt;= 2</code>, то кворумная запись включена.</li> </ul> <p>Значение по умолчанию: 0.</p> <p><strong>Кворумная запись</strong></p> <p><code>INSERT</code> завершается успешно только в том случае, когда ClickHouse смог без ошибки записать данные в <code>insert_quorum</code> реплик за время <code>insert_quorum_timeout</code>. Если по любой причине количество реплик с успешной записью не достигнет <code>insert_quorum</code>, то запись считается не состоявшейся и ClickHouse удалит вставленный блок из всех реплик, куда уже успел записать данные.</p> <p>Все реплики в кворуме консистентны, т.е. содержат данные всех более ранних запросов <code>INSERT</code>. Последовательность <code>INSERT</code> линеаризуется.</p> <p>При чтении данных, записанных с <code>insert_quorum</code> можно использовать настройку <a href=#settings-select_sequential_consistency>select_sequential_consistency</a>.</p> <p><strong>ClickHouse генерирует исключение</strong></p> <ul> <li>Если количество доступных реплик на момент запроса меньше <code>insert_quorum</code>.</li> <li>При попытке записать данные в момент, когда предыдущий блок ещё не вставлен в <code>insert_quorum</code> реплик. Эта ситуация может возникнуть, если пользователь вызвал <code>INSERT</code> прежде, чем завершился предыдущий с <code>insert_quorum</code>.</li> </ul> <p><strong>См. также параметры:</strong></p> <ul> <li><a href=#settings-insert_quorum_timeout>insert_quorum_timeout</a></li> <li><a href=#settings-select_sequential_consistency>select_sequential_consistency</a></li> </ul> <h2 id=settings-insert_quorum_timeout>insert_quorum_timeout<a class=headerlink href=#settings-insert_quorum_timeout title="Permanent link">&para;</a></h2> <p>Время ожидания кворумной записи в секундах. Если время прошло, а запись так не состоялась, то ClickHouse сгенерирует исключение и клиент должен повторить запрос на запись того же блока на эту же или любую другую реплику.</p> <p>Значение по умолчанию: 60 секунд.</p> <p><strong>См. также параметры:</strong></p> <ul> <li><a href=#settings-insert_quorum>insert_quorum</a></li> <li><a href=#settings-select_sequential_consistency>select_sequential_consistency</a></li> </ul> <h2 id=settings-select_sequential_consistency>select_sequential_consistency<a class=headerlink href=#settings-select_sequential_consistency title="Permanent link">&para;</a></h2> <p>Включает или выключает последовательную консистентность для запросов <code>SELECT</code>.</p> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию: 0.</p> <p><strong>Использование</strong></p> <p>Когда последовательная консистентность включена, то ClickHouse позволит клиенту выполнить запрос <code>SELECT</code> только к тем репликам, которые содержат данные всех предыдущих запросов <code>INSERT</code>, выполненных с <code>insert_quorum</code>. Если клиент обратится к неполной реплике, то ClickHouse сгенерирует исключение. В запросе SELECT не будут участвовать данные, которые ещё не были записаны на кворум реплик.</p> <p><strong>Смотрите также</strong></p> <ul> <li><a href=#settings-insert_quorum>insert_quorum</a></li> <li><a href=#settings-insert_quorum_timeout>insert_quorum_timeout</a></li> </ul> <h2 id=settings-count_distinct_implementation>count_distinct_implementation<a class=headerlink href=#settings-count_distinct_implementation title="Permanent link">&para;</a></h2> <p>Задаёт, какая из функций <code>uniq*</code> используется при выполнении конструкции <a href=../../../query_language/agg_functions/reference/#agg_function-count>COUNT(DISTINCT ...)</a>.</p> <p>Возможные значения:</p> <ul> <li><a href=../../../query_language/agg_functions/reference/#agg_function-uniq>uniq</a></li> <li><a href=../../../query_language/agg_functions/reference/#agg_function-uniqcombined>uniqCombined</a></li> <li><a href=../../../query_language/agg_functions/reference/#agg_function-uniqhll12>uniqHLL12</a></li> <li><a href=../../../query_language/agg_functions/reference/#agg_function-uniqexact>uniqExact</a></li> </ul> <p>Значение по умолчанию — <code>uniqExact</code>.</p> <h2 id=settings-max_network_bytes>max_network_bytes<a class=headerlink href=#settings-max_network_bytes title="Permanent link">&para;</a></h2> <p>Ограничивает объем данных (в байтах), который принимается или передается по сети при выполнении запроса. Параметр применяется к каждому отдельному запросу.</p> <p>Возможные значения:</p> <ul> <li>Положительное целое число.</li> <li>0 — контроль объема данных отключен.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=settings-max_network_bandwidth>max_network_bandwidth<a class=headerlink href=#settings-max_network_bandwidth title="Permanent link">&para;</a></h2> <p>Ограничивает скорость обмена данными по сети в байтах в секунду. Параметр применяется к каждому отдельному запросу.</p> <p>Возможные значения:</p> <ul> <li>Положительное целое число.</li> <li>0 — контроль скорости передачи данных отключен.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=settings-max_network_bandwidth_for_user>max_network_bandwidth_for_user<a class=headerlink href=#settings-max_network_bandwidth_for_user title="Permanent link">&para;</a></h2> <p>Ограничивает скорость обмена данными по сети в байтах в секунду. Этот параметр применяется ко всем одновременно выполняемым запросам, запущенным одним пользователем.</p> <p>Возможные значения:</p> <ul> <li>Положительное целое число.</li> <li>0 — управление скоростью передачи данных отключено.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=settings-max_network_bandwidth_for_all_users>max_network_bandwidth_for_all_users<a class=headerlink href=#settings-max_network_bandwidth_for_all_users title="Permanent link">&para;</a></h2> <p>Ограничивает скорость обмена данными по сети в байтах в секунду. Этот параметр применяется ко всем одновременно выполняемым запросам на сервере.</p> <p>Возможные значения:</p> <ul> <li>Положительное целое число.</li> <li>0 — управление скоростью передачи данных отключено.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=settings-allow_experimental_cross_to_join_conversion>allow_experimental_cross_to_join_conversion<a class=headerlink href=#settings-allow_experimental_cross_to_join_conversion title="Permanent link">&para;</a></h2> <p>Включает или отключает:</p> <ol> <li>Перезапись запросов из синтаксиса с запятыми в синтаксис <code>JOIN ON/USING</code>. Если значение параметра равно 0, ClickHouse не обрабатывает запросы с синтаксисом, использующим запятые, и генерирует исключение.</li> <li>Преобразование <code>CROSS JOIN</code> в <code>INNER JOIN</code>, если условия объединения таблиц это позволяют.</li> </ol> <p>Возможные значения:</p> <ul> <li>0 — выключена.</li> <li>1 — включена.</li> </ul> <p>Значение по умолчанию: 1.</p> <p><strong>Смотрите также</strong></p> <ul> <li><a href=../../../query_language/select/#select-join>Множественный JOIN</a></li> </ul> <h2 id=setting-optimize_throw_if_noop>optimize_throw_if_noop<a class=headerlink href=#setting-optimize_throw_if_noop title="Permanent link">&para;</a></h2> <p>Включает или отключает генерирование исключения в в случаях, когда запрос <a href=../../../query_language/misc/#misc_operations-optimize>OPTIMIZE</a> не выполняет мёрж.</p> <p>По умолчанию, <code>OPTIMIZE</code> завершается успешно и в тех случаях, когда он ничего не сделал. Настройка позволяет отделить подобные случаи и включает генерирование исключения с поясняющим сообщением.</p> <p>Возможные значения:</p> <ul> <li>1 — генерирование исключения включено.</li> <li>0 — генерирование исключения выключено.</li> </ul> <p>Значение по умолчанию — 0.</p> <h2 id=setting-os_thread_priority>os_thread_priority<a class=headerlink href=#setting-os_thread_priority title="Permanent link">&para;</a></h2> <p>Устанавливает приоритет (<a href=https://en.wikipedia.org/wiki/Nice_(Unix) rel="external nofollow noreferrer">nice</a>) для потоков, исполняющих запросы. Планировщик ОС учитывает эти приоритеты при выборе следующего потока для исполнения на доступном ядре CPU.</p> <div class="admonition warning"> <p class=admonition-title>Предупреждение</p> <p>Для использования этой настройки необходимо установить свойство <code>CAP_SYS_NICE</code>. Пакет <code>clickhouse-server</code> устанавливает его во время инсталляции. Некоторые виртуальные окружения не позволяют установить <code>CAP_SYS_NICE</code>. В этом случае, <code>clickhouse-server</code> выводит сообщение при запуске.</p> </div> <p>Допустимые значения:</p> <ul> <li>Любое значение из диапазона <code>[-20, 19]</code>.</li> </ul> <p>Более низкие значения означают более высокий приоритет. Потоки с низкими значениями приоритета <code>nice</code> выполняются чаще, чем потоки с более высокими значениями. Высокие значения предпочтительно использовать для долгих неинтерактивных запросов, поскольку это позволяет бысто выделить ресурс в пользу коротких интерактивных запросов.</p> <p>Значение по умолчанию — 0.</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Собрано из <a href=https://github.com/ClickHouse/ClickHouse/commit/25eae6abe035bda78634f17d15c9f05348d97aad rel="external nofollow noreferrer" target=_blank class=text-reset>25eae6abe0</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Cодержание</label> <a href=#distributed-product-mode title=distributed_product_mode class="nav-link text-wrap d-inline-block w-100"> distributed_product_mode </a> <a href=#enable-optimize-predicate-expression title=enable_optimize_predicate_expression class="nav-link text-wrap d-inline-block w-100"> enable_optimize_predicate_expression </a> <a href=#settings-fallback_to_stale_replicas_for_distributed_queries title=fallback_to_stale_replicas_for_distributed_queries class="nav-link text-wrap d-inline-block w-100"> fallback_to_stale_replicas_for_distributed_queries </a> <a href=#settings-force_index_by_date title=force_index_by_date class="nav-link text-wrap d-inline-block w-100"> force_index_by_date </a> <a href=#settings-force_primary_key title=force_primary_key class="nav-link text-wrap d-inline-block w-100"> force_primary_key </a> <a href=#format-schema title=format_schema class="nav-link text-wrap d-inline-block w-100"> format_schema </a> <a href=#fsync-metadata title=fsync_metadata class="nav-link text-wrap d-inline-block w-100"> fsync_metadata </a> <a href=#settings-enable_http_compression title=enable_http_compression class="nav-link text-wrap d-inline-block w-100"> enable_http_compression </a> <a href=#settings-http_zlib_compression_level title=http_zlib_compression_level class="nav-link text-wrap d-inline-block w-100"> http_zlib_compression_level </a> <a href=#settings-http_native_compression_disable_checksumming_on_decompress title=http_native_compression_disable_checksumming_on_decompress class="nav-link text-wrap d-inline-block w-100"> http_native_compression_disable_checksumming_on_decompress </a> <a href=#settings-send_progress_in_http_headers title=send_progress_in_http_headers class="nav-link text-wrap d-inline-block w-100"> send_progress_in_http_headers </a> <a href=#input-format-allow-errors-num title=input_format_allow_errors_num class="nav-link text-wrap d-inline-block w-100"> input_format_allow_errors_num </a> <a href=#input-format-allow-errors-ratio title=input_format_allow_errors_ratio class="nav-link text-wrap d-inline-block w-100"> input_format_allow_errors_ratio </a> <a href=#settings-input_format_values_interpret_expressions title=input_format_values_interpret_expressions class="nav-link text-wrap d-inline-block w-100"> input_format_values_interpret_expressions </a> <a href=#session_settings-input_format_defaults_for_omitted_fields title=input_format_defaults_for_omitted_fields class="nav-link text-wrap d-inline-block w-100"> input_format_defaults_for_omitted_fields </a> <a href=#settings-input_format_null_as_default title=input_format_null_as_default class="nav-link text-wrap d-inline-block w-100"> input_format_null_as_default </a> <a href=#settings-input_format_skip_unknown_fields title=input_format_skip_unknown_fields class="nav-link text-wrap d-inline-block w-100"> input_format_skip_unknown_fields </a> <a href=#settings-input_format_import_nested_json title=input_format_import_nested_json class="nav-link text-wrap d-inline-block w-100"> input_format_import_nested_json </a> <a href=#settings-input_format_with_names_use_header title=input_format_with_names_use_header class="nav-link text-wrap d-inline-block w-100"> input_format_with_names_use_header </a> <a href=#settings-date_time_input_format title=date_time_input_format class="nav-link text-wrap d-inline-block w-100"> date_time_input_format </a> <a href=#settings-join_default_strictness title=join_default_strictness class="nav-link text-wrap d-inline-block w-100"> join_default_strictness </a> <a href=#settings-join_any_take_last_row title=join_any_take_last_row class="nav-link text-wrap d-inline-block w-100"> join_any_take_last_row </a> <a href=#settings-join_any_take_last_row title=join_any_take_last_row class="nav-link text-wrap d-inline-block w-100"> join_any_take_last_row </a> <a href=#settings-join_use_nulls title=join_use_nulls class="nav-link text-wrap d-inline-block w-100"> join_use_nulls </a> <a href=#max-block-size title=max_block_size class="nav-link text-wrap d-inline-block w-100"> max_block_size </a> <a href=#preferred-block-size-bytes title=preferred_block_size_bytes class="nav-link text-wrap d-inline-block w-100"> preferred_block_size_bytes </a> <a href=#setting-merge_tree_uniform_read_distribution title=merge_tree_uniform_read_distribution class="nav-link text-wrap d-inline-block w-100"> merge_tree_uniform_read_distribution </a> <a href=#setting-merge_tree_min_rows_for_concurrent_read title=merge_tree_min_rows_for_concurrent_read class="nav-link text-wrap d-inline-block w-100"> merge_tree_min_rows_for_concurrent_read </a> <a href=#setting-merge_tree_min_rows_for_seek title=merge_tree_min_rows_for_seek class="nav-link text-wrap d-inline-block w-100"> merge_tree_min_rows_for_seek </a> <a href=#setting-merge_tree_coarse_index_granularity title=merge_tree_coarse_index_granularity class="nav-link text-wrap d-inline-block w-100"> merge_tree_coarse_index_granularity </a> <a href=#setting-merge_tree_max_rows_to_use_cache title=merge_tree_max_rows_to_use_cache class="nav-link text-wrap d-inline-block w-100"> merge_tree_max_rows_to_use_cache </a> <a href=#settings-min_bytes_to_use_direct_io title=min_bytes_to_use_direct_io class="nav-link text-wrap d-inline-block w-100"> min_bytes_to_use_direct_io </a> <a href=#settings-log-queries title=log_queries class="nav-link text-wrap d-inline-block w-100"> log_queries </a> <a href=#settings-max_insert_block_size title=max_insert_block_size class="nav-link text-wrap d-inline-block w-100"> max_insert_block_size </a> <a href=#settings-max_replica_delay_for_distributed_queries title=max_replica_delay_for_distributed_queries class="nav-link text-wrap d-inline-block w-100"> max_replica_delay_for_distributed_queries </a> <a href=#settings-max_threads title=max_threads class="nav-link text-wrap d-inline-block w-100"> max_threads </a> <a href=#max-compress-block-size title=max_compress_block_size class="nav-link text-wrap d-inline-block w-100"> max_compress_block_size </a> <a href=#min-compress-block-size title=min_compress_block_size class="nav-link text-wrap d-inline-block w-100"> min_compress_block_size </a> <a href=#settings-max_query_size title=max_query_size class="nav-link text-wrap d-inline-block w-100"> max_query_size </a> <a href=#interactive-delay title=interactive_delay class="nav-link text-wrap d-inline-block w-100"> interactive_delay </a> <a href=#connect-timeout-receive-timeout-send-timeout title="connect_timeout, receive_timeout, send_timeout" class="nav-link text-wrap d-inline-block w-100"> connect_timeout, receive_timeout, send_timeout </a> <a href=#poll-interval title=poll_interval class="nav-link text-wrap d-inline-block w-100"> poll_interval </a> <a href=#max-distributed-connections title=max_distributed_connections class="nav-link text-wrap d-inline-block w-100"> max_distributed_connections </a> <a href=#distributed-connections-pool-size title=distributed_connections_pool_size class="nav-link text-wrap d-inline-block w-100"> distributed_connections_pool_size </a> <a href=#connect-timeout-with-failover-ms title=connect_timeout_with_failover_ms class="nav-link text-wrap d-inline-block w-100"> connect_timeout_with_failover_ms </a> <a href=#connections-with-failover-max-tries title=connections_with_failover_max_tries class="nav-link text-wrap d-inline-block w-100"> connections_with_failover_max_tries </a> <a href=#extremes title=extremes class="nav-link text-wrap d-inline-block w-100"> extremes </a> <a href=#setting-use_uncompressed_cache title=use_uncompressed_cache class="nav-link text-wrap d-inline-block w-100"> use_uncompressed_cache </a> <a href=#replace-running-query title=replace_running_query class="nav-link text-wrap d-inline-block w-100"> replace_running_query </a> <a href=#stream-flush-interval-ms title=stream_flush_interval_ms class="nav-link text-wrap d-inline-block w-100"> stream_flush_interval_ms </a> <a href=#settings-load_balancing title=load_balancing class="nav-link text-wrap d-inline-block w-100"> load_balancing </a> <nav id=toc-toc-51 class="nav flex-column pl-2"> <a href=#load_balancing-random title="Random (by default)" class="nav-link text-wrap d-inline-block w-100"> Random (by default) </a> <a href=#load_balancing-nearest_hostname title="Nearest Hostname" class="nav-link text-wrap d-inline-block w-100"> Nearest Hostname </a> <a href=#load_balancing-in_order title="In Order" class="nav-link text-wrap d-inline-block w-100"> In Order </a> <a href=#load_balancing-first_or_random title="First or Random" class="nav-link text-wrap d-inline-block w-100"> First or Random </a> </nav> <a href=#settings-prefer_localhost_replica title=prefer_localhost_replica class="nav-link text-wrap d-inline-block w-100"> prefer_localhost_replica </a> <a href=#totals-mode title=totals_mode class="nav-link text-wrap d-inline-block w-100"> totals_mode </a> <a href=#totals-auto-threshold title=totals_auto_threshold class="nav-link text-wrap d-inline-block w-100"> totals_auto_threshold </a> <a href=#settings-max_parallel_replicas title=max_parallel_replicas class="nav-link text-wrap d-inline-block w-100"> max_parallel_replicas </a> <a href=#compile title=compile class="nav-link text-wrap d-inline-block w-100"> compile </a> <a href=#min-count-to-compile title=min_count_to_compile class="nav-link text-wrap d-inline-block w-100"> min_count_to_compile </a> <a href=#input-format-skip-unknown-fields title=input_format_skip_unknown_fields class="nav-link text-wrap d-inline-block w-100"> input_format_skip_unknown_fields </a> <a href=#session_settings-output_format_json_quote_64bit_integers title=output_format_json_quote_64bit_integers class="nav-link text-wrap d-inline-block w-100"> output_format_json_quote_64bit_integers </a> <a href=#settings-format_csv_delimiter title=format_csv_delimiter class="nav-link text-wrap d-inline-block w-100"> format_csv_delimiter </a> <a href=#settings-input_format_csv_unquoted_null_literal_as_null title=input_format_csv_unquoted_null_literal_as_null class="nav-link text-wrap d-inline-block w-100"> input_format_csv_unquoted_null_literal_as_null </a> <a href=#settings-insert_quorum title=insert_quorum class="nav-link text-wrap d-inline-block w-100"> insert_quorum </a> <a href=#settings-insert_quorum_timeout title=insert_quorum_timeout class="nav-link text-wrap d-inline-block w-100"> insert_quorum_timeout </a> <a href=#settings-select_sequential_consistency title=select_sequential_consistency class="nav-link text-wrap d-inline-block w-100"> select_sequential_consistency </a> <a href=#settings-count_distinct_implementation title=count_distinct_implementation class="nav-link text-wrap d-inline-block w-100"> count_distinct_implementation </a> <a href=#settings-max_network_bytes title=max_network_bytes class="nav-link text-wrap d-inline-block w-100"> max_network_bytes </a> <a href=#settings-max_network_bandwidth title=max_network_bandwidth class="nav-link text-wrap d-inline-block w-100"> max_network_bandwidth </a> <a href=#settings-max_network_bandwidth_for_user title=max_network_bandwidth_for_user class="nav-link text-wrap d-inline-block w-100"> max_network_bandwidth_for_user </a> <a href=#settings-max_network_bandwidth_for_all_users title=max_network_bandwidth_for_all_users class="nav-link text-wrap d-inline-block w-100"> max_network_bandwidth_for_all_users </a> <a href=#settings-allow_experimental_cross_to_join_conversion title=allow_experimental_cross_to_join_conversion class="nav-link text-wrap d-inline-block w-100"> allow_experimental_cross_to_join_conversion </a> <a href=#setting-optimize_throw_if_noop title=optimize_throw_if_noop class="nav-link text-wrap d-inline-block w-100"> optimize_throw_if_noop </a> <a href=#setting-os_thread_priority title=os_thread_priority class="nav-link text-wrap d-inline-block w-100"> os_thread_priority </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>