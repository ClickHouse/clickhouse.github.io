<!DOCTYPE html><html lang=en data-version=v19.17 data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Input and Output Formats - ClickHouse v19.17 Documentation</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="Input and Output Formats - ClickHouse v19.17 Documentation"><meta property=og:description content="Formats for Input and Output Data ClickHouse can accept and return data in various formats. A format supported for input"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="Input and Output Formats - ClickHouse v19.17 Documentation"><meta name=description content="Formats for Input and Output Data ClickHouse can accept and return data in various formats. A format supported for input"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> Input and Output Formats </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/en/interfaces/formats.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/en.svg alt=English title=English width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/v19.17/en/interfaces/formats/ class="dropdown-item disabled"> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/v19.17/zh/interfaces/formats/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/v19.17/es/interfaces/formats/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/v19.17/fr/interfaces/formats/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/v19.17/ru/interfaces/formats/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/v19.17/ja/interfaces/formats/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/v19.17/fa/interfaces/formats/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page or single-page"> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-page version" title="Multi-page version"> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Single-page version" title="Single-page version"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Version: <span class=text-light>v19.17</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/en/ class=dropdown-item> <span class=text-light>latest</span> </a> <a href=/docs/v20.3/en/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/en/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/en/ class="dropdown-item disable">v19.17</a> <a href=/docs/v19.16/en/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/en/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/en/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/en/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/en/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/en/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/en/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/en/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../introduction/distinctive_features/ title="Distinctive Features of ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distinctive Features of ClickHouse</a> <a href=../../introduction/features_considered_disadvantages/ title="ClickHouse Features that Can Be Considered Disadvantages" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Features that Can Be Considered Disadvantages</a> <a href=../../introduction/performance/ title=Performance class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a> <a href=../../introduction/ya_metrika_task/ title="The Yandex.Metrica Task" class="nav-link text-light text-wrap d-inline-block w-100 px-0">The Yandex.Metrica Task</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/ title="Deploying and Running" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Deploying and Running</a> <a href=#sidebar-sidebar-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-2 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/example_datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../getting_started/example_datasets/nyc_taxi/ title="New York Taxi Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">New York Taxi Data</a> <a href=../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../getting_started/example_datasets/criteo/ title="Terabyte Click Logs from Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Terabyte Click Logs from Criteo</a> <a href=../../getting_started/example_datasets/star_schema/ title="Star Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Star Schema Benchmark</a> <a href=../../getting_started/example_datasets/metrica/ title="Yandex.Metrica Data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica Data</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../interfaces/cli/ title="Command-Line Client" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Command-Line Client</a> <a href=../../interfaces/tcp/ title="Native Interface (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Native Interface (TCP)</a> <a href=../../interfaces/http/ title="HTTP Interface" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP Interface</a> <a href=../../interfaces/formats/ title="Input and Output Formats" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">Input and Output Formats</a> <a href=../../interfaces/jdbc/ title="JDBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC Driver</a> <a href=../../interfaces/odbc/ title="ODBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC Driver</a> <a href=../../interfaces/cpp/ title="C++ Client Library" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ Client Library</a> <a href=#sidebar-sidebar-3-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-3-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/client_libraries/ title="Client Libraries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Client Libraries</a> <a href=../../interfaces/third-party/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../interfaces/third-party/gui/ title="Visual Interfaces" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Visual Interfaces</a> <a href=../../interfaces/third-party/proxy/ title=Proxies class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxies</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../database_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../database_engines/lazy/ title=Lazy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lazy</a> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../operations/table_engines/replication/ title="Data Replication" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Replication</a> <a href=../../operations/table_engines/custom_partitioning_key/ title="Custom Partitioning Key" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Custom Partitioning Key</a> <a href=../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../operations/table_engines/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/log_family/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/table_engines/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../operations/table_engines/log/ title=Log class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a> <a href=../../operations/table_engines/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-5-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../operations/table_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../operations/table_engines/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../operations/table_engines/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../operations/table_engines/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-5-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/distributed/ title=Distributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a> <a href=../../operations/table_engines/external_data/ title="External data" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External data</a> <a href=../../operations/table_engines/dictionary/ title=Dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a> <a href=../../operations/table_engines/merge/ title=Merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a> <a href=../../operations/table_engines/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../operations/table_engines/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../operations/table_engines/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../operations/table_engines/join/ title=Join class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a> <a href=../../operations/table_engines/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../operations/table_engines/view/ title=View class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a> <a href=../../operations/table_engines/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../operations/table_engines/memory/ title=Memory class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a> <a href=../../operations/table_engines/buffer/ title=Buffer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/syntax/ title=Syntax class="nav-link text-light text-wrap d-inline-block w-100 px-0">Syntax</a> <a href=#sidebar-sidebar-6-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-3 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-6-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../query_language/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../query_language/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../query_language/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../query_language/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../query_language/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../query_language/misc/ title=Other class="nav-link text-light text-wrap d-inline-block w-100 px-0">Other</a> </nav> </div> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../query_language/functions/arithmetic_functions/ title=Arithmetic class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arithmetic</a> <a href=../../query_language/functions/comparison_functions/ title=Comparison class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparison</a> <a href=../../query_language/functions/logical_functions/ title=Logical class="nav-link text-light text-wrap d-inline-block w-100 px-0">Logical</a> <a href=../../query_language/functions/type_conversion_functions/ title="Type Conversion" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Type Conversion</a> <a href=../../query_language/functions/date_time_functions/ title="Working with Dates and Times" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Dates and Times</a> <a href=../../query_language/functions/string_functions/ title="Working with strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with strings</a> <a href=../../query_language/functions/string_search_functions/ title="For Searching Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Searching Strings</a> <a href=../../query_language/functions/string_replace_functions/ title="For Replacing in Strings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">For Replacing in Strings</a> <a href=../../query_language/functions/conditional_functions/ title="Conditional " class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conditional </a> <a href=../../query_language/functions/math_functions/ title=Mathematical class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mathematical</a> <a href=../../query_language/functions/rounding_functions/ title=Rounding class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rounding</a> <a href=../../query_language/functions/array_functions/ title="Working with Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Arrays</a> <a href=../../query_language/functions/splitting_merging_functions/ title="Splitting and Merging Strings and Arrays" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Splitting and Merging Strings and Arrays</a> <a href=../../query_language/functions/bit_functions/ title=Bit class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bit</a> <a href=../../query_language/functions/bitmap_functions/ title=Bitmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bitmap</a> <a href=../../query_language/functions/hash_functions/ title=Hash class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash</a> <a href=../../query_language/functions/random_functions/ title="Generating Pseudo-Random Numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Generating Pseudo-Random Numbers</a> <a href=../../query_language/functions/encoding_functions/ title=Encoding class="nav-link text-light text-wrap d-inline-block w-100 px-0">Encoding</a> <a href=../../query_language/functions/uuid_functions/ title="Working with UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with UUID</a> <a href=../../query_language/functions/url_functions/ title="Working with URLs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with URLs</a> <a href=../../query_language/functions/ip_address_functions/ title="Working with IP Addresses" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with IP Addresses</a> <a href=../../query_language/functions/json_functions/ title="Working with JSON." class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with JSON.</a> <a href=../../query_language/functions/higher_order_functions/ title=Higher-Order class="nav-link text-light text-wrap d-inline-block w-100 px-0">Higher-Order</a> <a href=../../query_language/functions/ext_dict_functions/ title="Working with External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with External Dictionaries</a> <a href=../../query_language/functions/ym_dict_functions/ title="Working with Yandex.Metrica Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Yandex.Metrica Dictionaries</a> <a href=../../query_language/functions/in_functions/ title="Implementing the IN Operator" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Implementing the IN Operator</a> <a href=../../query_language/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../query_language/functions/geo/ title="Working with geographical coordinates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with geographical coordinates</a> <a href=../../query_language/functions/functions_for_nulls/ title="Working with Nullable arguments" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Working with Nullable arguments</a> <a href=../../query_language/functions/machine_learning_functions/ title="Machine Learning Functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Machine Learning Functions</a> <a href=../../query_language/functions/other_functions/ title=Other class="nav-link text-light text-wrap d-inline-block w-100 px-0">Other</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/agg_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../query_language/agg_functions/reference/ title=Reference class="nav-link text-light text-wrap d-inline-block w-100 px-0">Reference</a> <a href=../../query_language/agg_functions/combinators/ title="Aggregate function combinators" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aggregate function combinators</a> <a href=../../query_language/agg_functions/parametric_functions/ title="Parametric aggregate functions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Parametric aggregate functions</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/table_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../query_language/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../query_language/table_functions/merge/ title=merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a> <a href=../../query_language/table_functions/numbers/ title=numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a> <a href=../../query_language/table_functions/remote/ title=remote class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote</a> <a href=../../query_language/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../query_language/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../query_language/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../query_language/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../query_language/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../query_language/table_functions/input/ title=input class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/dicts/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/dicts/external_dicts/ title="General Description" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Description</a> <a href=../../query_language/dicts/external_dicts_dict/ title="Configuring an External Dictionary" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuring an External Dictionary</a> <a href=../../query_language/dicts/external_dicts_dict_layout/ title="Storing Dictionaries in Memory" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Storing Dictionaries in Memory</a> <a href=../../query_language/dicts/external_dicts_dict_lifetime/ title="Dictionary Updates" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Updates</a> <a href=../../query_language/dicts/external_dicts_dict_sources/ title="Sources of External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sources of External Dictionaries</a> <a href=../../query_language/dicts/external_dicts_dict_structure/ title="Dictionary Key and Fields" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary Key and Fields</a> </nav> </div> <a href=../../query_language/dicts/internal_dicts/ title="Internal Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Internal Dictionaries</a> </nav> </div> <a href=../../query_language/operators/ title=Operators class="nav-link text-light text-wrap d-inline-block w-100 px-0">Operators</a> <a href=#sidebar-sidebar-6-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-6-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../data_types/boolean/ title=Boolean class="nav-link text-light text-wrap d-inline-block w-100 px-0">Boolean</a> <a href=../../data_types/string/ title=String class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a> <a href=../../data_types/fixedstring/ title=FixedString(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a> <a href=../../data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../data_types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../data_types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types_of_arguments...)</a> <a href=../../data_types/tuple/ title="Tuple(T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, ...)</a> <a href=../../data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-6-9-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9-16 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-6-9-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-6-9-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9-17 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-6-9-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/special_data_types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../data_types/special_data_types/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../data_types/special_data_types/nothing/ title=Nothing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a> <a href=../../data_types/special_data_types/interval/ title=Interval class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a> </nav> </div> <a href=#sidebar-sidebar-6-9-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9-18 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-9-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/domains/overview/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../guides/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../guides/apply_catboost_model/ title="Applying CatBoost Models" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Applying CatBoost Models</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/requirements/ title=Requirements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Requirements</a> <a href=../../operations/monitoring/ title=Monitoring class="nav-link text-light text-wrap d-inline-block w-100 px-0">Monitoring</a> <a href=../../operations/troubleshooting/ title=Troubleshooting class="nav-link text-light text-wrap d-inline-block w-100 px-0">Troubleshooting</a> <a href=../../operations/tips/ title="Usage Recommendations" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Usage Recommendations</a> <a href=../../operations/update/ title="ClickHouse Update" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Update</a> <a href=../../operations/access_rights/ title="Access Rights" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Access Rights</a> <a href=../../operations/backup/ title="Data Backup" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Data Backup</a> <a href=../../operations/configuration_files/ title="Configuration Files" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuration Files</a> <a href=../../operations/quotas/ title=Quotas class="nav-link text-light text-wrap d-inline-block w-100 px-0">Quotas</a> <a href=../../operations/system_tables/ title="System Tables" class="nav-link text-light text-wrap d-inline-block w-100 px-0">System Tables</a> <a href=#sidebar-sidebar-8-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-12 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server_settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/server_settings/settings/ title="Server Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Server Settings</a> </nav> </div> <a href=#sidebar-sidebar-8-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-13 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../operations/settings/permissions_for_queries/ title="Permissions for Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Permissions for Queries</a> <a href=../../operations/settings/query_complexity/ title="Restrictions on Query Complexity" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restrictions on Query Complexity</a> <a href=../../operations/settings/settings/ title=Settings class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings</a> <a href=../../operations/settings/settings_profiles/ title="Settings Profiles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings Profiles</a> <a href=../../operations/settings/constraints_on_settings/ title="Constraints on Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Constraints on Settings</a> <a href=../../operations/settings/settings_users/ title="User Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">User Settings</a> </nav> </div> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utils/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../operations/utils/clickhouse-copier/ title=clickhouse-copier class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a> <a href=../../operations/utils/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/architecture/ title="Overview of ClickHouse Architecture" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview of ClickHouse Architecture</a> <a href=../../development/build/ title="How to Build ClickHouse on Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux</a> <a href=../../development/build_osx/ title="How to Build ClickHouse on Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Mac OS X</a> <a href=../../development/build_cross/ title="How to Build ClickHouse on Linux for Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux for Mac OS X</a> <a href=../../development/style/ title="How to Write C++ code" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Write C++ code</a> <a href=../../development/tests/ title="How to Run ClickHouse Tests" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Run ClickHouse Tests</a> <a href=../../development/contrib/ title="Third-Party Libraries Used" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party Libraries Used</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../roadmap/ title=Roadmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a> <a href=../../changelog/ title=Changelog class="nav-link text-light text-wrap d-inline-block w-100 px-0">Changelog</a> <a href=../../security_changelog/ title="Security Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security Changelog</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/general/ title="General Questions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">General Questions</a> </nav> </div> <a href=../../single/clickhouse_en.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="PDF version" title="PDF version" height=24 class="d-block mr-1 float-left"><div>PDF version</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <h1 id=formats>Formats for Input and Output Data<a class=headerlink href=#formats title="Permanent link">&para;</a></h1> <p>ClickHouse can accept and return data in various formats. A format supported for input can be used to parse the data provided to <code>INSERT</code>s, to perform <code>SELECT</code>s from a file-backed table such as File, URL or HDFS, or to read an external dictionary. A format supported for output can be used to arrange the<br> results of a <code>SELECT</code>, and to perform <code>INSERT</code>s into a file-backed table.</p> <p>The supported formats are:</p> <table> <thead> <tr> <th>Format</th> <th>Input</th> <th>Output</th> </tr> </thead> <tbody> <tr> <td><a href=#tabseparated>TabSeparated</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#tabseparatedraw>TabSeparatedRaw</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#tabseparatedwithnames>TabSeparatedWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#format-template>Template</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#templateignorespaces>TemplateIgnoreSpaces</a></td> <td>✔</td> <td>✗</td> </tr> <tr> <td><a href=#csv>CSV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#csvwithnames>CSVWithNames</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#format-customseparated>CustomSeparated</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#data-format-values>Values</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#vertical>Vertical</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#json>JSON</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#jsoncompact>JSONCompact</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#jsoneachrow>JSONEachRow</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#tskv>TSKV</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#pretty>Pretty</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettycompact>PrettyCompact</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettycompactmonoblock>PrettyCompactMonoBlock</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettynoescapes>PrettyNoEscapes</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#prettyspace>PrettySpace</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#protobuf>Protobuf</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#data-format-parquet>Parquet</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#rowbinary>RowBinary</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#native>Native</a></td> <td>✔</td> <td>✔</td> </tr> <tr> <td><a href=#null>Null</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#xml>XML</a></td> <td>✗</td> <td>✔</td> </tr> <tr> <td><a href=#capnproto>CapnProto</a></td> <td>✔</td> <td>✗</td> </tr> </tbody> </table> <p>You can control some format processing parameters with the ClickHouse settings. For more information read the <a href=../../operations/settings/settings/ >Settings</a> section.</p> <h2 id=tabseparated>TabSeparated<a class=headerlink href=#tabseparated title="Permanent link">&para;</a></h2> <p>In TabSeparated format, data is written by row. Each row contains values separated by tabs. Each value is follow by a tab, except the last value in the row, which is followed by a line feed. Strictly Unix line feeds are assumed everywhere. The last row also must contain a line feed at the end. Values are written in text format, without enclosing quotation marks, and with special characters escaped.</p> <p>This format is also available under the name <code>TSV</code>.</p> <p>The <code>TabSeparated</code> format is convenient for processing data using custom programs and scripts. It is used by default in the HTTP interface, and in the command-line client's batch mode. This format also allows transferring data between different DBMSs. For example, you can get a dump from MySQL and upload it to ClickHouse, or vice versa.</p> <p>The <code>TabSeparated</code> format supports outputting total values (when using WITH TOTALS) and extreme values (when 'extremes' is set to 1). In these cases, the total values and extremes are output after the main data. The main result, total values, and extremes are separated from each other by an empty line. Example:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>TabSeparated</span><span class=o>``</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>2014-03-17      1406958
2014-03-18      1383658
2014-03-19      1405797
2014-03-20      1353623
2014-03-21      1245779
2014-03-22      1031592
2014-03-23      1046491

0000-00-00      8873898

2014-03-17      1031592
2014-03-23      1406958
</code></pre></div> <h3 id=data-formatting>Data Formatting<a class=headerlink href=#data-formatting title="Permanent link">&para;</a></h3> <p>Integer numbers are written in decimal form. Numbers can contain an extra "+" character at the beginning (ignored when parsing, and not recorded when formatting). Non-negative numbers can't contain the negative sign. When reading, it is allowed to parse an empty string as a zero, or (for signed types) a string consisting of just a minus sign as a zero. Numbers that do not fit into the corresponding data type may be parsed as a different number, without an error message.</p> <p>Floating-point numbers are written in decimal form. The dot is used as the decimal separator. Exponential entries are supported, as are 'inf', '+inf', '-inf', and 'nan'. An entry of floating-point numbers may begin or end with a decimal point.<br> During formatting, accuracy may be lost on floating-point numbers.<br> During parsing, it is not strictly required to read the nearest machine-representable number.</p> <p>Dates are written in YYYY-MM-DD format and parsed in the same format, but with any characters as separators.<br> Dates with times are written in the format YYYY-MM-DD hh:mm:ss and parsed in the same format, but with any characters as separators.<br> This all occurs in the system time zone at the time the client or server starts (depending on which one formats data). For dates with times, daylight saving time is not specified. So if a dump has times during daylight saving time, the dump does not unequivocally match the data, and parsing will select one of the two times.<br> During a read operation, incorrect dates and dates with times can be parsed with natural overflow or as null dates and times, without an error message.</p> <p>As an exception, parsing dates with times is also supported in Unix timestamp format, if it consists of exactly 10 decimal digits. The result is not time zone-dependent. The formats YYYY-MM-DD hh:mm:ss and NNNNNNNNNN are differentiated automatically.</p> <p>Strings are output with backslash-escaped special characters. The following escape sequences are used for output: <code>\b</code>, <code>\f</code>, <code>\r</code>, <code>\n</code>, <code>\t</code>, <code>\0</code>, <code>\'</code>, <code>\\</code>. Parsing also supports the sequences <code>\a</code>, <code>\v</code>, and <code>\xHH</code> (hex escape sequences) and any <code>\c</code> sequences, where <code>c</code> is any character (these sequences are converted to <code>c</code>). Thus, reading data supports formats where a line feed can be written as <code>\n</code> or <code>\</code>, or as a line feed. For example, the string <code>Hello world</code> with a line feed between the words instead of a space can be parsed in any of the following variations:</p> <div class=codehilite><pre><span></span><code>Hello\nworld

Hello\
world
</code></pre></div> <p>The second variant is supported because MySQL uses it when writing tab-separated dumps.</p> <p>The minimum set of characters that you need to escape when passing data in TabSeparated format: tab, line feed (LF) and backslash.</p> <p>Only a small set of symbols are escaped. You can easily stumble onto a string value that your terminal will ruin in output.</p> <p>Arrays are written as a list of comma-separated values in square brackets. Number items in the array are fomratted as normally, but dates, dates with times, and strings are written in single quotes with the same escaping rules as above.</p> <p><a href=../../query_language/syntax/ >NULL</a> is formatted as <code>\N</code>.</p> <h2 id=tabseparatedraw>TabSeparatedRaw<a class=headerlink href=#tabseparatedraw title="Permanent link">&para;</a></h2> <p>Differs from <code>TabSeparated</code> format in that the rows are written without escaping.<br> This format is only appropriate for outputting a query result, but not for parsing (retrieving data to insert in a table).</p> <p>This format is also available under the name <code>TSVRaw</code>.</p> <h2 id=tabseparatedwithnames>TabSeparatedWithNames<a class=headerlink href=#tabseparatedwithnames title="Permanent link">&para;</a></h2> <p>Differs from the <code>TabSeparated</code> format in that the column names are written in the first row.<br> During parsing, the first row is completely ignored. You can't use column names to determine their position or to check their correctness.<br> (Support for parsing the header row may be added in the future.)</p> <p>This format is also available under the name <code>TSVWithNames</code>.</p> <h2 id=tabseparatedwithnamesandtypes>TabSeparatedWithNamesAndTypes<a class=headerlink href=#tabseparatedwithnamesandtypes title="Permanent link">&para;</a></h2> <p>Differs from the <code>TabSeparated</code> format in that the column names are written to the first row, while the column types are in the second row.<br> During parsing, the first and second rows are completely ignored.</p> <p>This format is also available under the name <code>TSVWithNamesAndTypes</code>.</p> <h2 id=format-template>Template<a class=headerlink href=#format-template title="Permanent link">&para;</a></h2> <p>This format allows to specify a custom format string with placeholders for values with specified escaping rule.</p> <p>It uses settings <code>format_template_resultset</code>, <code>format_template_row</code>, <code>format_template_rows_between_delimiter</code> and some settings of other formats (e.g. <code>output_format_json_quote_64bit_integers</code> when using <code>JSON</code> escaping, see further)</p> <p>Setting <code>format_template_row</code> specifies path to file, which contains format string for rows with the following syntax:</p> <p><code>delimiter_1${column_1:serializeAs_1}delimiter_2${column_2:serializeAs_2} ... delimiter_N</code>,</p> <p>where <code>delimiter_i</code> is a delimiter between values (<code>$</code> symbol can be escaped as <code>$$</code>), <br> <code>column_i</code> is a name or index of a column whose values are to be selected or inserted (if empty, then column will be skipped), <br> <code>serializeAs_i</code> is an escaping rule for the column values. The following escaping rules are supported:</p> <ul> <li><code>CSV</code>, <code>JSON</code>, <code>XML</code> (similarly to the formats of the same names)</li> <li><code>Escaped</code> (similarly to <code>TSV</code>)</li> <li><code>Quoted</code> (similarly to <code>Values</code>)</li> <li><code>Raw</code> (without escaping, similarly to <code>TSVRaw</code>)</li> <li><code>None</code> (no escaping rule, see further)</li> </ul> <p>If escaping rule is omitted, then<code>None</code> will be used. <code>XML</code> and <code>Raw</code> are suitable only for output.</p> <p>So, for the following format string:</p> <div class=codehilite><pre><span></span><code>`Search phrase: <span class=cp>${</span><span class=n>SearchPhrase</span><span class=p>:</span><span class=n>Quoted</span><span class=cp>}</span>, count: <span class=cp>${</span><span class=n>c</span><span class=p>:</span><span class=n>Escaped</span><span class=cp>}</span>, ad price: $$${price:JSON};`
</code></pre></div> <p>the values of <code>SearchPhrase</code>, <code>c</code> and <code>price</code> columns, which are escaped as <code>Quoted</code>, <code>Escaped</code> and <code>JSON</code> will be printed (for select) or will be expected (for insert) between <code>Search phrase:</code>, <code>, count:</code>, <code>, ad price: $</code> and <code>;</code> delimiters respectively. For example:</p> <p><code>Search phrase: 'bathroom interior design', count: 2166, ad price: $3;</code></p> <p>The <code>format_template_rows_between_delimiter</code> setting specifies delimiter between rows, which is printed (or expected) after every row except the last one (<code>\n</code> by default)</p> <p>Setting <code>format_template_resultset</code> specifies path to file, which contains format string for resultset. Format string for resultset has the same syntax as format string for row and allows to specify a prefix, a suffix and a way to print some additional information. It contains the following placeholders instead of column names:</p> <ul> <li><code>data</code> is the rows with data in <code>format_template_row</code> format, separated by <code>format_template_rows_between_delimiter</code>. This placeholder must be the first placeholder in the format string.</li> <li><code>totals</code> is the row with total values in <code>format_template_row</code> format (when using WITH TOTALS)</li> <li><code>min</code> is the row with minimum values in <code>format_template_row</code> format (when extremes is set to 1)</li> <li><code>max</code> is the row with maximum values in <code>format_template_row</code> format (when extremes is set to 1)</li> <li><code>rows</code> is the total number of output rows</li> <li><code>rows_before_limit</code> is the minimal number of rows there would have been without LIMIT. Output only if the query contains LIMIT. If the query contains GROUP BY, rows_before_limit_at_least is the exact number of rows there would have been without a LIMIT.</li> <li><code>time</code> is the request execution time in seconds</li> <li><code>rows_read</code> is the number of rows have been read</li> <li><code>bytes_read</code> is the number of bytes (uncompressed) have been read</li> </ul> <p>The placeholders <code>data</code>, <code>totals</code>, <code>min</code> and <code>max</code> must not have escaping rule specified (or <code>None</code> must be specified explicitly). The remaining placeholders may have any escaping rule specified.<br> If the <code>format_template_resultset</code> setting is an empty string, <code>${data}</code> is used as default value.<br> For insert queries format allows to skip some columns or some fields if prefix or suffix (see example).</p> <p>Select example:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span> 
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>&#39;/some/path/resultset.format&#39;</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>&#39;/some/path/row.format&#39;</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>&#39;\n    &#39;</span>
</code></pre></div> <p><code>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code>&lt;!DOCTYPE HTML&gt;
&lt;html&gt; &lt;head&gt; &lt;title&gt;Search phrases&lt;/title&gt; &lt;/head&gt;
 &lt;body&gt;
  &lt;table border=&quot;1&quot;&gt; &lt;caption&gt;Search phrases&lt;/caption&gt;
    &lt;tr&gt; &lt;th&gt;Search phrase&lt;/th&gt; &lt;th&gt;Count&lt;/th&gt; &lt;/tr&gt;
    ${data}
  &lt;/table&gt;
  &lt;table border=&quot;1&quot;&gt; &lt;caption&gt;Max&lt;/caption&gt;
    ${max}
  &lt;/table&gt;
  &lt;b&gt;Processed ${rows_read:XML} rows in ${time:XML} sec&lt;/b&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre></div> <p><code>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code>&lt;tr&gt; &lt;td&gt;${0:XML}&lt;/td&gt; &lt;td&gt;${1:XML}&lt;/td&gt; &lt;/tr&gt;
</code></pre></div> <p>Result:</p> <div class=codehilite><pre><span></span><code><span class=cp>&lt;!DOCTYPE HTML&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
 <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>&quot;1&quot;</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Search phrases<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Search phrase<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Count<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8267016<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>bathroom interior design<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>2166<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>yandex<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1655<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>spring 2014 fashion<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1549<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>freeform photos<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>1480<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>table</span> <span class=na>border</span><span class=o>=</span><span class=s>&quot;1&quot;</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>caption</span><span class=p>&gt;</span>Max<span class=p>&lt;/</span><span class=nt>caption</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>8873898<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>b</span><span class=p>&gt;</span>Processed 3095973 rows in 0.1569913 sec<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
 <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>Insert example:</p> <div class=codehilite><pre><span></span><code>Some header
Page views: 5, User id: 4324182021466249494, Useless field: hello, Duration: 146, Sign: -1
Page views: 6, User id: 4324182021466249494, Useless field: world, Duration: 185, Sign: 1
Total rows: 2
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=k>Template</span> <span class=n>SETTINGS</span> 
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>&#39;/some/path/resultset.format&#39;</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>&#39;/some/path/row.format&#39;</span>
</code></pre></div> <p><code>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code>Some header\n${data}\nTotal rows: ${:CSV}\n
</code></pre></div> <p><code>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code>Page views: ${PageViews:CSV}, User id: ${UserID:CSV}, Useless field: ${:CSV}, Duration: ${Duration:CSV}, Sign: ${Sign:CSV}
</code></pre></div> <p><code>PageViews</code>, <code>UserID</code>, <code>Duration</code> and <code>Sign</code> inside placeholders are names of columns in the table. Values after <code>Useless field</code> in rows and after <code>\nTotal rows:</code> in suffix will be ignored.<br> All delimiters in the input data must be strictly equal to delimiters in specified format strings.</p> <h2 id=templateignorespaces>TemplateIgnoreSpaces<a class=headerlink href=#templateignorespaces title="Permanent link">&para;</a></h2> <p>This format is suitable only for input.<br> Similar to <code>Template</code>, but skips whitespace characters between delimiters and values in the input stream. However, if format strings contain whitespace characters, these characters will be expected in the input stream. Also allows to specify empty placeholders (<code>${}</code> or <code>${:None}</code>) to split some delimiter into separate parts to ignore spaces between them. Such placeholders are used only for skipping whitespace characters. <br> It's possible to read <code>JSON</code> using this format, if values of columns have the same order in all rows. For example, the following request can be used for inserting data from output example of format <a href=#json>JSON</a>:</p> <div class=codehilite><pre><span></span><code><span class=k>INSERT</span> <span class=k>INTO</span> <span class=k>table_name</span> <span class=n>FORMAT</span> <span class=n>TemplateIgnoreSpaces</span> <span class=n>SETTINGS</span>
<span class=n>format_template_resultset</span> <span class=o>=</span> <span class=s1>&#39;/some/path/resultset.format&#39;</span><span class=p>,</span> <span class=n>format_template_row</span> <span class=o>=</span> <span class=s1>&#39;/some/path/row.format&#39;</span><span class=p>,</span> <span class=n>format_template_rows_between_delimiter</span> <span class=o>=</span> <span class=s1>&#39;,&#39;</span>
</code></pre></div> <p><code>/some/path/resultset.format</code>:</p> <div class=codehilite><pre><span></span><code>{${}&quot;meta&quot;${}:${:JSON},${}&quot;data&quot;${}:${}[${data}]${},${}&quot;totals&quot;${}:${:JSON},${}&quot;extremes&quot;${}:${:JSON},${}&quot;rows&quot;${}:${:JSON},${}&quot;rows_before_limit_at_least&quot;${}:${:JSON}${}}
</code></pre></div> <p><code>/some/path/row.format</code>:</p> <div class=codehilite><pre><span></span><code>{${}&quot;SearchPhrase&quot;${}:${}${phrase:JSON}${},${}&quot;c&quot;${}:${}${cnt:JSON}${}}
</code></pre></div> <h2 id=tskv>TSKV<a class=headerlink href=#tskv title="Permanent link">&para;</a></h2> <p>Similar to TabSeparated, but outputs a value in name=value format. Names are escaped the same way as in TabSeparated format, and the = symbol is also escaped.</p> <div class=codehilite><pre><span></span><code>SearchPhrase=   count()=8267016
SearchPhrase=bathroom interior design    count()=2166
SearchPhrase=yandex     count()=1655
SearchPhrase=2014 spring fashion    count()=1549
SearchPhrase=freeform photos       count()=1480
SearchPhrase=angelina jolie    count()=1245
SearchPhrase=omsk       count()=1112
SearchPhrase=photos of dog breeds    count()=1091
SearchPhrase=curtain designs        count()=1064
SearchPhrase=baku       count()=1000
</code></pre></div> <p><a href=../../query_language/syntax/ >NULL</a> is formatted as <code>\N</code>.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>TSKV</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>x=1 y=\N
</code></pre></div> <p>When there is a large number of small columns, this format is ineffective, and there is generally no reason to use it. Nevertheless, it is no worse than JSONEachRow in terms of efficiency.</p> <p>Both data output and parsing are supported in this format. For parsing, any order is supported for the values of different columns. It is acceptable for some values to be omitted – they are treated as equal to their default values. In this case, zeros and blank rows are used as default values. Complex values that could be specified in the table are not supported as defaults.</p> <p>Parsing allows the presence of the additional field <code>tskv</code> without the equal sign or a value. This field is ignored.</p> <h2 id=csv>CSV<a class=headerlink href=#csv title="Permanent link">&para;</a></h2> <p>Comma Separated Values format (<a href=https://tools.ietf.org/html/rfc4180 rel="external nofollow noreferrer">RFC</a>).</p> <p>When formatting, rows are enclosed in double quotes. A double quote inside a string is output as two double quotes in a row. There are no other rules for escaping characters. Date and date-time are enclosed in double quotes. Numbers are output without quotes. Values are separated by a delimiter character, which is <code>,</code> by default. The delimiter character is defined in the setting <a href=../../operations/settings/settings/#settings-format_csv_delimiter>format_csv_delimiter</a>. Rows are separated using the Unix line feed (LF). Arrays are serialized in CSV as follows: first the array is serialized to a string as in TabSeparated format, and then the resulting string is output to CSV in double quotes. Tuples in CSV format are serialized as separate columns (that is, their nesting in the tuple is lost).</p> <div class=codehilite><pre><span></span><code>$ clickhouse-client --format_csv_delimiter<span class=o>=</span><span class=s2>&quot;|&quot;</span> --query<span class=o>=</span><span class=s2>&quot;INSERT INTO test.csv FORMAT CSV&quot;</span> &lt; data.csv
</code></pre></div> <p>&ast;By default, the delimiter is <code>,</code>. See the <a href=../../operations/settings/settings/#settings-format_csv_delimiter>format_csv_delimiter</a> setting for more information.</p> <p>When parsing, all values can be parsed either with or without quotes. Both double and single quotes are supported. Rows can also be arranged without quotes. In this case, they are parsed up to the delimiter character or line feed (CR or LF). In violation of the RFC, when parsing rows without quotes, the leading and trailing spaces and tabs are ignored. For the line feed, Unix (LF), Windows (CR LF) and Mac OS Classic (CR LF) types are all supported.</p> <p>Empty unquoted input values are replaced with default values for the respective columns, if<br> <a href=../../operations/settings/settings/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a><br> is enabled.</p> <p><code>NULL</code> is formatted as <code>\N</code> or <code>NULL</code> or an empty unquoted string (see settings <a href=../../operations/settings/settings/#settings-input_format_csv_unquoted_null_literal_as_null>input_format_csv_unquoted_null_literal_as_null</a> and <a href=../../operations/settings/settings/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a>).</p> <p>The CSV format supports the output of totals and extremes the same way as <code>TabSeparated</code>.</p> <h2 id=csvwithnames>CSVWithNames<a class=headerlink href=#csvwithnames title="Permanent link">&para;</a></h2> <p>Also prints the header row, similar to <code>TabSeparatedWithNames</code>.</p> <h2 id=format-customseparated>CustomSeparated<a class=headerlink href=#format-customseparated title="Permanent link">&para;</a></h2> <p>Similar to <a href=#format-template>Template</a>, but it prints or reads all columns and uses escaping rule from setting <code>format_custom_escaping_rule</code> and delimiters from settings <code>format_custom_field_delimiter</code>, <code>format_custom_row_before_delimiter</code>, <code>format_custom_row_after_delimiter</code>, <code>format_custom_row_between_delimiter</code>, <code>format_custom_result_before_delimiter</code> and <code>format_custom_result_after_delimiter</code>, not from format strings.<br> There is also <code>CustomSeparatedIgnoreSpaces</code> format, which is similar to <code>TemplateIgnoreSpaces</code>.</p> <h2 id=json>JSON<a class=headerlink href=#json title="Permanent link">&para;</a></h2> <p>Outputs data in JSON format. Besides data tables, it also outputs column names and types, along with some additional information: the total number of output rows, and the number of rows that could have been output if there weren't a LIMIT. Example:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>SearchPhrase</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>SearchPhrase</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>5</span> <span class=n>FORMAT</span> <span class=n>JSON</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=p>{</span>
        <span class=nt>&quot;meta&quot;</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;SearchPhrase&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;String&quot;</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;c&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;UInt64&quot;</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>&quot;data&quot;</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;8267016&quot;</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;bathroom interior design&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;2166&quot;</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;yandex&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;1655&quot;</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;spring 2014 fashion&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;1549&quot;</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;freeform photos&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;1480&quot;</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>&quot;totals&quot;</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
                <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;8873898&quot;</span>
        <span class=p>},</span>

        <span class=nt>&quot;extremes&quot;</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>&quot;min&quot;</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;1480&quot;</span>
                <span class=p>},</span>
                <span class=nt>&quot;max&quot;</span><span class=p>:</span>
                <span class=p>{</span>
                        <span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;c&quot;</span><span class=p>:</span> <span class=s2>&quot;8267016&quot;</span>
                <span class=p>}</span>
        <span class=p>},</span>

        <span class=nt>&quot;rows&quot;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>&quot;rows_before_limit_at_least&quot;</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>The JSON is compatible with JavaScript. To ensure this, some characters are additionally escaped: the slash <code>/</code> is escaped as <code>\/</code>; alternative line breaks <code>U+2028</code> and <code>U+2029</code>, which break some browsers, are escaped as <code>\uXXXX</code>. ASCII control characters are escaped: backspace, form feed, line feed, carriage return, and horizontal tab are replaced with <code>\b</code>, <code>\f</code>, <code>\n</code>, <code>\r</code>, <code>\t</code> , as well as the remaining bytes in the 00-1F range using <code>\uXXXX</code> sequences. Invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences. For compatibility with JavaScript, Int64 and UInt64 integers are enclosed in double quotes by default. To remove the quotes, you can set the configuration parameter <a href=../../operations/settings/settings/#session_settings-output_format_json_quote_64bit_integers>output_format_json_quote_64bit_integers</a> to 0.</p> <p><code>rows</code> – The total number of output rows.</p> <p><code>rows_before_limit_at_least</code> The minimal number of rows there would have been without LIMIT. Output only if the query contains LIMIT.<br> If the query contains GROUP BY, rows_before_limit_at_least is the exact number of rows there would have been without a LIMIT.</p> <p><code>totals</code> – Total values (when using WITH TOTALS).</p> <p><code>extremes</code> – Extreme values (when extremes is set to 1).</p> <p>This format is only appropriate for outputting a query result, but not for parsing (retrieving data to insert in a table).</p> <p>ClickHouse supports <a href=../../query_language/syntax/ >NULL</a>, which is displayed as <code>null</code> in the JSON output.</p> <p>See also the <a href=#jsoneachrow>JSONEachRow</a> format.</p> <h2 id=jsoncompact>JSONCompact<a class=headerlink href=#jsoncompact title="Permanent link">&para;</a></h2> <p>Differs from JSON only in that data rows are output in arrays, not in objects.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code><span class=p>{</span>
        <span class=nt>&quot;meta&quot;</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>{</span>
                        <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;SearchPhrase&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;String&quot;</span>
                <span class=p>},</span>
                <span class=p>{</span>
                        <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;c&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;UInt64&quot;</span>
                <span class=p>}</span>
        <span class=p>],</span>

        <span class=nt>&quot;data&quot;</span><span class=p>:</span>
        <span class=p>[</span>
                <span class=p>[</span><span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=s2>&quot;8267016&quot;</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>&quot;bathroom interior design&quot;</span><span class=p>,</span> <span class=s2>&quot;2166&quot;</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>&quot;yandex&quot;</span><span class=p>,</span> <span class=s2>&quot;1655&quot;</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>&quot;fashion trends spring 2014&quot;</span><span class=p>,</span> <span class=s2>&quot;1549&quot;</span><span class=p>],</span>
                <span class=p>[</span><span class=s2>&quot;freeform photo&quot;</span><span class=p>,</span> <span class=s2>&quot;1480&quot;</span><span class=p>]</span>
        <span class=p>],</span>

        <span class=nt>&quot;totals&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;&quot;</span><span class=p>,</span><span class=s2>&quot;8873898&quot;</span><span class=p>],</span>

        <span class=nt>&quot;extremes&quot;</span><span class=p>:</span>
        <span class=p>{</span>
                <span class=nt>&quot;min&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;&quot;</span><span class=p>,</span><span class=s2>&quot;1480&quot;</span><span class=p>],</span>
                <span class=nt>&quot;max&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;&quot;</span><span class=p>,</span><span class=s2>&quot;8267016&quot;</span><span class=p>]</span>
        <span class=p>},</span>

        <span class=nt>&quot;rows&quot;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>

        <span class=nt>&quot;rows_before_limit_at_least&quot;</span><span class=p>:</span> <span class=mi>141137</span>
<span class=p>}</span>
</code></pre></div> <p>This format is only appropriate for outputting a query result, but not for parsing (retrieving data to insert in a table).<br> See also the <code>JSONEachRow</code> format.</p> <h2 id=jsoneachrow>JSONEachRow<a class=headerlink href=#jsoneachrow title="Permanent link">&para;</a></h2> <p>When using this format, ClickHouse outputs rows as separated, newline-delimited JSON objects, but the data as a whole is not valid JSON.</p> <div class=codehilite><pre><span></span><code><span class=p>{</span><span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span><span class=s2>&quot;curtain designs&quot;</span><span class=p>,</span><span class=nt>&quot;count()&quot;</span><span class=p>:</span><span class=s2>&quot;1064&quot;</span><span class=p>}</span>
<span class=p>{</span><span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span><span class=s2>&quot;baku&quot;</span><span class=p>,</span><span class=nt>&quot;count()&quot;</span><span class=p>:</span><span class=s2>&quot;1000&quot;</span><span class=p>}</span>
<span class=p>{</span><span class=nt>&quot;SearchPhrase&quot;</span><span class=p>:</span><span class=s2>&quot;&quot;</span><span class=p>,</span><span class=nt>&quot;count()&quot;</span><span class=p>:</span><span class=s2>&quot;8267016&quot;</span><span class=p>}</span>
</code></pre></div> <p>When inserting the data, you should provide a separate JSON object for each row.</p> <h3 id=inserting-data>Inserting Data<a class=headerlink href=#inserting-data title="Permanent link">&para;</a></h3> <div class=codehilite><pre><span></span><code><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>UserActivity</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>&quot;PageViews&quot;</span><span class=p>:</span><span class=mi>5</span><span class=p>,</span> <span class=ss>&quot;UserID&quot;</span><span class=p>:</span><span class=ss>&quot;4324182021466249494&quot;</span><span class=p>,</span> <span class=ss>&quot;Duration&quot;</span><span class=p>:</span><span class=mi>146</span><span class=p>,</span><span class=ss>&quot;Sign&quot;</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=err>}</span> <span class=err>{</span><span class=ss>&quot;UserID&quot;</span><span class=p>:</span><span class=ss>&quot;4324182021466249494&quot;</span><span class=p>,</span><span class=ss>&quot;PageViews&quot;</span><span class=p>:</span><span class=mi>6</span><span class=p>,</span><span class=ss>&quot;Duration&quot;</span><span class=p>:</span><span class=mi>185</span><span class=p>,</span><span class=ss>&quot;Sign&quot;</span><span class=p>:</span><span class=mi>1</span><span class=err>}</span>
</code></pre></div> <p>ClickHouse allows:</p> <ul> <li>Any order of key-value pairs in the object.</li> <li>Omitting some values.</li> </ul> <p>ClickHouse ignores spaces between elements and commas after the objects. You can pass all the objects in one line. You don't have to separate them with line breaks.</p> <p><strong>Omitted values processing</strong></p> <p>ClickHouse substitutes omitted values with the default values for the corresponding <a href=../../data_types/ >data types</a>.</p> <p>If <code>DEFAULT expr</code> is specified, ClickHouse uses different substitution rules depending on the <a href=../../operations/settings/settings/#session_settings-input_format_defaults_for_omitted_fields>input_format_defaults_for_omitted_fields</a> setting.</p> <p>Consider the following table:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>example_table</span>
<span class=p>(</span>
    <span class=n>x</span> <span class=n>UInt32</span><span class=p>,</span>
    <span class=n>a</span> <span class=k>DEFAULT</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>
</code></pre></div> <ul> <li>If <code>input_format_defaults_for_omitted_fields = 0</code>, then the default value for <code>x</code> and <code>a</code> equals <code>0</code> (as the default value for the <code>UInt32</code> data type).</li> <li>If <code>input_format_defaults_for_omitted_fields = 1</code>, then the default value for <code>x</code> equals <code>0</code>, but the default value of <code>a</code> equals <code>x * 2</code>.</li> </ul> <div class="admonition note"> <p class=admonition-title>Warning</p> <p>When inserting data with <code>insert_sample_with_metadata = 1</code>, ClickHouse consumes more computational resources, compared to insertion with <code>insert_sample_with_metadata = 0</code>.</p> </div> <h3 id=selecting-data>Selecting Data<a class=headerlink href=#selecting-data title="Permanent link">&para;</a></h3> <p>Consider the <code>UserActivity</code> table as an example:</p> <div class=codehilite><pre><span></span><code>┌──────────────UserID─┬─PageViews─┬─Duration─┬─Sign─┐
│ 4324182021466249494 │         5 │      146 │   -1 │
│ 4324182021466249494 │         6 │      185 │    1 │
└─────────────────────┴───────────┴──────────┴──────┘
</code></pre></div> <p>The query <code>SELECT * FROM UserActivity FORMAT JSONEachRow</code> returns:</p> <div class=codehilite><pre><span></span><code>{&quot;UserID&quot;:&quot;4324182021466249494&quot;,&quot;PageViews&quot;:5,&quot;Duration&quot;:146,&quot;Sign&quot;:-1}
{&quot;UserID&quot;:&quot;4324182021466249494&quot;,&quot;PageViews&quot;:6,&quot;Duration&quot;:185,&quot;Sign&quot;:1}
</code></pre></div> <p>Unlike the <a href=#json>JSON</a> format, there is no substitution of invalid UTF-8 sequences. Values are escaped in the same way as for <code>JSON</code>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Any set of bytes can be output in the strings. Use the <code>JSONEachRow</code> format if you are sure that the data in the table can be formatted as JSON without losing any information.</p> </div> <h3 id=jsoneachrow-nested>Usage of Nested Structures<a class=headerlink href=#jsoneachrow-nested title="Permanent link">&para;</a></h3> <p>If you have a table with <a href=../../data_types/nested_data_structures/nested/ >Nested</a> data type columns, you can insert JSON data with the same structure. Enable this feature with the <a href=../../operations/settings/settings/#settings-input_format_import_nested_json>input_format_import_nested_json</a> setting.</p> <p>For example, consider the following table:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>json_each_row_nested</span> <span class=p>(</span><span class=n>n</span> <span class=n>Nested</span> <span class=p>(</span><span class=n>s</span> <span class=n>String</span><span class=p>,</span> <span class=n>i</span> <span class=n>Int32</span><span class=p>)</span> <span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span>
</code></pre></div> <p>As you can see in the <code>Nested</code> data type description, ClickHouse treats each component of the nested structure as a separate column (<code>n.s</code> and <code>n.i</code> for our table). You can insert data in the following way:</p> <div class=codehilite><pre><span></span><code><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>&quot;n.s&quot;</span><span class=p>:</span> <span class=p>[</span><span class=ss>&quot;abc&quot;</span><span class=p>,</span> <span class=ss>&quot;def&quot;</span><span class=p>],</span> <span class=ss>&quot;n.i&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}</span>
</code></pre></div> <p>To insert data as a hierarchical JSON object, set <a href=../../operations/settings/settings/#settings-input_format_import_nested_json>input_format_import_nested_json=1</a>.</p> <div class=codehilite><pre><span></span><code><span class=p>{</span>
    <span class=nt>&quot;n&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>&quot;s&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;abc&quot;</span><span class=p>,</span> <span class=s2>&quot;def&quot;</span><span class=p>],</span>
        <span class=nt>&quot;i&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>Without this setting, ClickHouse throws an exception.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>settings</span> <span class=k>WHERE</span> <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;input_format_import_nested_json&#39;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─name────────────────────────────┬─value─┐
│ input_format_import_nested_json │ 0     │
└─────────────────────────────────┴───────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>&quot;n&quot;</span><span class=p>:</span> <span class=err>{</span><span class=ss>&quot;s&quot;</span><span class=p>:</span> <span class=p>[</span><span class=ss>&quot;abc&quot;</span><span class=p>,</span> <span class=ss>&quot;def&quot;</span><span class=p>],</span> <span class=ss>&quot;i&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Code: 117. DB::Exception: Unknown field found while parsing JSONEachRow format: n: (at row 1)
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SET</span> <span class=n>input_format_import_nested_json</span><span class=o>=</span><span class=mi>1</span>
<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>json_each_row_nested</span> <span class=n>FORMAT</span> <span class=n>JSONEachRow</span> <span class=err>{</span><span class=ss>&quot;n&quot;</span><span class=p>:</span> <span class=err>{</span><span class=ss>&quot;s&quot;</span><span class=p>:</span> <span class=p>[</span><span class=ss>&quot;abc&quot;</span><span class=p>,</span> <span class=ss>&quot;def&quot;</span><span class=p>],</span> <span class=ss>&quot;i&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>23</span><span class=p>]</span><span class=err>}}</span>
<span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>json_each_row_nested</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─n.s───────────┬─n.i────┐
│ [&#39;abc&#39;,&#39;def&#39;] │ [1,23] │
└───────────────┴────────┘
</code></pre></div> <h2 id=native>Native<a class=headerlink href=#native title="Permanent link">&para;</a></h2> <p>The most efficient format. Data is written and read by blocks in binary format. For each block, the number of rows, number of columns, column names and types, and parts of columns in this block are recorded one after another. In other words, this format is "columnar" – it doesn't convert columns to rows. This is the format used in the native interface for interaction between servers, for using the command-line client, and for C++ clients.</p> <p>You can use this format to quickly generate dumps that can only be read by the ClickHouse DBMS. It doesn't make sense to work with this format yourself.</p> <h2 id=null>Null<a class=headerlink href=#null title="Permanent link">&para;</a></h2> <p>Nothing is output. However, the query is processed, and when using the command-line client, data is transmitted to the client. This is used for tests, including productivity testing.<br> Obviously, this format is only appropriate for output, not for parsing.</p> <h2 id=pretty>Pretty<a class=headerlink href=#pretty title="Permanent link">&para;</a></h2> <p>Outputs data as Unicode-art tables, also using ANSI-escape sequences for setting colors in the terminal.<br> A full grid of the table is drawn, and each row occupies two lines in the terminal.<br> Each result block is output as a separate table. This is necessary so that blocks can be output without buffering results (buffering would be necessary in order to pre-calculate the visible width of all the values).</p> <p><a href=../../query_language/syntax/ >NULL</a> is output as <code>ᴺᵁᴸᴸ</code>.</p> <p>Example (shown for the <a href=#prettycompact>PrettyCompact</a> format):</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─x─┬────y─┐
│ 1 │ ᴺᵁᴸᴸ │
└───┴──────┘
</code></pre></div> <p>Rows are not escaped in Pretty* formats. Example is shown for the <a href=#prettycompact>PrettyCompact</a> format:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=s1>&#39;String with \&#39;</span><span class=n>quotes</span><span class=err>\</span><span class=s1>&#39; and \t character&#39;</span> <span class=k>AS</span> <span class=n>Escaping_test</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─Escaping_test────────────────────────┐
│ String with &#39;quotes&#39; and   character │
└──────────────────────────────────────┘
</code></pre></div> <p>To avoid dumping too much data to the terminal, only the first 10,000 rows are printed. If the number of rows is greater than or equal to 10,000, the message "Showed first 10 000" is printed.<br> This format is only appropriate for outputting a query result, but not for parsing (retrieving data to insert in a table).</p> <p>The Pretty format supports outputting total values (when using WITH TOTALS) and extremes (when 'extremes' is set to 1). In these cases, total values and extreme values are output after the main data, in separate tables. Example (shown for the <a href=#prettycompact>PrettyCompact</a> format):</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>EventDate</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=k>WITH</span> <span class=n>TOTALS</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventDate</span> <span class=n>FORMAT</span> <span class=n>PrettyCompact</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1406958 │
│ 2014-03-18 │ 1383658 │
│ 2014-03-19 │ 1405797 │
│ 2014-03-20 │ 1353623 │
│ 2014-03-21 │ 1245779 │
│ 2014-03-22 │ 1031592 │
│ 2014-03-23 │ 1046491 │
└────────────┴─────────┘

Totals:
┌──EventDate─┬───────c─┐
│ 0000-00-00 │ 8873898 │
└────────────┴─────────┘

Extremes:
┌──EventDate─┬───────c─┐
│ 2014-03-17 │ 1031592 │
│ 2014-03-23 │ 1406958 │
└────────────┴─────────┘
</code></pre></div> <h2 id=prettycompact>PrettyCompact<a class=headerlink href=#prettycompact title="Permanent link">&para;</a></h2> <p>Differs from <a href=#pretty>Pretty</a> in that the grid is drawn between rows and the result is more compact.<br> This format is used by default in the command-line client in interactive mode.</p> <h2 id=prettycompactmonoblock>PrettyCompactMonoBlock<a class=headerlink href=#prettycompactmonoblock title="Permanent link">&para;</a></h2> <p>Differs from <a href=#prettycompact>PrettyCompact</a> in that up to 10,000 rows are buffered, then output as a single table, not by blocks.</p> <h2 id=prettynoescapes>PrettyNoEscapes<a class=headerlink href=#prettynoescapes title="Permanent link">&para;</a></h2> <p>Differs from Pretty in that ANSI-escape sequences aren't used. This is necessary for displaying this format in a browser, as well as for using the 'watch' command-line utility.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code>$ watch -n1 <span class=s2>&quot;clickhouse-client --query=&#39;SELECT event, value FROM system.events FORMAT PrettyCompactNoEscapes&#39;&quot;</span>
</code></pre></div> <p>You can use the HTTP interface for displaying in the browser.</p> <h3 id=prettycompactnoescapes>PrettyCompactNoEscapes<a class=headerlink href=#prettycompactnoescapes title="Permanent link">&para;</a></h3> <p>The same as the previous setting.</p> <h3 id=prettyspacenoescapes>PrettySpaceNoEscapes<a class=headerlink href=#prettyspacenoescapes title="Permanent link">&para;</a></h3> <p>The same as the previous setting.</p> <h2 id=prettyspace>PrettySpace<a class=headerlink href=#prettyspace title="Permanent link">&para;</a></h2> <p>Differs from <a href=#prettycompact>PrettyCompact</a> in that whitespace (space characters) is used instead of the grid.</p> <h2 id=rowbinary>RowBinary<a class=headerlink href=#rowbinary title="Permanent link">&para;</a></h2> <p>Formats and parses data by row in binary format. Rows and values are listed consecutively, without separators.<br> This format is less efficient than the Native format, since it is row-based.</p> <p>Integers use fixed-length little endian representation. For example, UInt64 uses 8 bytes.<br> DateTime is represented as UInt32 containing the Unix timestamp as the value.<br> Date is represented as a UInt16 object that contains the number of days since 1970-01-01 as the value.<br> String is represented as a varint length (unsigned <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer">LEB128</a>), followed by the bytes of the string.<br> FixedString is represented simply as a sequence of bytes.</p> <p>Array is represented as a varint length (unsigned <a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer">LEB128</a>), followed by successive elements of the array.</p> <p>For <a href=../../query_language/syntax/#null-literal>NULL</a> support, an additional byte containing 1 or 0 is added before each <a href=../../data_types/nullable/ >Nullable</a> value. If 1, then the value is <code>NULL</code> and this byte is interpreted as a separate value. If 0, the value after the byte is not <code>NULL</code>.</p> <h2 id=rowbinarywithnamesandtypes>RowBinaryWithNamesAndTypes<a class=headerlink href=#rowbinarywithnamesandtypes title="Permanent link">&para;</a></h2> <p>Similar to <a href=#rowbinary>RowBinary</a>, but with added header:</p> <ul> <li><a href=https://en.wikipedia.org/wiki/LEB128 rel="external nofollow noreferrer">LEB128</a>-encoded number of columns (N)</li> <li>N <code>String</code>s specifying column names</li> <li>N <code>String</code>s specifying column types</li> </ul> <h2 id=data-format-values>Values<a class=headerlink href=#data-format-values title="Permanent link">&para;</a></h2> <p>Prints every row in brackets. Rows are separated by commas. There is no comma after the last row. The values inside the brackets are also comma-separated. Numbers are output in decimal format without quotes. Arrays are output in square brackets. Strings, dates, and dates with times are output in quotes. Escaping rules and parsing are similar to the <a href=#tabseparated>TabSeparated</a> format. During formatting, extra spaces aren't inserted, but during parsing, they are allowed and skipped (except for spaces inside array values, which are not allowed). <a href=../../query_language/syntax/ >NULL</a> is represented as <code>NULL</code>.</p> <p>The minimum set of characters that you need to escape when passing data in Values ​​format: single quotes and backslashes.</p> <p>This is the format that is used in <code>INSERT INTO t VALUES ...</code>, but you can also use it for formatting query results.</p> <p>See also: <a href=../../operations/settings/settings/#settings-input_format_values_interpret_expressions>input_format_values_interpret_expressions</a> and <a href=../../operations/settings/settings/#settings-input_format_values_deduce_templates_of_expressions>input_format_values_deduce_templates_of_expressions</a> settings.</p> <h2 id=vertical>Vertical<a class=headerlink href=#vertical title="Permanent link">&para;</a></h2> <p>Prints each value on a separate line with the column name specified. This format is convenient for printing just one or a few rows, if each row consists of a large number of columns.</p> <p><a href=../../query_language/syntax/ >NULL</a> is output as <code>ᴺᵁᴸᴸ</code>.</p> <p>Example:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t_null</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Row 1:
──────
x: 1
y: ᴺᵁᴸᴸ
</code></pre></div> <p>Rows are not escaped in Vertical format:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=s1>&#39;string with \&#39;</span><span class=n>quotes</span><span class=err>\</span><span class=s1>&#39; and \t with some special \n characters&#39;</span> <span class=k>AS</span> <span class=n>test</span> <span class=n>FORMAT</span> <span class=n>Vertical</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>Row 1:
──────
test: string with &#39;quotes&#39; and   with some special
 characters
</code></pre></div> <p>This format is only appropriate for outputting a query result, but not for parsing (retrieving data to insert in a table).</p> <h2 id=xml>XML<a class=headerlink href=#xml title="Permanent link">&para;</a></h2> <p>XML format is suitable only for output, not for parsing. Example:</p> <div class=codehilite><pre><span></span><code><span class=cp>&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;</span>
<span class=nt>&lt;result&gt;</span>
        <span class=nt>&lt;meta&gt;</span>
                <span class=nt>&lt;columns&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>SearchPhrase<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>String<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                        <span class=nt>&lt;column&gt;</span>
                                <span class=nt>&lt;name&gt;</span>count()<span class=nt>&lt;/name&gt;</span>
                                <span class=nt>&lt;type&gt;</span>UInt64<span class=nt>&lt;/type&gt;</span>
                        <span class=nt>&lt;/column&gt;</span>
                <span class=nt>&lt;/columns&gt;</span>
        <span class=nt>&lt;/meta&gt;</span>
        <span class=nt>&lt;data&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>8267016<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>bathroom interior design<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>2166<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>yandex<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1655<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>2014 spring fashion<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1549<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>freeform photos<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1480<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>angelina jolie<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1245<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>omsk<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1112<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>photos of dog breeds<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1091<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>curtain designs<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1064<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
                <span class=nt>&lt;row&gt;</span>
                        <span class=nt>&lt;SearchPhrase&gt;</span>baku<span class=nt>&lt;/SearchPhrase&gt;</span>
                        <span class=nt>&lt;field&gt;</span>1000<span class=nt>&lt;/field&gt;</span>
                <span class=nt>&lt;/row&gt;</span>
        <span class=nt>&lt;/data&gt;</span>
        <span class=nt>&lt;rows&gt;</span>10<span class=nt>&lt;/rows&gt;</span>
        <span class=nt>&lt;rows_before_limit_at_least&gt;</span>141137<span class=nt>&lt;/rows_before_limit_at_least&gt;</span>
<span class=nt>&lt;/result&gt;</span>
</code></pre></div> <p>If the column name does not have an acceptable format, just 'field' is used as the element name. In general, the XML structure follows the JSON structure.<br> Just as for JSON, invalid UTF-8 sequences are changed to the replacement character � so the output text will consist of valid UTF-8 sequences.</p> <p>In string values, the characters <code>&lt;</code> and <code>&amp;</code> are escaped as <code>&lt;</code> and <code>&amp;</code>.</p> <p>Arrays are output as <code>&lt;array&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/array&gt;</code>,and tuples as <code>&lt;tuple&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/tuple&gt;</code>.</p> <h2 id=capnproto>CapnProto<a class=headerlink href=#capnproto title="Permanent link">&para;</a></h2> <p>Cap'n Proto is a binary message format similar to Protocol Buffers and Thrift, but not like JSON or MessagePack.</p> <p>Cap'n Proto messages are strictly typed and not self-describing, meaning they need an external schema description. The schema is applied on the fly and cached for each query.</p> <div class=codehilite><pre><span></span><code>$ cat capnproto_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>&quot;INSERT INTO test.hits FORMAT CapnProto SETTINGS format_schema=&#39;schema:Message&#39;&quot;</span>
</code></pre></div> <p>Where <code>schema.capnp</code> looks like this:</p> <div class=codehilite><pre><span></span><code><span class=k>struct</span> <span class=n>Message</span> {
  <span class=n>SearchPhrase</span> <span class=nd>@0</span> <span class=nc>:Text</span>;
  <span class=n>c</span> <span class=nd>@1</span> <span class=nc>:Uint64</span>;
}
</code></pre></div> <p>Deserialization is effective and usually doesn't increase the system load.</p> <p>See also <a href=#formatschema>Format Schema</a>.</p> <h2 id=protobuf>Protobuf<a class=headerlink href=#protobuf title="Permanent link">&para;</a></h2> <p>Protobuf - is a <a href=https://developers.google.com/protocol-buffers/ rel="external nofollow noreferrer">Protocol Buffers</a> format.</p> <p>This format requires an external format schema. The schema is cached between queries.<br> ClickHouse supports both <code>proto2</code> and <code>proto3</code> syntaxes. Repeated/optional/required fields are supported.</p> <p>Usage examples:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=k>table</span> <span class=n>FORMAT</span> <span class=n>Protobuf</span> <span class=n>SETTINGS</span> <span class=n>format_schema</span> <span class=o>=</span> <span class=s1>&#39;schemafile:MessageType&#39;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>cat protobuf_messages.bin <span class=p>|</span> clickhouse-client --query <span class=s2>&quot;INSERT INTO test.table FORMAT Protobuf SETTINGS format_schema=&#39;schemafile:MessageType&#39;&quot;</span>
</code></pre></div> <p>where the file <code>schemafile.proto</code> looks like this:</p> <div class=codehilite><pre><span></span><code><span class=n>syntax</span> <span class=l>= &quot;proto3&quot;</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>string</span> <span class=n>name</span> <span class=l>= 1</span>;
  <span class=n>string</span> <span class=n>surname</span> <span class=l>= 2</span>;
  <span class=n>uint32</span> <span class=n>birthDate</span> <span class=l>= 3</span>;
  <span class=n>repeated</span> <span class=n>string</span> <span class=n>phoneNumbers</span> <span class=l>= 4</span>;
};
</code></pre></div> <p>To find the correspondence between table columns and fields of Protocol Buffers' message type ClickHouse compares their names.<br> This comparison is case-insensitive and the characters <code>_</code> (underscore) and <code>.</code> (dot) are considered as equal.<br> If types of a column and a field of Protocol Buffers' message are different the necessary conversion is applied.</p> <p>Nested messages are supported. For example, for the field <code>z</code> in the following message type</p> <div class=codehilite><pre><span></span><code><span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>message</span> <span class=n>XType</span> {
    <span class=n>message</span> <span class=n>YType</span> {
      <span class=n>int32</span> <span class=n>z</span>;
    };
    <span class=n>repeated</span> <span class=n>YType</span> <span class=n>y</span>;
  };
  <span class=n>XType</span> <span class=n>x</span>;
};
</code></pre></div> <p>ClickHouse tries to find a column named <code>x.y.z</code> (or <code>x_y_z</code> or <code>X.y_Z</code> and so on).<br> Nested messages are suitable to input or output a <a href=../../data_types/nested_data_structures/nested/ >nested data structures</a>.</p> <p>Default values defined in a protobuf schema like this</p> <div class=codehilite><pre><span></span><code><span class=n>syntax</span> <span class=l>= &quot;proto2&quot;</span>;

<span class=n>message</span> <span class=n>MessageType</span> {
  <span class=n>optional</span> <span class=n>int32</span> <span class=n>result_per_page</span> <span class=l>= 3 [default = 10]</span>;
}
</code></pre></div> <p>are not applied; the <a href=../../query_language/create/#create-default-values>table defaults</a> are used instead of them.</p> <p>ClickHouse inputs and outputs protobuf messages in the <code>length-delimited</code> format.<br> It means before every message should be written its length as a <a href=https://developers.google.com/protocol-buffers/docs/encoding#varints rel="external nofollow noreferrer">varint</a>.<br> See also <a href=https://cwiki.apache.org/confluence/display/GEODE/Delimiting+Protobuf+Messages rel="external nofollow noreferrer">how to read/write length-delimited protobuf messages in popular languages</a>.</p> <h2 id=data-format-parquet>Parquet<a class=headerlink href=#data-format-parquet title="Permanent link">&para;</a></h2> <p><a href=http://parquet.apache.org/ rel="external nofollow noreferrer">Apache Parquet</a> is a columnar storage format widespread in the Hadoop ecosystem. ClickHouse supports read and write operations for this format.</p> <h3 id=data-types-matching>Data Types Matching<a class=headerlink href=#data-types-matching title="Permanent link">&para;</a></h3> <p>The table below shows supported data types and how they match ClickHouse <a href=../../data_types/ >data types</a> in <code>INSERT</code> and <code>SELECT</code> queries.</p> <table> <thead> <tr> <th>Parquet data type (<code>INSERT</code>)</th> <th>ClickHouse data type</th> <th>Parquet data type (<code>SELECT</code>)</th> </tr> </thead> <tbody> <tr> <td><code>UINT8</code>, <code>BOOL</code></td> <td><a href=../../data_types/int_uint/ >UInt8</a></td> <td><code>UINT8</code></td> </tr> <tr> <td><code>INT8</code></td> <td><a href=../../data_types/int_uint/ >Int8</a></td> <td><code>INT8</code></td> </tr> <tr> <td><code>UINT16</code></td> <td><a href=../../data_types/int_uint/ >UInt16</a></td> <td><code>UINT16</code></td> </tr> <tr> <td><code>INT16</code></td> <td><a href=../../data_types/int_uint/ >Int16</a></td> <td><code>INT16</code></td> </tr> <tr> <td><code>UINT32</code></td> <td><a href=../../data_types/int_uint/ >UInt32</a></td> <td><code>UINT32</code></td> </tr> <tr> <td><code>INT32</code></td> <td><a href=../../data_types/int_uint/ >Int32</a></td> <td><code>INT32</code></td> </tr> <tr> <td><code>UINT64</code></td> <td><a href=../../data_types/int_uint/ >UInt64</a></td> <td><code>UINT64</code></td> </tr> <tr> <td><code>INT64</code></td> <td><a href=../../data_types/int_uint/ >Int64</a></td> <td><code>INT64</code></td> </tr> <tr> <td><code>FLOAT</code>, <code>HALF_FLOAT</code></td> <td><a href=../../data_types/float/ >Float32</a></td> <td><code>FLOAT</code></td> </tr> <tr> <td><code>DOUBLE</code></td> <td><a href=../../data_types/float/ >Float64</a></td> <td><code>DOUBLE</code></td> </tr> <tr> <td><code>DATE32</code></td> <td><a href=../../data_types/date/ >Date</a></td> <td><code>UINT16</code></td> </tr> <tr> <td><code>DATE64</code>, <code>TIMESTAMP</code></td> <td><a href=../../data_types/datetime/ >DateTime</a></td> <td><code>UINT32</code></td> </tr> <tr> <td><code>STRING</code>, <code>BINARY</code></td> <td><a href=../../data_types/string/ >String</a></td> <td><code>STRING</code></td> </tr> <tr> <td>—</td> <td><a href=../../data_types/fixedstring/ >FixedString</a></td> <td><code>STRING</code></td> </tr> <tr> <td><code>DECIMAL</code></td> <td><a href=../../data_types/decimal/ >Decimal</a></td> <td><code>DECIMAL</code></td> </tr> </tbody> </table> <p>ClickHouse supports configurable precision of <code>Decimal</code> type. The <code>INSERT</code> query treats the Parquet <code>DECIMAL</code> type as the ClickHouse <code>Decimal128</code> type.</p> <p>Unsupported Parquet data types: <code>DATE32</code>, <code>TIME32</code>, <code>FIXED_SIZE_BINARY</code>, <code>JSON</code>, <code>UUID</code>, <code>ENUM</code>.</p> <p>Data types of a ClickHouse table columns can differ from the corresponding fields of the Parquet data inserted. When inserting data, ClickHouse interprets data types according to the table above and then <a href=../query_language/functions/type_conversion_functions/#type_conversion_function-cast>cast</a> the data to that data type which is set for the ClickHouse table column.</p> <h3 id=inserting-and-selecting-data>Inserting and Selecting Data<a class=headerlink href=#inserting-and-selecting-data title="Permanent link">&para;</a></h3> <p>You can insert Parquet data from a file into ClickHouse table by the following command:</p> <div class=codehilite><pre><span></span><code>cat <span class=o>{</span>filename<span class=o>}</span> <span class=p>|</span> clickhouse-client --query<span class=o>=</span><span class=s2>&quot;INSERT INTO {some_table} FORMAT Parquet&quot;</span>
</code></pre></div> <p>You can select data from a ClickHouse table and save them into some file in the Parquet format by the following command:</p> <div class=codehilite><pre><span></span><code><span class=n>clickhouse</span><span class=o>-</span><span class=n>client</span> <span class=c1>--query=&quot;SELECT * FROM {some_table} FORMAT Parquet&quot; &gt; {some_file.pq}</span>
</code></pre></div> <p>To exchange data with the Hadoop, you can use <a href=../../operations/table_engines/hdfs/ >HDFS table engine</a>.</p> <h2 id=formatschema>Format Schema<a class=headerlink href=#formatschema title="Permanent link">&para;</a></h2> <p>The file name containing the format schema is set by the setting <code>format_schema</code>.<br> It's required to set this setting when it is used one of the formats <code>Cap'n Proto</code> and <code>Protobuf</code>.<br> The format schema is a combination of a file name and the name of a message type in this file, delimited by colon,<br> e.g. <code>schemafile.proto:MessageType</code>.<br> If the file has the standard extension for the format (for example, <code>.proto</code> for <code>Protobuf</code>),<br> it can be omitted and in this case the format schema looks like <code>schemafile:MessageType</code>.</p> <p>If you input or output data via the <a href=../cli/ >client</a> in the <a href=../cli/#cli_usage>interactive mode</a>, the file name specified in the format schema<br> can contain an absolute path or a path relative to the current directory on the client.<br> If you use the client in the <a href=../cli/#cli_usage>batch mode</a>, the path to the schema must be relative due to security reasons.</p> <p>If you input or output data via the <a href=../http/ >HTTP interface</a> the file name specified in the format schema<br> should be located in the directory specified in <a href=../../operations/server_settings/settings/#server_settings-format_schema_path>format_schema_path</a><br> in the server configuration.</p> <h2 id=skippingerrors>Skipping Errors<a class=headerlink href=#skippingerrors title="Permanent link">&para;</a></h2> <p>Some formats such as <code>CSV</code>, <code>TabSeparated</code>, <code>TSKV</code>, <code>JSONEachRow</code>, <code>Template</code>, <code>CustomSeparated</code> and <code>Protobuf</code> can skip broken row if parsing error occurred and continue parsing from the beginning of next row. See <a href=../../operations/settings/settings/#settings-input_format_allow_errors_num>input_format_allow_errors_num</a> and <br> <a href=../../operations/settings/settings/#settings-input_format_allow_errors_ratio>input_format_allow_errors_ratio</a> settings.<br> Limitations:<br> - In case of parsing error <code>JSONEachRow</code> skips all data until the new line (or EOF), so rows must be delimited by <code>\n</code> to count errors correctly.<br> - <code>Template</code> and <code>CustomSeparated</code> use delimiter after the last column and delimiter between rows to find the beginning of next row, so skipping errors works only if at least one of them is not empty.</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Built from <a href=https://github.com/ClickHouse/ClickHouse/commit/23e757bcb79e11756e72134fdf037052a0b295b5 rel="external nofollow noreferrer" target=_blank class=text-reset>23e757bcb7</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table of Contents</label> <a href=#tabseparated title=TabSeparated class="nav-link text-wrap d-inline-block w-100"> TabSeparated </a> <nav id=toc-toc-1 class="nav flex-column pl-2"> <a href=#data-formatting title="Data Formatting" class="nav-link text-wrap d-inline-block w-100"> Data Formatting </a> </nav> <a href=#tabseparatedraw title=TabSeparatedRaw class="nav-link text-wrap d-inline-block w-100"> TabSeparatedRaw </a> <a href=#tabseparatedwithnames title=TabSeparatedWithNames class="nav-link text-wrap d-inline-block w-100"> TabSeparatedWithNames </a> <a href=#tabseparatedwithnamesandtypes title=TabSeparatedWithNamesAndTypes class="nav-link text-wrap d-inline-block w-100"> TabSeparatedWithNamesAndTypes </a> <a href=#format-template title=Template class="nav-link text-wrap d-inline-block w-100"> Template </a> <a href=#templateignorespaces title=TemplateIgnoreSpaces class="nav-link text-wrap d-inline-block w-100"> TemplateIgnoreSpaces </a> <a href=#tskv title=TSKV class="nav-link text-wrap d-inline-block w-100"> TSKV </a> <a href=#csv title=CSV class="nav-link text-wrap d-inline-block w-100"> CSV </a> <a href=#csvwithnames title=CSVWithNames class="nav-link text-wrap d-inline-block w-100"> CSVWithNames </a> <a href=#format-customseparated title=CustomSeparated class="nav-link text-wrap d-inline-block w-100"> CustomSeparated </a> <a href=#json title=JSON class="nav-link text-wrap d-inline-block w-100"> JSON </a> <a href=#jsoncompact title=JSONCompact class="nav-link text-wrap d-inline-block w-100"> JSONCompact </a> <a href=#jsoneachrow title=JSONEachRow class="nav-link text-wrap d-inline-block w-100"> JSONEachRow </a> <nav id=toc-toc-13 class="nav flex-column pl-2"> <a href=#inserting-data title="Inserting Data" class="nav-link text-wrap d-inline-block w-100"> Inserting Data </a> <a href=#selecting-data title="Selecting Data" class="nav-link text-wrap d-inline-block w-100"> Selecting Data </a> <a href=#jsoneachrow-nested title="Usage of Nested Structures" class="nav-link text-wrap d-inline-block w-100"> Usage of Nested Structures </a> </nav> <a href=#native title=Native class="nav-link text-wrap d-inline-block w-100"> Native </a> <a href=#null title=Null class="nav-link text-wrap d-inline-block w-100"> Null </a> <a href=#pretty title=Pretty class="nav-link text-wrap d-inline-block w-100"> Pretty </a> <a href=#prettycompact title=PrettyCompact class="nav-link text-wrap d-inline-block w-100"> PrettyCompact </a> <a href=#prettycompactmonoblock title=PrettyCompactMonoBlock class="nav-link text-wrap d-inline-block w-100"> PrettyCompactMonoBlock </a> <a href=#prettynoescapes title=PrettyNoEscapes class="nav-link text-wrap d-inline-block w-100"> PrettyNoEscapes </a> <nav id=toc-toc-19 class="nav flex-column pl-2"> <a href=#prettycompactnoescapes title=PrettyCompactNoEscapes class="nav-link text-wrap d-inline-block w-100"> PrettyCompactNoEscapes </a> <a href=#prettyspacenoescapes title=PrettySpaceNoEscapes class="nav-link text-wrap d-inline-block w-100"> PrettySpaceNoEscapes </a> </nav> <a href=#prettyspace title=PrettySpace class="nav-link text-wrap d-inline-block w-100"> PrettySpace </a> <a href=#rowbinary title=RowBinary class="nav-link text-wrap d-inline-block w-100"> RowBinary </a> <a href=#rowbinarywithnamesandtypes title=RowBinaryWithNamesAndTypes class="nav-link text-wrap d-inline-block w-100"> RowBinaryWithNamesAndTypes </a> <a href=#data-format-values title=Values class="nav-link text-wrap d-inline-block w-100"> Values </a> <a href=#vertical title=Vertical class="nav-link text-wrap d-inline-block w-100"> Vertical </a> <a href=#xml title=XML class="nav-link text-wrap d-inline-block w-100"> XML </a> <a href=#capnproto title=CapnProto class="nav-link text-wrap d-inline-block w-100"> CapnProto </a> <a href=#protobuf title=Protobuf class="nav-link text-wrap d-inline-block w-100"> Protobuf </a> <a href=#data-format-parquet title=Parquet class="nav-link text-wrap d-inline-block w-100"> Parquet </a> <nav id=toc-toc-28 class="nav flex-column pl-2"> <a href=#data-types-matching title="Data Types Matching" class="nav-link text-wrap d-inline-block w-100"> Data Types Matching </a> <a href=#inserting-and-selecting-data title="Inserting and Selecting Data" class="nav-link text-wrap d-inline-block w-100"> Inserting and Selecting Data </a> </nav> <a href=#formatschema title="Format Schema" class="nav-link text-wrap d-inline-block w-100"> Format Schema </a> <a href=#skippingerrors title="Skipping Errors" class="nav-link text-wrap d-inline-block w-100"> Skipping Errors </a> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>