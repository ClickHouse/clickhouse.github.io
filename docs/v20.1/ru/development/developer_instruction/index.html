<!DOCTYPE html><html lang=ru data-version=v20.1 data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Инструкция для начинающего разработчика ClickHouse - Документация ClickHouse v20.1</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="Инструкция для начинающего разработчика ClickHouse - Документация ClickHouse v20.1"><meta property=og:description content="Сборка ClickHouse поддерживается на Linux, FreeBSD, Mac OS X. Если вы используете Windows Если вы используете Windows, в"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="Инструкция для начинающего разработчика ClickHouse - Документация ClickHouse v20.1"><meta name=description content="Сборка ClickHouse поддерживается на Linux, FreeBSD, Mac OS X. Если вы используете Windows Если вы используете Windows, в"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> Инструкция для начинающего разработчика ClickHouse </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/development/developer_instruction.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/ru.svg alt=Русский title=Русский width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/v20.1/en/development/developer_instruction/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/v20.1/zh/development/developer_instruction/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/v20.1/es/development/developer_instruction/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/v20.1/fr/development/developer_instruction/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/v20.1/ru/development/developer_instruction/ class="dropdown-item disabled"> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/v20.1/ja/development/developer_instruction/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/v20.1/fa/development/developer_instruction/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Многостраничный или одностраничный"> <a href=../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Многостраничная версия" title="Многостраничная версия"> </a> <a href=../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Одностраничная версия" title="Одностраничная версия"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Версия: <span class=text-light>v20.1</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/ru/ class=dropdown-item> <span class=text-light>последняя</span> </a> <a href=/docs/v20.3/ru/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/ru/ class="dropdown-item disable">v20.1</a> <a href=/docs/v19.17/ru/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/ru/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/ru/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/ru/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/ru/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/ru/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/ru/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/ru/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/ru/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Введение class="nav-link text-light text-wrap dropdown-toggle px-0">Введение</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../introduction/distinctive_features/ title="Отличительные возможности ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Отличительные возможности ClickHouse</a> <a href=../../introduction/features_considered_disadvantages/ title="Особенности ClickHouse, которые могут считаться недостатками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Особенности ClickHouse, которые могут считаться недостатками</a> <a href=../../introduction/performance/ title=Производительность class="nav-link text-light text-wrap d-inline-block w-100 px-0">Производительность</a> <a href=../../introduction/history/ title=История class="nav-link text-light text-wrap d-inline-block w-100 px-0">История</a> <a href=../../introduction/info/ title="Информационная поддержка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Информационная поддержка</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title="Начало работы" class="nav-link text-light text-wrap dropdown-toggle px-0">Начало работы</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/install/ title=Установка class="nav-link text-light text-wrap d-inline-block w-100 px-0">Установка</a> <a href=../../getting_started/tutorial/ title="Руководство для начинающих" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Руководство для начинающих</a> <a href=#sidebar-sidebar-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-4 title="Тестовые наборы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Тестовые наборы данных</a> <div id=sidebar-sidebar-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../getting_started/example_datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../getting_started/example_datasets/nyc_taxi/ title="Данные о такси в Нью-Йорке" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные о такси в Нью-Йорке</a> <a href=../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../getting_started/example_datasets/criteo/ title="Терабайт логов кликов от Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Терабайт логов кликов от Criteo</a> <a href=../../getting_started/example_datasets/star_schema/ title="Схема «Звезда»" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Схема «Звезда»</a> <a href=../../getting_started/example_datasets/metrica/ title="Данные Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные Яндекс.Метрики</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Интерфейсы class="nav-link text-light text-wrap dropdown-toggle px-0">Интерфейсы</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../interfaces/cli/ title="Клиент командной строки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиент командной строки</a> <a href=../../interfaces/tcp/ title="Нативный интерфейс (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Нативный интерфейс (TCP)</a> <a href=../../interfaces/http/ title=HTTP-интерфейс class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP-интерфейс</a> <a href=../../interfaces/formats/ title="Форматы входных и выходных данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Форматы входных и выходных данных</a> <a href=../../interfaces/jdbc/ title=JDBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC-драйвер</a> <a href=../../interfaces/odbc/ title=ODBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC-драйвер</a> <a href=../../interfaces/cpp/ title="C++ клиентская библиотека" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ клиентская библиотека</a> <a href=#sidebar-sidebar-3-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-9 title="От сторонних разработчиков" class="nav-link text-light text-wrap dropdown-toggle px-0">От сторонних разработчиков</a> <div id=sidebar-sidebar-3-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../interfaces/third-party/client_libraries/ title="Клиентские библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиентские библиотеки</a> <a href=../../interfaces/third-party/integrations/ title=Интеграции class="nav-link text-light text-wrap d-inline-block w-100 px-0">Интеграции</a> <a href=../../interfaces/third-party/gui/ title="Визуальные интерфейсы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Визуальные интерфейсы</a> <a href=../../interfaces/third-party/proxy/ title=Прокси class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прокси</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title="Движки баз данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки баз данных</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../database_engines/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title="Движки таблиц" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки таблиц</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="Семейство MergeTree" class="nav-link text-light text-wrap dropdown-toggle px-0">Семейство MergeTree</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../operations/table_engines/replication/ title="Репликация данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Репликация данных</a> <a href=../../operations/table_engines/custom_partitioning_key/ title="Произвольный ключ партиционирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Произвольный ключ партиционирования</a> <a href=../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../operations/table_engines/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Семейство Log" class="nav-link text-light text-wrap dropdown-toggle px-0">Семейство Log</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/log_family/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../operations/table_engines/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../operations/table_engines/log/ title=Log class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a> <a href=../../operations/table_engines/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-4 title=Интеграции class="nav-link text-light text-wrap dropdown-toggle px-0">Интеграции</a> <div id=sidebar-sidebar-5-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../operations/table_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../operations/table_engines/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../operations/table_engines/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../operations/table_engines/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-5 title=Особые class="nav-link text-light text-wrap dropdown-toggle px-0">Особые</a> <div id=sidebar-sidebar-5-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/table_engines/distributed/ title=Distributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a> <a href=../../operations/table_engines/external_data/ title="Внешние данные" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние данные</a> <a href=../../operations/table_engines/dictionary/ title=Dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a> <a href=../../operations/table_engines/merge/ title=Merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a> <a href=../../operations/table_engines/file/ title=File class="nav-link text-light text-wrap d-inline-block w-100 px-0">File</a> <a href=../../operations/table_engines/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../operations/table_engines/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../operations/table_engines/join/ title=Join class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a> <a href=../../operations/table_engines/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../operations/table_engines/view/ title=View class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a> <a href=../../operations/table_engines/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../operations/table_engines/memory/ title=Memory class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a> <a href=../../operations/table_engines/buffer/ title=Buffer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="Справка по SQL" class="nav-link text-light text-wrap dropdown-toggle px-0">Справка по SQL</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/syntax/ title="Общий синтаксис" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общий синтаксис</a> <a href=#sidebar-sidebar-6-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-3 title=Запросы class="nav-link text-light text-wrap dropdown-toggle px-0">Запросы</a> <div id=sidebar-sidebar-6-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/select/ title=SELECT class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../query_language/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../query_language/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../query_language/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../query_language/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../query_language/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../query_language/misc/ title=Прочие class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие</a> </nav> </div> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Функции class="nav-link text-light text-wrap dropdown-toggle px-0">Функции</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../query_language/functions/arithmetic_functions/ title="Арифметические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Арифметические функции</a> <a href=../../query_language/functions/comparison_functions/ title="Функции сравнения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции сравнения</a> <a href=../../query_language/functions/logical_functions/ title="Логические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Логические функции</a> <a href=../../query_language/functions/type_conversion_functions/ title="Функции преобразования типов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции преобразования типов</a> <a href=../../query_language/functions/date_time_functions/ title="Функции для работы с датами и временем" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с датами и временем</a> <a href=../../query_language/functions/string_functions/ title="Функции для работы со строками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со строками</a> <a href=../../query_language/functions/string_search_functions/ title="Функции поиска в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска в строках</a> <a href=../../query_language/functions/string_replace_functions/ title="Функции поиска и замены в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска и замены в строках</a> <a href=../../query_language/functions/conditional_functions/ title="Условные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Условные функции</a> <a href=../../query_language/functions/math_functions/ title="Математические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Математические функции</a> <a href=../../query_language/functions/rounding_functions/ title="Функции округления" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции округления</a> <a href=../../query_language/functions/array_functions/ title="Функции по работе с массивами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции по работе с массивами</a> <a href=../../query_language/functions/splitting_merging_functions/ title="Функции разбиения и слияния строк и массивов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции разбиения и слияния строк и массивов</a> <a href=../../query_language/functions/bit_functions/ title="Битовые функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Битовые функции</a> <a href=../../query_language/functions/bitmap_functions/ title="Функции для битмапов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для битмапов</a> <a href=../../query_language/functions/hash_functions/ title="Функции хэширования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции хэширования</a> <a href=../../query_language/functions/random_functions/ title="Функции генерации псевдослучайных чисел" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции генерации псевдослучайных чисел</a> <a href=../../query_language/functions/uuid_functions/ title="Функции для работы с UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с UUID</a> <a href=../../query_language/functions/encoding_functions/ title="Функции кодирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции кодирования</a> <a href=../../query_language/functions/url_functions/ title="Функции для работы с URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с URL</a> <a href=../../query_language/functions/ip_address_functions/ title="Функции для работы с IP-адресами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с IP-адресами</a> <a href=../../query_language/functions/json_functions/ title="Функции для работы с JSON." class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с JSON.</a> <a href=../../query_language/functions/higher_order_functions/ title="Функции высшего порядка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции высшего порядка</a> <a href=../../query_language/functions/ext_dict_functions/ title="Функции для работы с внешними словарями" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с внешними словарями</a> <a href=../../query_language/functions/ym_dict_functions/ title="Функции для работы со словарями Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со словарями Яндекс.Метрики</a> <a href=../../query_language/functions/in_functions/ title="Функции для реализации оператора IN." class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для реализации оператора IN.</a> <a href=../../query_language/functions/array_join/ title="Функция arrayJoin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функция arrayJoin</a> <a href=../../query_language/functions/geo/ title="Функции для работы с географическими координатами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с географическими координатами</a> <a href=../../query_language/functions/functions_for_nulls/ title="Функции c Nullable аргументами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции c Nullable аргументами</a> <a href=../../query_language/functions/machine_learning_functions/ title="Функции машинного обучения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции машинного обучения</a> <a href=../../query_language/functions/other_functions/ title="Прочие функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие функции</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Агрегатные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Агрегатные функции</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/agg_functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../query_language/agg_functions/reference/ title="Справочник функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Справочник функций</a> <a href=../../query_language/agg_functions/combinators/ title="Комбинаторы агрегатных функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Комбинаторы агрегатных функций</a> <a href=../../query_language/agg_functions/parametric_functions/ title="Параметрические агрегатные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Параметрические агрегатные функции</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Табличные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Табличные функции</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/table_functions/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../query_language/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../query_language/table_functions/merge/ title=merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a> <a href=../../query_language/table_functions/numbers/ title=numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a> <a href=../../query_language/table_functions/remote/ title=remote class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote</a> <a href=../../query_language/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../query_language/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../query_language/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../query_language/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../query_language/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../query_language/table_functions/input/ title=input class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Словари class="nav-link text-light text-wrap dropdown-toggle px-0">Словари</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/dicts/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="Внешние словари" class="nav-link text-light text-wrap dropdown-toggle px-0">Внешние словари</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../query_language/dicts/external_dicts/ title="Общее описание" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общее описание</a> <a href=../../query_language/dicts/external_dicts_dict/ title="Настройка внешнего словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройка внешнего словаря</a> <a href=../../query_language/dicts/external_dicts_dict_layout/ title="Хранение словарей в памяти" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Хранение словарей в памяти</a> <a href=../../query_language/dicts/external_dicts_dict_lifetime/ title="Обновление словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление словарей</a> <a href=../../query_language/dicts/external_dicts_dict_sources/ title="Источники внешних словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Источники внешних словарей</a> <a href=../../query_language/dicts/external_dicts_dict_structure/ title="Ключ и поля словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ключ и поля словаря</a> </nav> </div> <a href=../../query_language/dicts/internal_dicts/ title="Встроенные словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Встроенные словари</a> </nav> </div> <a href=../../query_language/operators/ title=Операторы class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы</a> <a href=#sidebar-sidebar-6-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9 title="Типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Типы данных</a> <div id=sidebar-sidebar-6-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../data_types/decimal/ title=Decimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal</a> <a href=../../data_types/boolean/ title="Булевы значения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Булевы значения</a> <a href=../../data_types/string/ title=String class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a> <a href=../../data_types/fixedstring/ title=FixedString(N) class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString(N)</a> <a href=../../data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../data_types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../data_types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types_of_arguments...)</a> <a href=../../data_types/tuple/ title="Tuple(T1, T2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, ...)</a> <a href=../../data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-6-9-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9-16 title="Вложенные структуры данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Вложенные структуры данных</a> <div id=sidebar-sidebar-6-9-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, ...)</a> </nav> </div> <a href=#sidebar-sidebar-6-9-17 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9-17 title="Служебные типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Служебные типы данных</a> <div id=sidebar-sidebar-6-9-17 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/special_data_types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../data_types/special_data_types/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../data_types/special_data_types/nothing/ title=Nothing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a> <a href=../../data_types/special_data_types/interval/ title=Interval class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a> </nav> </div> <a href=#sidebar-sidebar-6-9-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-9-18 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-9-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../data_types/domains/overview/ title=Overview class="nav-link text-light text-wrap d-inline-block w-100 px-0">Overview</a> <a href=../../data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Руководства class="nav-link text-light text-wrap dropdown-toggle px-0">Руководства</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../guides/ title=Обзор class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a> <a href=../../guides/apply_catboost_model/ title="Применение CatBoost моделей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Применение CatBoost моделей</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Эксплуатация class="nav-link text-light text-wrap dropdown-toggle px-0">Эксплуатация</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../operations/requirements/ title=Требования class="nav-link text-light text-wrap d-inline-block w-100 px-0">Требования</a> <a href=../../operations/monitoring/ title=Мониторинг class="nav-link text-light text-wrap d-inline-block w-100 px-0">Мониторинг</a> <a href=../../operations/troubleshooting/ title="Устранение неисправностей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Устранение неисправностей</a> <a href=../../operations/tips/ title="Советы по эксплуатации" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Советы по эксплуатации</a> <a href=../../operations/update/ title="Обновление ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление ClickHouse</a> <a href=../../operations/access_rights/ title="Права доступа" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Права доступа</a> <a href=../../operations/backup/ title="Резервное копирование" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Резервное копирование</a> <a href=../../operations/configuration_files/ title="Конфигурационные файлы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные файлы</a> <a href=../../operations/quotas/ title=Квоты class="nav-link text-light text-wrap d-inline-block w-100 px-0">Квоты</a> <a href=../../operations/system_tables/ title="Системные таблицы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Системные таблицы</a> <a href=../../operations/performance_test/ title="Тестирование оборудования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Тестирование оборудования</a> <a href=#sidebar-sidebar-8-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-13 title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap dropdown-toggle px-0">Конфигурационные параметры сервера</a> <div id=sidebar-sidebar-8-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/server_settings/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../operations/server_settings/settings/ title="Серверные настройки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Серверные настройки</a> </nav> </div> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Настройки class="nav-link text-light text-wrap dropdown-toggle px-0">Настройки</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/settings/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../operations/settings/permissions_for_queries/ title="Разрешения на выполнение запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Разрешения на выполнение запросов</a> <a href=../../operations/settings/query_complexity/ title="Ограничения на сложность запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на сложность запроса</a> <a href=../../operations/settings/settings/ title=Настройки class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки</a> <a href=../../operations/settings/constraints_on_settings/ title="Ограничения на изменение настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на изменение настроек</a> <a href=../../operations/settings/settings_profiles/ title="Профили настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Профили настроек</a> <a href=../../operations/settings/settings_users/ title="Настройки пользователей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки пользователей</a> </nav> </div> <a href=#sidebar-sidebar-8-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-15 title=Утилиты class="nav-link text-light text-wrap dropdown-toggle px-0">Утилиты</a> <div id=sidebar-sidebar-8-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../operations/utils/ title=Введение class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a> <a href=../../operations/utils/clickhouse-copier/ title=clickhouse-copier class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a> <a href=../../operations/utils/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Разработка class="nav-link text-light text-wrap dropdown-toggle px-0">Разработка</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../development/architecture/ title="Обзор архитектуры ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор архитектуры ClickHouse</a> <a href=../../development/build/ title="Как собрать ClickHouse на Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как собрать ClickHouse на Linux</a> <a href=../../development/build_osx/ title="Как собрать ClickHouse на Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как собрать ClickHouse на Mac OS X</a> <a href=../../development/build_cross_osx/ title="Как собрать ClickHouse на Linux для Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как собрать ClickHouse на Linux для Mac OS X</a> <a href=../../development/style/ title="Как писать код на C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как писать код на C++</a> <a href=../../development/tests/ title="Как запустить тесты" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как запустить тесты</a> <a href=../../development/developer_instruction/ title="Инструкция для начинающего разработчика ClickHouse" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">Инструкция для начинающего разработчика ClickHouse</a> <a href=../../development/contrib/ title="Сторонние библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Сторонние библиотеки</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title="Что нового" class="nav-link text-light text-wrap dropdown-toggle px-0">Что нового</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../changelog/ title=Changelog class="nav-link text-light text-wrap d-inline-block w-100 px-0">Changelog</a> <a href=../../security_changelog/ title="Security changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security changelog</a> <a href=../../roadmap/ title=Roadmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a> <a href=../../extended_roadmap/ title="Подробный roadmap 2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Подробный roadmap 2020</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../faq/general/ title="Общие вопросы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общие вопросы</a> </nav> </div> <a href=../../single/clickhouse_ru.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt=PDF-версия title=PDF-версия height=24 class="d-block mr-1 float-left"><div>PDF-версия</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <p>Сборка ClickHouse поддерживается на Linux, FreeBSD, Mac OS X.</p> <h1 id=esli-vy-ispolzuete-windows>Если вы используете Windows<a class=headerlink href=#esli-vy-ispolzuete-windows title="Permanent link">&para;</a></h1> <p>Если вы используете Windows, вам потребуется создать виртуальную машину с Ubuntu. Для работы с виртуальной машиной, установите VirtualBox. Скачать Ubuntu можно на сайте: <a href=https://www.ubuntu.com/#download>https://www.ubuntu.com/#download</a> Создайте виртуальную машину из полученного образа. Выделите для неё не менее 4 GB оперативной памяти. Для запуска терминала в Ubuntu, найдите в меню программу со словом terminal (gnome-terminal, konsole или что-то в этом роде) или нажмите Ctrl+Alt+T.</p> <h1 id=sozdanie-repozitoriia-na-github>Создание репозитория на GitHub<a class=headerlink href=#sozdanie-repozitoriia-na-github title="Permanent link">&para;</a></h1> <p>Для работы с репозиторием ClickHouse, вам потребуется аккаунт на GitHub. Наверное, он у вас уже есть.</p> <p>Если аккаунта нет - зарегистрируйтесь на <a href=https://github.com/ >https://github.com/</a>. Создайте ssh ключи, если их нет, и загрузите публичные ключи на GitHub. Это потребуется для отправки изменений. Для работы с GitHub можно использовать такие же ssh ключи, как и для работы с другими ssh серверами - скорее всего, они уже у вас есть.</p> <p>Создайте fork репозитория ClickHouse. Для этого, на странице <a href=https://github.com/ClickHouse/ClickHouse>https://github.com/ClickHouse/ClickHouse</a> нажмите на кнопку "fork" в правом верхнем углу. Вы получите полную копию репозитория ClickHouse на своём аккаунте, которая называется "форк". Процесс разработки состоит в том, чтобы внести нужные изменения в свой форк репозитория, а затем создать "pull request" для принятия изменений в основной репозиторий.</p> <p>Для работы с git репозиториями, установите <code>git</code>.</p> <p>В Ubuntu выполните в терминале:</p> <div class=codehilite><pre><span></span><code><span class=err>sudo apt update</span>
<span class=err>sudo apt install git</span>
</code></pre></div> <p>Краткое руководство по использованию Git: <a href=https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf>https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf</a></p> <p>Подробное руководство по использованию Git: <a href=https://git-scm.com/book/ru/v2>https://git-scm.com/book/ru/v2</a></p> <h1 id=klonirovanie-repozitoriia-na-rabochuiu-mashinu>Клонирование репозитория на рабочую машину<a class=headerlink href=#klonirovanie-repozitoriia-na-rabochuiu-mashinu title="Permanent link">&para;</a></h1> <p>Затем вам потребуется загрузить исходники для работы на свой компьютер. Это называется "клонирование репозитория", потому что создаёт на вашем компьютере локальную копию репозитория, с которой вы будете работать.</p> <p>Выполните в терминале:</p> <div class=codehilite><pre><span></span><code><span class=err>git clone --recursive git@github.com:yandex/ClickHouse.git</span>
<span class=err>cd ClickHouse</span>
</code></pre></div> <p>Замените <em>yandex</em> на имя вашего аккаунта на GitHub.</p> <p>Эта команда создаст директорию ClickHouse, содержащую рабочую копию проекта.</p> <p>Необходимо, чтобы путь к рабочей копии не содержал пробелы в именах директорий. Это может привести к проблемам в работе системы сборки.</p> <p>Обратите внимание, что репозиторий ClickHouse использует submodules. Так называются ссылки на дополнительные репозитории (например, внешние библиотеки, от которых зависит проект). Это значит, что при клонировании репозитория, следует указывать ключ <code>--recursive</code>, как в примере выше. Если репозиторий был клонирован без submodules, то для их скачивания, необходимо выполнить:</p> <div class=codehilite><pre><span></span><code><span class=err>git submodule init</span>
<span class=err>git submodule update</span>
</code></pre></div> <p>Проверить наличие submodules можно с помощью команды <code>git submodule status</code>.</p> <p>Если вы получили сообщение об ошибке:</p> <div class=codehilite><pre><span></span><code><span class=n>Permission</span> <span class=n>denied</span> <span class=p>(</span><span class=n>publickey</span><span class=p>).</span>
<span class=n>fatal</span><span class=p>:</span> <span class=n>Could</span> <span class=k>not</span> <span class=k>read</span> <span class=k>from</span> <span class=n>remote</span> <span class=n>repository</span><span class=p>.</span>

<span class=n>Please</span> <span class=n>make</span> <span class=n>sure</span> <span class=n>you</span> <span class=n>have</span> <span class=n>the</span> <span class=n>correct</span> <span class=k>access</span> <span class=n>rights</span>
<span class=k>and</span> <span class=n>the</span> <span class=n>repository</span> <span class=k>exists</span><span class=p>.</span>
</code></pre></div> <p>Как правило это означает, что отсутствуют ssh ключи для соединения с GitHub. Ключи расположены в директории <code>~/.ssh</code>. В интерфейсе GitHub, в настройках, необходимо загрузить публичные ключи, чтобы он их понимал.</p> <p>Вы также можете клонировать репозиторий по протоколу https:</p> <div class=codehilite><pre><span></span><code><span class=err>git clone https://github.com/ClickHouse/ClickHouse.git</span>
</code></pre></div> <p>Этот вариант не подходит для отправки изменений на сервер. Вы можете временно его использовать, а затем добавить ssh ключи и заменить адрес репозитория с помощью команды <code>git remote</code>.</p> <p>Вы можете также добавить для своего локального репозитория адрес оригинального репозитория Яндекса, чтобы притягивать оттуда обновления:</p> <div class=codehilite><pre><span></span><code><span class=err>git remote add upstream git@github.com:yandex/ClickHouse.git</span>
</code></pre></div> <p>После этого, вы сможете добавлять в свой репозиторий обновления из репозитория Яндекса с помощью команды <code>git pull upstream master</code>.</p> <h1 id=sistema-sborki>Система сборки<a class=headerlink href=#sistema-sborki title="Permanent link">&para;</a></h1> <p>ClickHouse использует систему сборки CMake и Ninja.</p> <p>CMake - генератор задач сборки.<br> Ninja - система запуска сборочных задач.</p> <p>Для установки на Ubuntu или Debian, Mint, выполните <code>sudo apt install cmake ninja-build</code>.</p> <p>Для установки на CentOS, RedHat, выполните <code>sudo yum install cmake ninja-build</code>.</p> <p>Если у вас Arch или Gentoo, то вы сами знаете, как установить CMake.</p> <p>Для установки CMake и Ninja на Mac OS X, сначала установите Homebrew, а затем, с помощью него, установите всё остальное.</p> <div class=codehilite><pre><span></span><code><span class=err>/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span>
<span class=err>brew install cmake ninja</span>
</code></pre></div> <p>Проверьте версию CMake: <code>cmake --version</code>. Если версия меньше 3.3, то установите новую версию с сайта <a href=https://cmake.org/download/ >https://cmake.org/download/</a></p> <h1 id=neobiazatelnye-vneshnie-biblioteki>Необязательные внешние библиотеки<a class=headerlink href=#neobiazatelnye-vneshnie-biblioteki title="Permanent link">&para;</a></h1> <p>ClickHouse использует для сборки некоторое количество внешних библиотек. Большинство из них не требуется отдельно устанавливать, так как они собираются вместе с ClickHouse, из исходников, которые расположены в submodules. Посмотреть набор этих библиотек можно в директории contrib.</p> <p>Одна библиотека не собирается из исходников, а используется из системы: Readline, и её рекомендуется установить.</p> <p>Ubuntu: <code>sudo apt install libreadline-dev</code></p> <p>Mac OS X: <code>brew install readline</code></p> <p>Впрочем, эти библиотеки не обязательны для работы и ClickHouse может быть собран без них. ICU используется для поддержки <code>COLLATE</code> в <code>ORDER BY</code> (например, для сортировки с учётом турецкого алфавита). Readline используется для более удобного набора команд в интерактивном режиме в clickhouse-client.</p> <h1 id=kompiliator-c>Компилятор C++<a class=headerlink href=#kompiliator-c title="Permanent link">&para;</a></h1> <p>В качестве компилятора C++ поддерживается GCC начиная с версии 9 или Clang начиная с версии 8.</p> <p>Официальные сборки от Яндекса, на данный момент, используют GCC, так как он генерирует слегка более производительный машинный код (разница в среднем до нескольких процентов по нашим бенчмаркам). Clang обычно более удобен для разработки. Впрочем, наша среда continuous integration проверяет около десятка вариантов сборки.</p> <p>Для установки GCC под Ubuntu, выполните: <code>sudo apt install gcc g++</code>.</p> <p>Проверьте версию gcc: <code>gcc --version</code>. Если версия меньше 9, то следуйте инструкции: <a href=https://clickhouse.yandex/docs/en/development/build/#install-gcc-9>https://clickhouse.yandex/docs/en/development/build/#install-gcc-9</a></p> <p>Сборка под Mac OS X поддерживается только для компилятора Clang. Чтобы установить его выполните <code>brew install llvm</code></p> <p>Если вы решили использовать Clang, вы также можете установить <code>libc++</code> и <code>lld</code>, если вы знаете, что это такое. При желании, установите <code>ccache</code>.</p> <h1 id=protsess-sborki>Процесс сборки<a class=headerlink href=#protsess-sborki title="Permanent link">&para;</a></h1> <p>Теперь вы готовы к сборке ClickHouse. Для размещения собранных файлов, рекомендуется создать отдельную директорию build внутри директории ClickHouse:</p> <div class=codehilite><pre><span></span><code><span class=err>mkdir build</span>
<span class=err>cd build</span>
</code></pre></div> <p>Вы можете иметь несколько разных директорий (build_release, build_debug) для разных вариантов сборки.</p> <p>Находясь в директории build, выполните конфигурацию сборки с помощью CMake.<br> Перед первым запуском необходимо выставить переменные окружения, отвечающие за выбор компилятора (в данном примере это - gcc версии 9).</p> <p>Linux:</p> <div class=codehilite><pre><span></span><code><span class=err>export CC=gcc-9 CXX=g++-9</span>
<span class=err>cmake ..</span>
</code></pre></div> <p>Mac OS X:</p> <div class=codehilite><pre><span></span><code><span class=err>export CC=clang CXX=clang++</span>
<span class=err>cmake ..</span>
</code></pre></div> <p>Переменная CC отвечает за компилятор C (сокращение от слов C Compiler), переменная CXX отвечает за выбор компилятора C++ (символ X - это как плюс, но положенный набок, ради того, чтобы превратить его в букву).</p> <p>Для более быстрой сборки, можно использовать debug вариант - сборку без оптимизаций. Для этого, укажите параметр <code>-D CMAKE_BUILD_TYPE=Debug</code>:</p> <div class=codehilite><pre><span></span><code><span class=err>cmake -D CMAKE_BUILD_TYPE=Debug ..</span>
</code></pre></div> <p>Вы можете изменить вариант сборки, выполнив эту команду в директории build.</p> <p>Запустите ninja для сборки:</p> <div class=codehilite><pre><span></span><code><span class=err>ninja clickhouse-server clickhouse-client</span>
</code></pre></div> <p>В этом примере собираются только нужные в первую очередь программы.</p> <p>Если вы хотите собрать все программы (утилиты и тесты), то запустите ninja без параметров:</p> <div class=codehilite><pre><span></span><code><span class=err>ninja</span>
</code></pre></div> <p>Для полной сборки требуется около 30 GB свободного места на диске или 15 GB для сборки только основных программ.</p> <p>При наличии небольшого количества оперативной памяти на компьютере, следует ограничить количество параллельных задач с помощью параметра <code>-j</code>:</p> <div class=codehilite><pre><span></span><code><span class=err>ninja -j 1 clickhouse-server clickhouse-client</span>
</code></pre></div> <p>На машинах с 4 GB памяти, рекомендуется указывать значение 1, а если памяти до 8 GB, укажите значение 2.</p> <p>Если вы получили сообщение <code>ninja: error: loading 'build.ninja': No such file or directory</code>, значит конфигурация сборки прошла с ошибкой и вам необходимо посмотреть на сообщение об ошибке выше.</p> <p>В случае успешного запуска, вы увидите прогресс сборки - количество обработанных задач и общее количество задач.</p> <p>В процессе сборки могут появится сообщения <code>libprotobuf WARNING</code> про protobuf файлы в библиотеке libhdfs2. Это не имеет значения.</p> <p>При успешной сборке, вы получите готовый исполняемый файл <code>ClickHouse/build/dbms/programs/clickhouse</code>:</p> <div class=codehilite><pre><span></span><code><span class=err>ls -l dbms/programs/clickhouse</span>
</code></pre></div> <h1 id=zapusk-sobrannoi-versii-clickhouse>Запуск собранной версии ClickHouse<a class=headerlink href=#zapusk-sobrannoi-versii-clickhouse title="Permanent link">&para;</a></h1> <p>Для запуска сервера из под текущего пользователя, с выводом логов в терминал и с использованием примеров конфигурационных файлов, расположенных в исходниках, перейдите в директорию <code>ClickHouse/dbms/programs/server/</code> (эта директория находится не в директории build) и выполните:</p> <div class=codehilite><pre><span></span><code><span class=cp>../../../build/dbms/programs/clickhouse server</span>
</code></pre></div> <p>В этом случае, ClickHouse будет использовать конфигурационные файлы, расположенные в текущей директории. Вы можете запустить <code>clickhouse server</code> из любой директории, передав ему путь к конфигурационному файлу в аргументе командной строки <code>--config-file</code>.</p> <p>Для подключения к ClickHouse с помощью clickhouse-client, в соседнем терминале, зайдите в директорию <code>ClickHouse/build/dbms/programs/</code> и выполните <code>clickhouse client</code>.</p> <p>Если вы получили сообщение <code>Connection refused</code> на Mac OS X или FreeBSD, то укажите для клиента 127.0.0.1 в качестве имени хоста:</p> <div class=codehilite><pre><span></span><code><span class=err>clickhouse client --host 127.0.0.1</span>
</code></pre></div> <p>Вы можете заменить собранным вами ClickHouse продакшен версию, установленную в системе. Для этого, установите ClickHouse на свою машину по инструкции с официального сайта. Затем выполните:</p> <div class=codehilite><pre><span></span><code><span class=err>sudo service clickhouse-server stop</span>
<span class=err>sudo cp ClickHouse/build/dbms/programs/clickhouse /usr/bin/</span>
<span class=err>sudo service clickhouse-server start</span>
</code></pre></div> <p>Обратите внимание, что <code>clickhouse-client</code>, <code>clickhouse-server</code> и другие, являеются симлинками на общий бинарник <code>clickhouse</code>.</p> <p>Также вы можете запустить собранный вами ClickHouse с конфигурационным файлом системного ClickHouse:</p> <div class=codehilite><pre><span></span><code><span class=err>sudo service clickhouse-server stop</span>
<span class=err>sudo -u clickhouse ClickHouse/build/dbms/programs/clickhouse server --config-file /etc/clickhouse-server/config.xml</span>
</code></pre></div> <h1 id=sreda-razrabotki>Среда разработки<a class=headerlink href=#sreda-razrabotki title="Permanent link">&para;</a></h1> <p>Если вы не знаете, какую среду разработки использовать, то рекомендуется использовать CLion. CLion является платным ПО, но его можно использовать бесплатно в течение пробного периода. Также он бесплатен для учащихся. CLion можно использовать как под Linux, так и под Mac OS X.</p> <p>Также в качестве среды разработки, вы можете использовать KDevelop или QTCreator. KDevelop - очень удобная, но нестабильная среда разработки. Если KDevelop вылетает через небольшое время после открытия проекта, вам следует нажать на кнопку "Stop All" как только он открыл список файлов проекта. После этого, KDevelop можно будет использовать.</p> <p>В качестве простых редакторов кода можно использовать Sublime Text или Visual Studio Code или Kate (все варианты доступны под Linux).</p> <p>На всякий случай заметим, что CLion самостоятельно создаёт свою build директорию, самостоятельно выбирает тип сборки debug по-умолчанию, для конфигурации использует встроенную в CLion версию CMake вместо установленного вами, а для запуска задач использует make вместо ninja. Это нормально, просто имейте это ввиду, чтобы не возникало путаницы.</p> <h1 id=napisanie-koda>Написание кода<a class=headerlink href=#napisanie-koda title="Permanent link">&para;</a></h1> <p>Описание архитектуры ClickHouse: <a href=https://clickhouse.yandex/docs/ru/development/architecture/ >https://clickhouse.yandex/docs/ru/development/architecture/</a></p> <p>Стиль кода: <a href=https://clickhouse.yandex/docs/ru/development/style/ >https://clickhouse.yandex/docs/ru/development/style/</a></p> <p>Разработка тестов: <a href=https://clickhouse.yandex/docs/ru/development/tests/ >https://clickhouse.yandex/docs/ru/development/tests/</a></p> <p>Список задач: <a href=https://github.com/ClickHouse/ClickHouse/blob/master/dbms/tests/instructions/easy_tasks_sorted_ru.md>https://github.com/ClickHouse/ClickHouse/blob/master/dbms/tests/instructions/easy_tasks_sorted_ru.md</a></p> <h1 id=testovye-dannye>Тестовые данные<a class=headerlink href=#testovye-dannye title="Permanent link">&para;</a></h1> <p>Разработка ClickHouse часто требует загрузки реалистичных наборов данных. Особенно это важно для тестирования производительности. Специально для вас мы подготовили набор данных, представляющий собой анонимизированные данные Яндекс.Метрики. Загрузка этих данных потребует ещё 3 GB места на диске. Для выполнения большинства задач разработки, загружать эти данные не обязательно.</p> <div class=codehilite><pre><span></span><code><span class=n>sudo</span> <span class=n>apt</span> <span class=n>install</span> <span class=n>wget</span> <span class=n>xz</span><span class=o>-</span><span class=n>utils</span>

<span class=n>wget</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>clickhouse</span><span class=o>-</span><span class=n>datasets</span><span class=p>.</span><span class=n>s3</span><span class=p>.</span><span class=n>yandex</span><span class=p>.</span><span class=n>net</span><span class=o>/</span><span class=n>hits</span><span class=o>/</span><span class=n>tsv</span><span class=o>/</span><span class=n>hits_v1</span><span class=p>.</span><span class=n>tsv</span><span class=p>.</span><span class=n>xz</span>
<span class=n>wget</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>clickhouse</span><span class=o>-</span><span class=n>datasets</span><span class=p>.</span><span class=n>s3</span><span class=p>.</span><span class=n>yandex</span><span class=p>.</span><span class=n>net</span><span class=o>/</span><span class=n>visits</span><span class=o>/</span><span class=n>tsv</span><span class=o>/</span><span class=n>visits_v1</span><span class=p>.</span><span class=n>tsv</span><span class=p>.</span><span class=n>xz</span>

<span class=n>xz</span> <span class=o>-</span><span class=n>v</span> <span class=o>-</span><span class=n>d</span> <span class=n>hits_v1</span><span class=p>.</span><span class=n>tsv</span><span class=p>.</span><span class=n>xz</span>
<span class=n>xz</span> <span class=o>-</span><span class=n>v</span> <span class=o>-</span><span class=n>d</span> <span class=n>visits_v1</span><span class=p>.</span><span class=n>tsv</span><span class=p>.</span><span class=n>xz</span>

<span class=n>clickhouse</span><span class=o>-</span><span class=n>client</span>

<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span> <span class=p>(</span> <span class=n>WatchID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>JavaEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Title</span> <span class=n>String</span><span class=p>,</span>  <span class=n>GoodEvent</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>EventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>EventDate</span> <span class=nb>Date</span><span class=p>,</span>  <span class=n>CounterID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>RegionID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>UserID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>CounterClass</span> <span class=nb>Int8</span><span class=p>,</span>  <span class=n>OS</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>UserAgent</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>URL</span> <span class=n>String</span><span class=p>,</span>  <span class=n>Referer</span> <span class=n>String</span><span class=p>,</span>  <span class=n>URLDomain</span> <span class=n>String</span><span class=p>,</span>  <span class=n>RefererDomain</span> <span class=n>String</span><span class=p>,</span>  <span class=n>Refresh</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsRobot</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>RefererCategories</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLCategories</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLRegions</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>RefererRegions</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>ResolutionWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ResolutionHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ResolutionDepth</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMinor2</span> <span class=n>String</span><span class=p>,</span>  <span class=n>NetMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>NetMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>UserAgentMajor</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>UserAgentMinor</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span>  <span class=n>CookieEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>JavascriptEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsMobile</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>MobilePhone</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>MobilePhoneModel</span> <span class=n>String</span><span class=p>,</span>  <span class=n>Params</span> <span class=n>String</span><span class=p>,</span>  <span class=n>IPNetworkID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>TraficSourceID</span> <span class=nb>Int8</span><span class=p>,</span>  <span class=n>SearchEngineID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SearchPhrase</span> <span class=n>String</span><span class=p>,</span>  <span class=n>AdvEngineID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsArtifical</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>WindowClientWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>WindowClientHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClientTimeZone</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>ClientEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>SilverlightVersion1</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion2</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion3</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>SilverlightVersion4</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>PageCharset</span> <span class=n>String</span><span class=p>,</span>  <span class=n>CodeVersion</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>IsLink</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsDownload</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsNotBounce</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FUniqID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>HID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>IsOldCounter</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsEvent</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsParameter</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>DontCountHits</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>WithHash</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>HitColor</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>1</span><span class=p>),</span>  <span class=n>UTCEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>Age</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Sex</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Income</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Interests</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>Robotness</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>GeneralInterests</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>RemoteIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>RemoteIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>WindowName</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>OpenerName</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>HistoryLength</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>BrowserLanguage</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span>  <span class=n>BrowserCountry</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span>  <span class=n>SocialNetwork</span> <span class=n>String</span><span class=p>,</span>  <span class=n>SocialAction</span> <span class=n>String</span><span class=p>,</span>  <span class=n>HTTPError</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SendTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DNSTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ConnectTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ResponseStartTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ResponseEndTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>FetchTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>RedirectTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DOMInteractiveTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DOMContentLoadedTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>DOMCompleteTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>LoadEventStartTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>LoadEventEndTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>NSToDOMContentLoadedTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>FirstPaintTiming</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>RedirectCount</span> <span class=nb>Int8</span><span class=p>,</span>  <span class=n>SocialSourceNetworkID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SocialSourcePage</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ParamPrice</span> <span class=n>Int64</span><span class=p>,</span>  <span class=n>ParamOrderID</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ParamCurrency</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>3</span><span class=p>),</span>  <span class=n>ParamCurrencyID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>GoalsReached</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>OpenstatServiceName</span> <span class=n>String</span><span class=p>,</span>  <span class=n>OpenstatCampaignID</span> <span class=n>String</span><span class=p>,</span>  <span class=n>OpenstatAdID</span> <span class=n>String</span><span class=p>,</span>  <span class=n>OpenstatSourceID</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMSource</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMMedium</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMCampaign</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMContent</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMTerm</span> <span class=n>String</span><span class=p>,</span>  <span class=n>FromTag</span> <span class=n>String</span><span class=p>,</span>  <span class=n>HasGCLID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>RefererHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>URLHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>CLID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>YCLID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>ShareService</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ShareURL</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ShareTitle</span> <span class=n>String</span><span class=p>,</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key1</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key2</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key3</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key4</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key5</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>ValueDouble</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>Float64</span><span class=p>),</span>  <span class=n>IslandID</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>RequestNum</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>RequestTry</span> <span class=n>UInt8</span><span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span> <span class=n>PARTITION</span> <span class=k>BY</span> <span class=n>toYYYYMM</span><span class=p>(</span><span class=n>EventDate</span><span class=p>)</span> <span class=n>SAMPLE</span> <span class=k>BY</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>)</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=p>(</span><span class=n>CounterID</span><span class=p>,</span> <span class=n>EventDate</span><span class=p>,</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>),</span> <span class=n>EventTime</span><span class=p>);</span>

<span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>test</span><span class=p>.</span><span class=n>visits</span> <span class=p>(</span> <span class=n>CounterID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>StartDate</span> <span class=nb>Date</span><span class=p>,</span>  <span class=n>Sign</span> <span class=nb>Int8</span><span class=p>,</span>  <span class=n>IsNew</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>VisitID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UserID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>StartTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>Duration</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>UTCStartTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>PageViews</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>Hits</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>IsBounce</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Referer</span> <span class=n>String</span><span class=p>,</span>  <span class=n>StartURL</span> <span class=n>String</span><span class=p>,</span>  <span class=n>RefererDomain</span> <span class=n>String</span><span class=p>,</span>  <span class=n>StartURLDomain</span> <span class=n>String</span><span class=p>,</span>  <span class=n>EndURL</span> <span class=n>String</span><span class=p>,</span>  <span class=n>LinkURL</span> <span class=n>String</span><span class=p>,</span>  <span class=n>IsDownload</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>TraficSourceID</span> <span class=nb>Int8</span><span class=p>,</span>  <span class=n>SearchEngineID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SearchPhrase</span> <span class=n>String</span><span class=p>,</span>  <span class=n>AdvEngineID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>PlaceID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>RefererCategories</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLCategories</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>URLRegions</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>RefererRegions</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>IsYandex</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>GoalReachesDepth</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>GoalReachesURL</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>GoalReachesAny</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>SocialSourceNetworkID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SocialSourcePage</span> <span class=n>String</span><span class=p>,</span>  <span class=n>MobilePhoneModel</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ClientEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>RegionID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClientIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>RemoteIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>RemoteIP6</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>IPNetworkID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>SilverlightVersion3</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>CodeVersion</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ResolutionWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ResolutionHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>UserAgentMajor</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>UserAgentMinor</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>WindowClientWidth</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>WindowClientHeight</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>SilverlightVersion2</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion4</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>FlashVersion3</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>FlashVersion4</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClientTimeZone</span> <span class=n>Int16</span><span class=p>,</span>  <span class=n>OS</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>UserAgent</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>ResolutionDepth</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FlashMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>NetMajor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>NetMinor</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>MobilePhone</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>SilverlightVersion1</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Age</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Sex</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>Income</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>JavaEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>CookieEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>JavascriptEnable</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>IsMobile</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>BrowserLanguage</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>BrowserCountry</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>Interests</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>Robotness</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>GeneralInterests</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=n>Params</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>Goals</span><span class=p>.</span><span class=n>ID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Goals</span><span class=p>.</span><span class=nb>Serial</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Goals</span><span class=p>.</span><span class=n>EventTime</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>DateTime</span><span class=p>),</span>  <span class=o>`</span><span class=n>Goals</span><span class=p>.</span><span class=n>Price</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>Int64</span><span class=p>),</span>  <span class=o>`</span><span class=n>Goals</span><span class=p>.</span><span class=n>OrderID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>Goals</span><span class=p>.</span><span class=n>CurrencyID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=n>WatchIDs</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt64</span><span class=p>),</span>  <span class=n>ParamSumPrice</span> <span class=n>Int64</span><span class=p>,</span>  <span class=n>ParamCurrency</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>3</span><span class=p>),</span>  <span class=n>ParamCurrencyID</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClickLogID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>ClickEventID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickGoodEvent</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickEventTime</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>ClickPriorityID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickPhraseID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickPageID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickPlaceID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickTypeID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickResourceID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>ClickCost</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickClientIP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickDomainID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickURL</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ClickAttempt</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>ClickOrderID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickBannerID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickMarketCategoryID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickMarketPP</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>ClickMarketCategoryName</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ClickMarketPPName</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ClickAWAPSCampaignName</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ClickPageName</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ClickTargetType</span> <span class=n>UInt16</span><span class=p>,</span>  <span class=n>ClickTargetPhraseID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>ClickContextType</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>ClickSelectType</span> <span class=nb>Int8</span><span class=p>,</span>  <span class=n>ClickOptions</span> <span class=n>String</span><span class=p>,</span>  <span class=n>ClickGroupBannerID</span> <span class=n>Int32</span><span class=p>,</span>  <span class=n>OpenstatServiceName</span> <span class=n>String</span><span class=p>,</span>  <span class=n>OpenstatCampaignID</span> <span class=n>String</span><span class=p>,</span>  <span class=n>OpenstatAdID</span> <span class=n>String</span><span class=p>,</span>  <span class=n>OpenstatSourceID</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMSource</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMMedium</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMCampaign</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMContent</span> <span class=n>String</span><span class=p>,</span>  <span class=n>UTMTerm</span> <span class=n>String</span><span class=p>,</span>  <span class=n>FromTag</span> <span class=n>String</span><span class=p>,</span>  <span class=n>HasGCLID</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>FirstVisit</span> <span class=n>DateTime</span><span class=p>,</span>  <span class=n>PredLastVisit</span> <span class=nb>Date</span><span class=p>,</span>  <span class=n>LastVisit</span> <span class=nb>Date</span><span class=p>,</span>  <span class=n>TotalVisits</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=n>ID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=nb>Int8</span><span class=p>),</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=n>SearchEngineID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=n>AdvEngineID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>),</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=n>PlaceID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt16</span><span class=p>),</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=n>SocialSourceNetworkID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>),</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=k>Domain</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=n>SearchPhrase</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>TraficSource</span><span class=p>.</span><span class=n>SocialSourcePage</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=n>Attendance</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>  <span class=n>CLID</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=n>YCLID</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>NormalizedRefererHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>SearchPhraseHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>RefererDomainHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>NormalizedStartURLHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>StartURLDomainHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>NormalizedEndURLHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>TopLevelDomain</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>URLScheme</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatServiceNameHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatCampaignIDHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatAdIDHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>OpenstatSourceIDHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMSourceHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMMediumHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMCampaignHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMContentHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>UTMTermHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>FromHash</span> <span class=n>UInt64</span><span class=p>,</span>  <span class=n>WebVisorEnabled</span> <span class=n>UInt8</span><span class=p>,</span>  <span class=n>WebVisorActivity</span> <span class=n>UInt32</span><span class=p>,</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key1</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key2</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key3</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key4</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>Key5</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>ParsedParams</span><span class=p>.</span><span class=n>ValueDouble</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>Float64</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=k>Type</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>GoalID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>OrderID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>OrderPrice</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>Int64</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>PP</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>DirectPlaceID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>DirectOrderID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>DirectBannerID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>GoodID</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>GoodName</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>String</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>GoodQuantity</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>Int32</span><span class=p>),</span>  <span class=o>`</span><span class=n>Market</span><span class=p>.</span><span class=n>GoodPrice</span><span class=o>`</span> <span class=nb>Array</span><span class=p>(</span><span class=n>Int64</span><span class=p>),</span>  <span class=n>IslandID</span> <span class=n>FixedString</span><span class=p>(</span><span class=mi>16</span><span class=p>))</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>CollapsingMergeTree</span><span class=p>(</span><span class=n>Sign</span><span class=p>)</span> <span class=n>PARTITION</span> <span class=k>BY</span> <span class=n>toYYYYMM</span><span class=p>(</span><span class=n>StartDate</span><span class=p>)</span> <span class=n>SAMPLE</span> <span class=k>BY</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>)</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=p>(</span><span class=n>CounterID</span><span class=p>,</span> <span class=n>StartDate</span><span class=p>,</span> <span class=n>intHash32</span><span class=p>(</span><span class=n>UserID</span><span class=p>),</span> <span class=n>VisitID</span><span class=p>);</span>

<span class=n>clickhouse</span><span class=o>-</span><span class=n>client</span> <span class=c1>--max_insert_block_size 100000 --query &quot;INSERT INTO test.hits FORMAT TSV&quot; &lt; hits_v1.tsv</span>
<span class=n>clickhouse</span><span class=o>-</span><span class=n>client</span> <span class=c1>--max_insert_block_size 100000 --query &quot;INSERT INTO test.visits FORMAT TSV&quot; &lt; visits_v1.tsv</span>
</code></pre></div> <h1 id=sozdanie-pull-request>Создание pull request<a class=headerlink href=#sozdanie-pull-request title="Permanent link">&para;</a></h1> <p>Откройте свой форк репозитория в интерфейсе GitHub. Если вы вели разработку в бранче, выберите этот бранч. На странице будет доступна кнопка "Pull request". По сути, это означает "создать заявку на принятие моих изменений в основной репозиторий".</p> <p>Pull request можно создать, даже если работа над задачей ещё не завершена. В этом случае, добавьте в его название слово "WIP" (work in progress). Название можно будет изменить позже. Это полезно для совместного просмотра и обсуждения изменений, а также для запуска всех имеющихся тестов. Введите краткое описание изменений - впоследствии, оно будет использовано для релизных changelog.</p> <p>Тесты будут запущены, как только сотрудники Яндекса поставят для pull request тег "Can be tested". Результаты первых проверок (стиль кода) появятся уже через несколько минут. Результаты сборки появятся примерно через пол часа. Результаты основного набора тестов будут доступны в пределах часа.</p> <p>Система подготовит сборки ClickHouse специально для вашего pull request. Для их получения, нажмите на ссылку "Details" у проверки "Clickhouse build check". Там вы сможете найти прямые ссылки на собранные .deb пакеты ClickHouse, которые, при желании, вы даже сможете установить на свои продакшен серверы (если не страшно).</p> <p>Вероятнее всего, часть сборок не будет успешной с первого раза. Ведь мы проверяем сборку кода и gcc и clang, а при сборке с помощью clang включаются почти все существующие в природе warnings (всегда с флагом <code>-Werror</code>). На той же странице, вы сможете найти логи сборки - вам не обязательно самому собирать ClickHouse всеми возможными способами.</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Собрано из <a href=https://github.com/ClickHouse/ClickHouse/commit/a24471233fce463ffd70bff561f7842d4d0b7bd9 rel="external nofollow noreferrer" target=_blank class=text-reset>a24471233f</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>