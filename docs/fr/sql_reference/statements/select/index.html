<!DOCTYPE html><html lang=fr data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>SELECT - Documentation ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="SELECT - Documentation ClickHouse "><meta property=og:description content="Sélectionnez la syntaxe des requêtes SELECT effectue la récupération des données. [WITH expr_list|(subquery)] SELECT [DI"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="SELECT - Documentation ClickHouse "><meta name=description content="Sélectionnez la syntaxe des requêtes SELECT effectue la récupération des données. [WITH expr_list|(subquery)] SELECT [DI"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> SELECT </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/sql_reference/statements/select.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/fr.svg alt=Français title=Français width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/sql_reference/statements/select/ class="dropdown-item disabled"> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/sql_reference/statements/select/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Multi-page ou une seule page"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Multi-version de la page" title="Multi-version de la page"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Version d'une seule page" title="Version d'une seule page"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Version: <span class=text-light>dernier</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/fr/ class="dropdown-item disable"> <span class=text-light>dernier</span> </a> <a href=/docs/v20.3/fr/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/fr/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/fr/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/fr/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/fr/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/fr/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/fr/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/fr/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/fr/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/fr/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/fr/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../introduction/distinctive_features/ title=particularité class="nav-link text-light text-wrap d-inline-block w-100 px-0">particularité</a> <a href=../../../introduction/features_considered_disadvantages/ title="Caractéristiques de ClickHouse qui peuvent être considérées comme des inconvénients" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Caractéristiques de ClickHouse qui peuvent être considérées comme des inconvénients</a> <a href=../../../introduction/performance/ title=Performance class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a> <a href=../../../introduction/history/ title=Histoire class="nav-link text-light text-wrap d-inline-block w-100 px-0">Histoire</a> <a href=../../../introduction/adopters/ title=Adoptant class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adoptant</a> </nav> </div> <a href=../../../ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title="Getting Started" class="nav-link text-light text-wrap dropdown-toggle px-0">Getting Started</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/ title=cachés class="nav-link text-light text-wrap d-inline-block w-100 px-0">cachés</a> <a href=../../../getting_started/install/ title=Installation class="nav-link text-light text-wrap d-inline-block w-100 px-0">Installation</a> <a href=#sidebar-sidebar-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3-3 title="Example Datasets" class="nav-link text-light text-wrap dropdown-toggle px-0">Example Datasets</a> <div id=sidebar-sidebar-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../getting_started/example_datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="New York Taxi Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">New York Taxi Données</a> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../../getting_started/example_datasets/criteo/ title="Téraoctet click Logs de Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Téraoctet click Logs de Criteo</a> <a href=../../../getting_started/example_datasets/star_schema/ title="Référence Du Schéma En Étoile" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Référence Du Schéma En Étoile</a> <a href=../../../getting_started/example_datasets/metrica/ title="Yandex.Metrica De Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex.Metrica De Données</a> </nav> </div> <a href=../../../getting_started/tutorial/ title=Tutoriel class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutoriel</a> <a href=../../../getting_started/playground/ title=Récréation class="nav-link text-light text-wrap d-inline-block w-100 px-0">Récréation</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title=Interfaces class="nav-link text-light text-wrap dropdown-toggle px-0">Interfaces</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../interfaces/cli/ title="Client De Ligne De Commande" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Client De Ligne De Commande</a> <a href=../../../interfaces/tcp/ title="Interface Native (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interface Native (TCP)</a> <a href=../../../interfaces/http/ title="Interface HTTP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interface HTTP</a> <a href=../../../interfaces/mysql/ title="Interface MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interface MySQL</a> <a href=../../../interfaces/formats/ title="Formats d'entrée et de sortie" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Formats d'entrée et de sortie</a> <a href=../../../interfaces/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../interfaces/odbc/ title="Pilote ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Pilote ODBC</a> <a href=../../../interfaces/cpp/ title="Bibliothèque Client C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliothèque Client C++</a> <a href=#sidebar-sidebar-4-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-10 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-4-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../../interfaces/third-party/client_libraries/ title="Bibliothèques Clientes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliothèques Clientes</a> <a href=../../../interfaces/third-party/integrations/ title=Intégration class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intégration</a> <a href=../../../interfaces/third-party/gui/ title="Les Interfaces Visuelles" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Interfaces Visuelles</a> <a href=../../../interfaces/third-party/proxy/ title=Proxy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Proxy</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-5-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2 title="Table Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Engines</a> <div id=sidebar-sidebar-5-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-5-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-2 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-5-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../../engines/table_engines/mergetree_family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../../engines/table_engines/mergetree_family/replication/ title="Réplication Des Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Réplication Des Données</a> <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ title="Clé De Partitionnement Personnalisée" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clé De Partitionnement Personnalisée</a> <a href=../../../engines/table_engines/mergetree_family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> </nav> </div> <a href=#sidebar-sidebar-5-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-3 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-5-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../../engines/table_engines/log_family/log_family/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table_engines/log_family/log/ title=Journal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Journal</a> <a href=../../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> </nav> </div> <a href=#sidebar-sidebar-5-2-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-4 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-5-2-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../../engines/table_engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> </nav> </div> <a href=#sidebar-sidebar-5-2-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-2-5 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-5-2-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../../engines/table_engines/special/distributed/ title=Distribué class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distribué</a> <a href=../../../engines/table_engines/special/external_data/ title="De données externes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">De données externes</a> <a href=../../../engines/table_engines/special/dictionary/ title=Dictionnaire class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionnaire</a> <a href=../../../engines/table_engines/special/merge/ title=Fusionner class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fusionner</a> <a href=../../../engines/table_engines/special/file/ title=Fichier class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fichier</a> <a href=../../../engines/table_engines/special/null/ title=NULL class="nav-link text-light text-wrap d-inline-block w-100 px-0">NULL</a> <a href=../../../engines/table_engines/special/set/ title=Définir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Définir</a> <a href=../../../engines/table_engines/special/join/ title=Rejoindre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rejoindre</a> <a href=../../../engines/table_engines/special/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../engines/table_engines/special/view/ title=Vue class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vue</a> <a href=../../../engines/table_engines/special/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../../engines/table_engines/special/memory/ title=Mémoire class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mémoire</a> <a href=../../../engines/table_engines/special/buffer/ title=Tampon class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tampon</a> <a href=../../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-5-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5-3 title="Database Engines" class="nav-link text-light text-wrap dropdown-toggle px-0">Database Engines</a> <div id=sidebar-sidebar-5-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database_engines/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database_engines/lazy/ title=Paresseux class="nav-link text-light text-wrap d-inline-block w-100 px-0">Paresseux</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6 title="SQL Reference" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL Reference</a> <div id=sidebar-sidebar-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/ title=cachés class="nav-link text-light text-wrap d-inline-block w-100 px-0">cachés</a> <a href=#sidebar-sidebar-6-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-2 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-6-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../../sql_reference/statements/select/ title=SELECT class="nav-link text-white active text-wrap d-inline-block w-100 px-0">SELECT</a> <a href=../../../sql_reference/statements/insert_into/ title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a> <a href=../../../sql_reference/statements/create/ title=CREATE class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a> <a href=../../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql_reference/statements/system/ title=SYSTEM class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a> <a href=../../../sql_reference/statements/show/ title=SHOW class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a> <a href=../../../sql_reference/statements/misc/ title=Autre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Autre</a> </nav> </div> <a href=../../../sql_reference/syntax/ title=Syntaxe class="nav-link text-light text-wrap d-inline-block w-100 px-0">Syntaxe</a> <a href=#sidebar-sidebar-6-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-4 title=Functions class="nav-link text-light text-wrap dropdown-toggle px-0">Functions</a> <div id=sidebar-sidebar-6-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql_reference/functions/arithmetic_functions/ title=Arithmétique class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arithmétique</a> <a href=../../../sql_reference/functions/comparison_functions/ title=Comparaison class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comparaison</a> <a href=../../../sql_reference/functions/logical_functions/ title=Logique class="nav-link text-light text-wrap d-inline-block w-100 px-0">Logique</a> <a href=../../../sql_reference/functions/type_conversion_functions/ title="La Conversion De Type" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Conversion De Type</a> <a href=../../../sql_reference/functions/date_time_functions/ title="Travailler avec les Dates et les heures" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec les Dates et les heures</a> <a href=../../../sql_reference/functions/string_functions/ title="Travailler avec des chaînes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des chaînes</a> <a href=../../../sql_reference/functions/string_search_functions/ title="Pour Rechercher Des Chaînes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Pour Rechercher Des Chaînes</a> <a href=../../../sql_reference/functions/string_replace_functions/ title="Pour remplacer dans les chaînes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Pour remplacer dans les chaînes</a> <a href=../../../sql_reference/functions/conditional_functions/ title=Conditionnel class="nav-link text-light text-wrap d-inline-block w-100 px-0">Conditionnel</a> <a href=../../../sql_reference/functions/math_functions/ title=Mathématique class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mathématique</a> <a href=../../../sql_reference/functions/rounding_functions/ title=Arrondi class="nav-link text-light text-wrap d-inline-block w-100 px-0">Arrondi</a> <a href=../../../sql_reference/functions/array_functions/ title="Travailler avec des tableaux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des tableaux</a> <a href=../../../sql_reference/functions/splitting_merging_functions/ title="Fractionnement et fusion de chaînes et de tableaux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fractionnement et fusion de chaînes et de tableaux</a> <a href=../../../sql_reference/functions/bit_functions/ title=Bit class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bit</a> <a href=../../../sql_reference/functions/bitmap_functions/ title=Bitmap class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bitmap</a> <a href=../../../sql_reference/functions/hash_functions/ title=Hachage class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hachage</a> <a href=../../../sql_reference/functions/random_functions/ title="La Génération De Nombres Pseudo-Aléatoires" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Génération De Nombres Pseudo-Aléatoires</a> <a href=../../../sql_reference/functions/encoding_functions/ title=Encodage class="nav-link text-light text-wrap d-inline-block w-100 px-0">Encodage</a> <a href=../../../sql_reference/functions/uuid_functions/ title="Travailler avec UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec UUID</a> <a href=../../../sql_reference/functions/url_functions/ title="Travailler avec des URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des URL</a> <a href=../../../sql_reference/functions/ip_address_functions/ title="Travailler avec des adresses IP" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des adresses IP</a> <a href=../../../sql_reference/functions/json_functions/ title="Travailler avec JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec JSON</a> <a href=../../../sql_reference/functions/higher_order_functions/ title="D'Ordre Supérieur" class="nav-link text-light text-wrap d-inline-block w-100 px-0">D'Ordre Supérieur</a> <a href=../../../sql_reference/functions/ext_dict_functions/ title="Travailler avec des dictionnaires externes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des dictionnaires externes</a> <a href=../../../sql_reference/functions/ym_dict_functions/ title="Travailler avec Yandex.Dictionnaires Metrica" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec Yandex.Dictionnaires Metrica</a> <a href=../../../sql_reference/functions/in_functions/ title="Mise en œuvre de L'opérateur IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mise en œuvre de L'opérateur IN</a> <a href=../../../sql_reference/functions/array_join/ title=arrayJoin class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin</a> <a href=../../../sql_reference/functions/geo/ title="Travailler avec des coordonnées géographiques" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des coordonnées géographiques</a> <a href=../../../sql_reference/functions/functions_for_nulls/ title="Travailler avec des arguments nullables" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Travailler avec des arguments nullables</a> <a href=../../../sql_reference/functions/machine_learning_functions/ title="Fonctions D'Apprentissage Automatique" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fonctions D'Apprentissage Automatique</a> <a href=../../../sql_reference/functions/introspection/ title=Introspection class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introspection</a> <a href=../../../sql_reference/functions/other_functions/ title=Autre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Autre</a> </nav> </div> <a href=#sidebar-sidebar-6-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-5 title="Aggregate Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Aggregate Functions</a> <div id=sidebar-sidebar-6-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/aggregate_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql_reference/aggregate_functions/reference/ title=Référence class="nav-link text-light text-wrap d-inline-block w-100 px-0">Référence</a> <a href=../../../sql_reference/aggregate_functions/combinators/ title="Combinateurs de fonction d'agrégat" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Combinateurs de fonction d'agrégat</a> <a href=../../../sql_reference/aggregate_functions/parametric_functions/ title="Fonctions d'agrégat paramétriques" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fonctions d'agrégat paramétriques</a> </nav> </div> <a href=#sidebar-sidebar-6-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-6 title="Table Functions" class="nav-link text-light text-wrap dropdown-toggle px-0">Table Functions</a> <div id=sidebar-sidebar-6-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/table_functions/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql_reference/table_functions/file/ title=fichier class="nav-link text-light text-wrap d-inline-block w-100 px-0">fichier</a> <a href=../../../sql_reference/table_functions/merge/ title=fusionner class="nav-link text-light text-wrap d-inline-block w-100 px-0">fusionner</a> <a href=../../../sql_reference/table_functions/numbers/ title=nombre class="nav-link text-light text-wrap d-inline-block w-100 px-0">nombre</a> <a href=../../../sql_reference/table_functions/remote/ title=distant class="nav-link text-light text-wrap d-inline-block w-100 px-0">distant</a> <a href=../../../sql_reference/table_functions/url/ title=URL class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a> <a href=../../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql_reference/table_functions/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> <a href=../../../sql_reference/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../sql_reference/table_functions/input/ title=entrée class="nav-link text-light text-wrap d-inline-block w-100 px-0">entrée</a> <a href=../../../sql_reference/table_functions/generate/ title=generateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a> </nav> </div> <a href=#sidebar-sidebar-6-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7 title=Dictionaries class="nav-link text-light text-wrap dropdown-toggle px-0">Dictionaries</a> <div id=sidebar-sidebar-6-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=#sidebar-sidebar-6-7-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-7-2 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-6-7-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title="Description Générale" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Description Générale</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title="Configuration D'un dictionnaire externe" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Configuration D'un dictionnaire externe</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title="Stockage des dictionnaires en mémoire" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Stockage des dictionnaires en mémoire</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title="Mises À Jour Du Dictionnaire" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mises À Jour Du Dictionnaire</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title="Sources de dictionnaires externes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sources de dictionnaires externes</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title="Clé et champs du dictionnaire" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Clé et champs du dictionnaire</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title="Dictionnaires hiérarchiques" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionnaires hiérarchiques</a> </nav> </div> <a href=../../../sql_reference/dictionaries/internal_dicts/ title="Dictionnaires Internes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionnaires Internes</a> </nav> </div> <a href=#sidebar-sidebar-6-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8 title="Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Data Types</a> <div id=sidebar-sidebar-6-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../sql_reference/data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql_reference/data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../../sql_reference/data_types/decimal/ title=Décimal class="nav-link text-light text-wrap d-inline-block w-100 px-0">Décimal</a> <a href=../../../sql_reference/data_types/boolean/ title=Booléen class="nav-link text-light text-wrap d-inline-block w-100 px-0">Booléen</a> <a href=../../../sql_reference/data_types/string/ title=Chaîne class="nav-link text-light text-wrap d-inline-block w-100 px-0">Chaîne</a> <a href=../../../sql_reference/data_types/fixedstring/ title="FixedString (N)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString (N)</a> <a href=../../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql_reference/data_types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../../sql_reference/data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql_reference/data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql_reference/data_types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../../sql_reference/data_types/aggregatefunction/ title="AggregateFunction (nom, types_of_arguments...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction (nom, types_of_arguments...)</a> <a href=../../../sql_reference/data_types/tuple/ title="Tuple (T1, T2,...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple (T1, T2,...)</a> <a href=#sidebar-sidebar-6-8-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-16 title="Nested Data Structures" class="nav-link text-light text-wrap dropdown-toggle px-0">Nested Data Structures</a> <div id=sidebar-sidebar-6-8-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/nested_data_structures/ title=cachés class="nav-link text-light text-wrap d-inline-block w-100 px-0">cachés</a> <a href=../../../sql_reference/data_types/nested_data_structures/nested/ title="Imbriquée(Type1 Nom1, Nom2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Imbriquée(Type1 Nom1, Nom2 Type2, ...)</a> </nav> </div> <a href=../../../sql_reference/data_types/nullable/ title=Nullable class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a> <a href=#sidebar-sidebar-6-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-18 title="Special Data Types" class="nav-link text-light text-wrap dropdown-toggle px-0">Special Data Types</a> <div id=sidebar-sidebar-6-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/special_data_types/ title=cachés class="nav-link text-light text-wrap d-inline-block w-100 px-0">cachés</a> <a href=../../../sql_reference/data_types/special_data_types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../../sql_reference/data_types/special_data_types/set/ title=Définir class="nav-link text-light text-wrap d-inline-block w-100 px-0">Définir</a> <a href=../../../sql_reference/data_types/special_data_types/nothing/ title=Rien class="nav-link text-light text-wrap d-inline-block w-100 px-0">Rien</a> <a href=../../../sql_reference/data_types/special_data_types/interval/ title=Intervalle class="nav-link text-light text-wrap d-inline-block w-100 px-0">Intervalle</a> </nav> </div> <a href=#sidebar-sidebar-6-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-6-8-19 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-6-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../../sql_reference/data_types/domains/overview/ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=../../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> </nav> </div> </nav> </div> <a href=../../../sql_reference/operators/ title=Opérateur class="nav-link text-light text-wrap d-inline-block w-100 px-0">Opérateur</a> </nav> </div> <a href=#sidebar-sidebar-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-7 title=Guides class="nav-link text-light text-wrap dropdown-toggle px-0">Guides</a> <div id=sidebar-sidebar-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=../../../guides/apply_catboost_model/ title="Application Des Modèles CatBoost" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Application Des Modèles CatBoost</a> </nav> </div> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Operations class="nav-link text-light text-wrap dropdown-toggle px-0">Operations</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../operations/requirements/ title=Exigence class="nav-link text-light text-wrap d-inline-block w-100 px-0">Exigence</a> <a href=../../../operations/monitoring/ title=Surveiller class="nav-link text-light text-wrap d-inline-block w-100 px-0">Surveiller</a> <a href=../../../operations/troubleshooting/ title=Dépannage class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dépannage</a> <a href=../../../operations/update/ title="Mise À Jour De ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Mise À Jour De ClickHouse</a> <a href=../../../operations/access_rights/ title="Les Droits D'Accès" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Droits D'Accès</a> <a href=../../../operations/backup/ title="La Sauvegarde Des Données" class="nav-link text-light text-wrap d-inline-block w-100 px-0">La Sauvegarde Des Données</a> <a href=../../../operations/configuration_files/ title="Fichiers De Configuration" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fichiers De Configuration</a> <a href=../../../operations/quotas/ title=Quota class="nav-link text-light text-wrap d-inline-block w-100 px-0">Quota</a> <a href=../../../operations/system_tables/ title="Les Tables Système" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Tables Système</a> <a href=#sidebar-sidebar-8-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-11 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-8-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../../operations/optimizing_performance/sampling_query_profiler/ title="Profilage De Requête" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Profilage De Requête</a> </nav> </div> <a href=#sidebar-sidebar-8-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-12 title="Server Configuration Parameters" class="nav-link text-light text-wrap dropdown-toggle px-0">Server Configuration Parameters</a> <div id=sidebar-sidebar-8-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_configuration_parameters/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../operations/server_configuration_parameters/settings/ title="Les Paramètres Du Serveur" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Paramètres Du Serveur</a> </nav> </div> <a href=../../../operations/performance_test/ title="Tester Le Matériel" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tester Le Matériel</a> <a href=#sidebar-sidebar-8-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-14 title=Settings class="nav-link text-light text-wrap dropdown-toggle px-0">Settings</a> <div id=sidebar-sidebar-8-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../operations/settings/permissions_for_queries/ title="Autorisations pour les requêtes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Autorisations pour les requêtes</a> <a href=../../../operations/settings/query_complexity/ title="Restrictions sur la complexité des requêtes" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Restrictions sur la complexité des requêtes</a> <a href=../../../operations/settings/settings/ title=Paramètre class="nav-link text-light text-wrap d-inline-block w-100 px-0">Paramètre</a> <a href=../../../operations/settings/settings_profiles/ title="Les Paramètres Des Profils" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Paramètres Des Profils</a> <a href=../../../operations/settings/constraints_on_settings/ title="Contraintes sur les paramètres" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Contraintes sur les paramètres</a> <a href=../../../operations/settings/settings_users/ title="Les Paramètres De L'Utilisateur" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Les Paramètres De L'Utilisateur</a> </nav> </div> <a href=#sidebar-sidebar-8-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-15 title=Utilities class="nav-link text-light text-wrap dropdown-toggle px-0">Utilities</a> <div id=sidebar-sidebar-8-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/ title=Aperçu class="nav-link text-light text-wrap d-inline-block w-100 px-0">Aperçu</a> <a href=../../../operations/utilities/clickhouse-copier/ title=clickhouse-copieur class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copieur</a> <a href=../../../operations/utilities/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title=clickhouse-benchmark class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-benchmark</a> </nav> </div> <a href=../../../operations/tips/ title="Recommandations D'Utilisation" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Recommandations D'Utilisation</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title=Development class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/ title=cachés class="nav-link text-light text-wrap d-inline-block w-100 px-0">cachés</a> <a href=../../../development/developer_instruction/ title="Le Débutant Clickhouse Developer Instruction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Le Débutant Clickhouse Developer Instruction</a> <a href=../../../development/architecture/ title="Vue d'ensemble de L'Architecture ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Vue d'ensemble de L'Architecture ClickHouse</a> <a href=../../../development/browse_code/ title="Parcourir Le Code Source De ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Parcourir Le Code Source De ClickHouse</a> <a href=../../../development/build/ title="Comment Construire ClickHouse sur Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Linux</a> <a href=../../../development/build_osx/ title="Comment Construire ClickHouse sur Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Mac OS X</a> <a href=../../../development/build_cross_osx/ title="Comment Construire ClickHouse sur Linux pour Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Linux pour Mac OS X</a> <a href=../../../development/build_cross_arm/ title="Comment Construire ClickHouse sur Linux pour AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment Construire ClickHouse sur Linux pour AARCH64 (ARM64)</a> <a href=../../../development/style/ title="Comment écrire du Code C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment écrire du Code C++</a> <a href=../../../development/tests/ title="Comment exécuter des Tests ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Comment exécuter des Tests ClickHouse</a> <a href=../../../development/contrib/ title="Bibliothèques Tierces Utilisées" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Bibliothèques Tierces Utilisées</a> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../../commercial/cloud/ title="Fournisseurs De Services Cloud ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Fournisseurs De Services Cloud ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-11-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-11-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../../whats_new/changelog/2019/ title=2019 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a> <a href=../../../whats_new/changelog/2018/ title=2018 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a> <a href=../../../whats_new/changelog/2017/ title=2017 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a> </nav> </div> <a href=../../../whats_new/roadmap/ title="Feuille de route" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Feuille de route</a> <a href=../../../whats_new/security_changelog/ title="Sécurité Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Sécurité Changelog</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../../faq/general/ title="Questions Générales" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Questions Générales</a> </nav> </div> <a href=../../../single/clickhouse_fr.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt="Version PDF" title="Version PDF" height=24 class="d-block mr-1 float-left"><div>Version PDF</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Demander de l'aide!</p> <p class=lead>Le contenu suivant de cette page de documentation a été traduit à la machine. Mais contrairement à d'autres sites web, il ne se fait pas à la volée. Ce texte traduit vit sur le dépôt GitHub aux côtés de la base de code ClickHouse principale et attend que d'autres locuteurs natifs le rendent plus lisible par l'homme.</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/sql_reference/statements/select.md target=_blank rel="external nofollow noreferrer"> Aide clickhouse documentation en éditant cette page </a> </p> </div> <h1 id=select-queries-syntax>Sélectionnez la syntaxe des requêtes<a class=headerlink href=#select-queries-syntax title="Permanent link">&para;</a></h1> <p><code>SELECT</code> effectue la récupération des données.</p> <div class=codehilite><pre><span></span><code><span class=p>[</span><span class=k>WITH</span> <span class=n>expr_list</span><span class=o>|</span><span class=p>(</span><span class=n>subquery</span><span class=p>)]</span>
<span class=k>SELECT</span> <span class=p>[</span><span class=k>DISTINCT</span><span class=p>]</span> <span class=n>expr_list</span>
<span class=p>[</span><span class=k>FROM</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table</span> <span class=o>|</span> <span class=p>(</span><span class=n>subquery</span><span class=p>)</span> <span class=o>|</span> <span class=n>table_function</span><span class=p>]</span> <span class=p>[</span><span class=k>FINAL</span><span class=p>]</span>
<span class=p>[</span><span class=n>SAMPLE</span> <span class=n>sample_coeff</span><span class=p>]</span>
<span class=p>[</span><span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=p>...]</span>
<span class=p>[</span><span class=k>GLOBAL</span><span class=p>]</span> <span class=p>[</span><span class=k>ANY</span><span class=o>|</span><span class=k>ALL</span><span class=p>]</span> <span class=p>[</span><span class=k>INNER</span><span class=o>|</span><span class=k>LEFT</span><span class=o>|</span><span class=k>RIGHT</span><span class=o>|</span><span class=k>FULL</span><span class=o>|</span><span class=k>CROSS</span><span class=p>]</span> <span class=p>[</span><span class=k>OUTER</span><span class=p>]</span> <span class=k>JOIN</span> <span class=p>(</span><span class=n>subquery</span><span class=p>)</span><span class=o>|</span><span class=k>table</span> <span class=k>USING</span> <span class=n>columns_list</span>
<span class=p>[</span><span class=n>PREWHERE</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>WHERE</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>GROUP</span> <span class=k>BY</span> <span class=n>expr_list</span><span class=p>]</span> <span class=p>[</span><span class=k>WITH</span> <span class=n>TOTALS</span><span class=p>]</span>
<span class=p>[</span><span class=k>HAVING</span> <span class=n>expr</span><span class=p>]</span>
<span class=p>[</span><span class=k>ORDER</span> <span class=k>BY</span> <span class=n>expr_list</span><span class=p>]</span>
<span class=p>[</span><span class=k>LIMIT</span> <span class=p>[</span><span class=n>offset_value</span><span class=p>,</span> <span class=p>]</span><span class=n>n</span> <span class=k>BY</span> <span class=n>columns</span><span class=p>]</span>
<span class=p>[</span><span class=k>LIMIT</span> <span class=p>[</span><span class=n>n</span><span class=p>,</span> <span class=p>]</span><span class=n>m</span><span class=p>]</span>
<span class=p>[</span><span class=k>UNION</span> <span class=k>ALL</span> <span class=p>...]</span>
<span class=p>[</span><span class=k>INTO</span> <span class=n>OUTFILE</span> <span class=n>filename</span><span class=p>]</span>
<span class=p>[</span><span class=n>FORMAT</span> <span class=n>format</span><span class=p>]</span>
</code></pre></div> <p>Toutes les clauses sont facultatives, à l'exception de la liste d'expressions requise immédiatement après SELECT.<br> Les clauses ci-dessous sont décrites dans presque le même ordre que dans l'exécution de la requête convoyeur.</p> <p>Si la requête omet le <code>DISTINCT</code>, <code>GROUP BY</code> et <code>ORDER BY</code> les clauses et les <code>IN</code> et <code>JOIN</code> sous-requêtes, la requête sera complètement traitée en flux, en utilisant O (1) quantité de RAM.<br> Sinon, la requête peut consommer beaucoup de RAM si les restrictions appropriées ne sont pas spécifiées: <code>max_memory_usage</code>, <code>max_rows_to_group_by</code>, <code>max_rows_to_sort</code>, <code>max_rows_in_distinct</code>, <code>max_bytes_in_distinct</code>, <code>max_rows_in_set</code>, <code>max_bytes_in_set</code>, <code>max_rows_in_join</code>, <code>max_bytes_in_join</code>, <code>max_bytes_before_external_sort</code>, <code>max_bytes_before_external_group_by</code>. Pour plus d'informations, consultez la section “Settings”. Il est possible d'utiliser le tri externe (sauvegarde des tables temporaires sur un disque) et l'agrégation externe. <code>The system does not have "merge join"</code>.</p> <h3 id=with-clause>AVEC la Clause<a class=headerlink href=#with-clause title="Permanent link">&para;</a></h3> <p>Cette section prend en charge les Expressions de Table courantes (<a href=https://en.wikipedia.org/wiki/Hierarchical_and_recursive_queries_in_SQL rel="external nofollow noreferrer">CTE</a>), avec quelques limitations:<br> 1. Les requêtes récursives ne sont pas prises en charge<br> 2. Lorsque la sous-requête est utilisée à l'intérieur avec section, son résultat doit être scalaire avec exactement une ligne<br> 3. Les résultats d'Expression ne sont pas disponibles dans les sous requêtes<br> Les résultats des expressions de clause WITH peuvent être utilisés dans la clause SELECT.</p> <p>Exemple 1: Utilisation d'une expression constante comme “variable”</p> <div class=codehilite><pre><span></span><code><span class=k>WITH</span> <span class=s1>&#39;2019-08-01 15:23:00&#39;</span> <span class=k>as</span> <span class=n>ts_upper_bound</span>
<span class=k>SELECT</span> <span class=o>*</span>
<span class=k>FROM</span> <span class=n>hits</span>
<span class=k>WHERE</span>
    <span class=n>EventDate</span> <span class=o>=</span> <span class=n>toDate</span><span class=p>(</span><span class=n>ts_upper_bound</span><span class=p>)</span> <span class=k>AND</span>
    <span class=n>EventTime</span> <span class=o>&lt;=</span> <span class=n>ts_upper_bound</span>
</code></pre></div> <p>Exemple 2: Expulsion de la somme(octets) résultat de l'expression de clause SELECT de la liste de colonnes</p> <div class=codehilite><pre><span></span><code><span class=k>WITH</span> <span class=k>sum</span><span class=p>(</span><span class=n>bytes</span><span class=p>)</span> <span class=k>as</span> <span class=n>s</span>
<span class=k>SELECT</span>
    <span class=n>formatReadableSize</span><span class=p>(</span><span class=n>s</span><span class=p>),</span>
    <span class=k>table</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>parts</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=k>table</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>s</span>
</code></pre></div> <p>Exemple 3: Utilisation des résultats de la sous-requête scalaire</p> <div class=codehilite><pre><span></span><code><span class=cm>/* this example would return TOP 10 of most huge tables */</span>
<span class=k>WITH</span>
    <span class=p>(</span>
        <span class=k>SELECT</span> <span class=k>sum</span><span class=p>(</span><span class=n>bytes</span><span class=p>)</span>
        <span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>parts</span>
        <span class=k>WHERE</span> <span class=n>active</span>
    <span class=p>)</span> <span class=k>AS</span> <span class=n>total_disk_usage</span>
<span class=k>SELECT</span>
    <span class=p>(</span><span class=k>sum</span><span class=p>(</span><span class=n>bytes</span><span class=p>)</span> <span class=o>/</span> <span class=n>total_disk_usage</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span> <span class=k>AS</span> <span class=n>table_disk_usage</span><span class=p>,</span>
    <span class=k>table</span>
<span class=k>FROM</span> <span class=k>system</span><span class=p>.</span><span class=n>parts</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=k>table</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>table_disk_usage</span> <span class=k>DESC</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div> <p>Exemple 4: réutilisation de l'expression dans la sous-requête<br> Comme solution de contournement pour la limitation actuelle de l'utilisation de l'expression dans les sous-requêtes, Vous pouvez la dupliquer.</p> <div class=codehilite><pre><span></span><code><span class=k>WITH</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>]</span> <span class=k>AS</span> <span class=n>hello</span>
<span class=k>SELECT</span>
    <span class=n>hello</span><span class=p>,</span>
    <span class=o>*</span>
<span class=k>FROM</span>
<span class=p>(</span>
    <span class=k>WITH</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>]</span> <span class=k>AS</span> <span class=n>hello</span>
    <span class=k>SELECT</span> <span class=n>hello</span>
<span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─hello─────┬─hello─────┐
│ [&#39;hello&#39;] │ [&#39;hello&#39;] │
└───────────┴───────────┘
</code></pre></div> <h3 id=select-from>De la Clause<a class=headerlink href=#select-from title="Permanent link">&para;</a></h3> <p>Si la clause FROM est omise, les données seront lues à partir <code>system.one</code> table.<br> Le <code>system.one</code> table contient exactement une ligne (cette table remplit le même but que la table double trouvée dans d'autres SGBD).</p> <p>Le <code>FROM</code> clause spécifie la source à partir de laquelle lire les données:</p> <ul> <li>Table</li> <li>Sous-requête</li> <li><a href=../../table_functions/ >Fonction de Table</a></li> </ul> <p><code>ARRAY JOIN</code> et le régulier <code>JOIN</code> peuvent également être inclus (voir ci-dessous).</p> <p>Au lieu d'une table, l' <code>SELECT</code> sous-requête peut être spécifiée entre parenthèses.<br> Contrairement à SQL standard, un synonyme n'a pas besoin d'être spécifié après une sous-requête.</p> <p>Pour exécuter une requête, toutes les colonnes mentionnées dans la requête sont extraites de la table appropriée. Toutes les colonnes non nécessaires pour la requête externe sont rejetées des sous-requêtes.<br> Si une requête ne répertorie aucune colonne (par exemple, <code>SELECT count() FROM t</code>), une colonne est extraite de la table de toute façon (la plus petite est préférée), afin de calculer le nombre de lignes.</p> <h4 id=select-from-final>Modificateur FINAL<a class=headerlink href=#select-from-final title="Permanent link">&para;</a></h4> <p>Applicable lors de la sélection de données à partir de tables <a href=../../../engines/table_engines/mergetree_family/mergetree/ >MergeTree</a>-famille de moteurs autres que <code>GraphiteMergeTree</code>. Lorsque <code>FINAL</code> est spécifié, ClickHouse fusionne complètement les données avant de renvoyer le résultat et effectue ainsi toutes les transformations de données qui se produisent lors des fusions pour le moteur de table donné.</p> <p>Également pris en charge pour:<br> - <a href=../../../engines/table_engines/mergetree_family/replication/ >Répliqué</a> les versions de <code>MergeTree</code> moteur.<br> - <a href=../../../engines/table_engines/special/view/ >Vue</a>, <a href=../../../engines/table_engines/special/buffer/ >Tampon</a>, <a href=../../../engines/table_engines/special/distributed/ >Distribué</a>, et <a href=../../../engines/table_engines/special/materializedview/ >MaterializedView</a> moteurs qui fonctionnent sur d'autres moteurs, à condition qu'ils aient été créés sur <code>MergeTree</code>-tables de moteur.</p> <p>Requêtes qui utilisent <code>FINAL</code> sont exécutés pas aussi vite que les requêtes similaires qui ne le font pas, car:</p> <ul> <li>La requête est exécutée dans un seul thread et les données sont fusionnées lors de l'exécution de la requête.</li> <li>Les requêtes avec <code>FINAL</code> lire les colonnes de clé primaire en plus des colonnes spécifiées dans la requête.</li> </ul> <p>Dans la plupart des cas, évitez d'utiliser <code>FINAL</code>.</p> <h3 id=select-sample-clause>Exemple de Clause<a class=headerlink href=#select-sample-clause title="Permanent link">&para;</a></h3> <p>Le <code>SAMPLE</code> la clause permet un traitement de requête approximatif.</p> <p>Lorsque l'échantillonnage de données est activé, la requête n'est pas effectuée sur toutes les données, mais uniquement sur une certaine fraction de données (échantillon). Par exemple, si vous avez besoin de calculer des statistiques pour toutes les visites, il suffit d'exécuter la requête sur le 1/10 de la fraction de toutes les visites, puis multiplier le résultat par 10.</p> <p>Le traitement approximatif des requêtes peut être utile dans les cas suivants:</p> <ul> <li>Lorsque vous avez des exigences de synchronisation strictes (comme \&lt;100ms), mais que vous ne pouvez pas justifier le coût des ressources matérielles supplémentaires pour y répondre.</li> <li>Lorsque vos données brutes ne sont pas précises, l'approximation ne dégrade pas sensiblement la qualité.</li> <li>Les exigences commerciales ciblent des résultats approximatifs (pour la rentabilité, ou afin de commercialiser des résultats exacts aux utilisateurs premium).</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Vous ne pouvez utiliser l'échantillonnage qu'avec les tables <a href=../../../engines/table_engines/mergetree_family/mergetree/ >MergeTree</a> famille, et seulement si l'expression d'échantillonnage a été spécifiée lors de la création de la table (voir <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-creating-a-table>Moteur MergeTree</a>).</p> </div> <p>Les caractéristiques de l'échantillonnage des données sont énumérées ci-dessous:</p> <ul> <li>L'échantillonnage de données est un mécanisme déterministe. Le résultat de la même <code>SELECT .. SAMPLE</code> la requête est toujours le même.</li> <li>L'échantillonnage fonctionne de manière cohérente pour différentes tables. Pour les tables avec une seule clé d'échantillonnage, un échantillon avec le même coefficient sélectionne toujours le même sous-ensemble de données possibles. Par exemple, un exemple d'ID utilisateur prend des lignes avec le même sous-ensemble de tous les ID utilisateur possibles de différentes tables. Cela signifie que vous pouvez utiliser l'exemple dans les sous-requêtes dans la <a href=#select-in-operators>IN</a> clause. En outre, vous pouvez joindre des échantillons en utilisant le <a href=#select-join>JOIN</a> clause.</li> <li>L'échantillonnage permet de lire moins de données à partir d'un disque. Notez que vous devez spécifier l'échantillonnage clé correctement. Pour plus d'informations, voir <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-creating-a-table>Création d'une Table MergeTree</a>.</li> </ul> <p>Pour l' <code>SAMPLE</code> clause la syntaxe suivante est prise en charge:</p> <table> <thead> <tr> <th>SAMPLE Clause Syntax</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>SAMPLE k</code></td> <td>Ici <code>k</code> est le nombre de 0 à 1.La requête est exécutée sur <code>k</code> fraction des données. Exemple, <code>SAMPLE 0.1</code> exécute la requête sur 10% des données. <a href=#select-sample-k>Lire plus</a></td> </tr> <tr> <td><code>SAMPLE n</code></td> <td>Ici <code>n</code> est un entier suffisamment grand.La requête est exécutée sur un échantillon d'au moins <code>n</code> lignes (mais pas significativement plus que cela). Exemple, <code>SAMPLE 10000000</code> exécute la requête sur un minimum de 10 000 000 lignes. <a href=#select-sample-n>Lire plus</a></td> </tr> <tr> <td><code>SAMPLE k OFFSET m</code></td> <td>Ici <code>k</code> et <code>m</code> sont les nombres de 0 à 1.La requête est exécutée sur un échantillon de <code>k</code> fraction des données. Les données utilisées pour l'échantillon est compensée par <code>m</code> fraction. <a href=#select-sample-offset>Lire plus</a></td> </tr> </tbody> </table> <h4 id=select-sample-k>SAMPLE K<a class=headerlink href=#select-sample-k title="Permanent link">&para;</a></h4> <p>Ici <code>k</code> est le nombre de 0 à 1 (les notations fractionnaires et décimales sont prises en charge). Exemple, <code>SAMPLE 1/2</code> ou <code>SAMPLE 0.5</code>.</p> <p>Dans un <code>SAMPLE k</code> clause, l'échantillon est prélevé à partir de la <code>k</code> fraction des données. L'exemple est illustré ci-dessous:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span>
    <span class=n>Title</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=o>*</span> <span class=mi>10</span> <span class=k>AS</span> <span class=n>PageViews</span>
<span class=k>FROM</span> <span class=n>hits_distributed</span>
<span class=n>SAMPLE</span> <span class=mi>0</span><span class=p>.</span><span class=mi>1</span>
<span class=k>WHERE</span>
    <span class=n>CounterID</span> <span class=o>=</span> <span class=mi>34</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>Title</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>PageViews</span> <span class=k>DESC</span> <span class=k>LIMIT</span> <span class=mi>1000</span>
</code></pre></div> <p>Dans cet exemple, la requête est exécutée sur un échantillon de 0,1 (10%) de données. Les valeurs des fonctions d'agrégat ne sont pas corrigées automatiquement, donc pour obtenir un résultat approximatif, la valeur <code>count()</code> est multiplié manuellement par 10.</p> <h4 id=select-sample-n>SAMPLE N<a class=headerlink href=#select-sample-n title="Permanent link">&para;</a></h4> <p>Ici <code>n</code> est un entier suffisamment grand. Exemple, <code>SAMPLE 10000000</code>.</p> <p>Dans ce cas, la requête est exécutée sur un échantillon d'au moins <code>n</code> lignes (mais pas significativement plus que cela). Exemple, <code>SAMPLE 10000000</code> exécute la requête sur un minimum de 10 000 000 lignes.</p> <p>Puisque l'unité minimale pour la lecture des données est un granule (sa taille est définie par le <code>index_granularity</code> de réglage), il est logique de définir un échantillon beaucoup plus grand que la taille du granule.</p> <p>Lors de l'utilisation de la <code>SAMPLE n</code> clause, vous ne savez pas quel pourcentage relatif de données a été traité. Donc, vous ne connaissez pas le coefficient par lequel les fonctions agrégées doivent être multipliées. L'utilisation de la <code>_sample_factor</code> colonne virtuelle pour obtenir le résultat approximatif.</p> <p>Le <code>_sample_factor</code> colonne contient des coefficients relatifs qui sont calculés dynamiquement. Cette colonne est créée automatiquement lorsque vous <a href=../../../engines/table_engines/mergetree_family/mergetree/#table_engine-mergetree-creating-a-table>créer</a> une table avec la clé d'échantillonnage spécifiée. Les exemples d'utilisation de la <code>_sample_factor</code> colonne sont indiqués ci-dessous.</p> <p>Considérons la table <code>visits</code> qui contient des statistiques sur les visites de site. Le premier exemple montre comment calculer le nombre de pages vues:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>sum</span><span class=p>(</span><span class=n>PageViews</span> <span class=o>*</span> <span class=n>_sample_factor</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>visits</span>
<span class=n>SAMPLE</span> <span class=mi>10000000</span>
</code></pre></div> <p>L'exemple suivant montre comment calculer le nombre total de visites:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>sum</span><span class=p>(</span><span class=n>_sample_factor</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>visits</span>
<span class=n>SAMPLE</span> <span class=mi>10000000</span>
</code></pre></div> <p>L'exemple ci-dessous montre comment calculer la durée moyenne de la session. Notez que vous n'avez pas besoin d'utiliser le coefficient relatif pour calculer les valeurs moyennes.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=k>avg</span><span class=p>(</span><span class=n>Duration</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>visits</span>
<span class=n>SAMPLE</span> <span class=mi>10000000</span>
</code></pre></div> <h4 id=select-sample-offset>SAMPLE K OFFSET M<a class=headerlink href=#select-sample-offset title="Permanent link">&para;</a></h4> <p>Ici <code>k</code> et <code>m</code> sont des nombres de 0 à 1. Des exemples sont présentés ci-dessous.</p> <p><strong>Exemple 1</strong></p> <div class=codehilite><pre><span></span><code><span class=n>SAMPLE</span> <span class=mi>1</span><span class=o>/</span><span class=mi>10</span>
</code></pre></div> <p>Dans cet exemple, l'échantillon représente 1 / 10e de toutes les données:</p> <p><code>[++------------]</code></p> <p><strong>Exemple 2</strong></p> <div class=codehilite><pre><span></span><code><span class=n>SAMPLE</span> <span class=mi>1</span><span class=o>/</span><span class=mi>10</span> <span class=k>OFFSET</span> <span class=mi>1</span><span class=o>/</span><span class=mi>2</span>
</code></pre></div> <p>Ici, un échantillon de 10% est prélevé à partir de la seconde moitié des données.</p> <p><code>[------++------]</code></p> <h3 id=select-array-join-clause>Clause de jointure de tableau<a class=headerlink href=#select-array-join-clause title="Permanent link">&para;</a></h3> <p>Permet l'exécution de <code>JOIN</code> avec un tableau ou une structure de données imbriquée. L'intention est similaire à la <a href=../../functions/array_join/#functions_arrayjoin>arrayJoin</a> la fonction, mais sa fonctionnalité est plus large.</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>&lt;</span><span class=n>expr_list</span><span class=o>&gt;</span>
<span class=k>FROM</span> <span class=o>&lt;</span><span class=n>left_subquery</span><span class=o>&gt;</span>
<span class=p>[</span><span class=k>LEFT</span><span class=p>]</span> <span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=o>&lt;</span><span class=nb>array</span><span class=o>&gt;</span>
<span class=p>[</span><span class=k>WHERE</span><span class=o>|</span><span class=n>PREWHERE</span> <span class=o>&lt;</span><span class=n>expr</span><span class=o>&gt;</span><span class=p>]</span>
<span class=p>...</span>
</code></pre></div> <p>Vous pouvez spécifier qu'un seul <code>ARRAY JOIN</code> la clause dans une requête.</p> <p>L'ordre d'exécution de la requête est optimisé lors de l'exécution <code>ARRAY JOIN</code>. Bien <code>ARRAY JOIN</code> doit toujours être spécifié avant l' <code>WHERE/PREWHERE</code> clause, il peut être effectué soit avant <code>WHERE/PREWHERE</code> (si le résultat est nécessaire dans cette clause), ou après l'avoir terminé (pour réduire le volume de calculs). L'ordre de traitement est contrôlée par l'optimiseur de requête.</p> <p>Types pris en charge de <code>ARRAY JOIN</code> sont énumérés ci-dessous:</p> <ul> <li><code>ARRAY JOIN</code> - Dans ce cas, des tableaux vides ne sont pas inclus dans le résultat de <code>JOIN</code>.</li> <li><code>LEFT ARRAY JOIN</code> - Le résultat de <code>JOIN</code> contient des lignes avec des tableaux vides. La valeur d'un tableau vide est définie sur la valeur par défaut pour le type d'élément de tableau (généralement 0, chaîne vide ou NULL).</li> </ul> <p>Les exemples ci-dessous illustrent l'utilisation de la <code>ARRAY JOIN</code> et <code>LEFT ARRAY JOIN</code> clause. Créons une table avec un <a href=../../data_types/array/ >Tableau</a> tapez colonne et insérez des valeurs dedans:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>arrays_test</span>
<span class=p>(</span>
    <span class=n>s</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>arr</span> <span class=nb>Array</span><span class=p>(</span><span class=n>UInt8</span><span class=p>)</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>arrays_test</span>
<span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;World&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;Goodbye&#39;</span><span class=p>,</span> <span class=p>[]);</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────────┬─arr─────┐
│ Hello       │ [1,2]   │
│ World       │ [3,4,5] │
│ Goodbye     │ []      │
└─────────────┴─────────┘
</code></pre></div> <p>L'exemple ci-dessous utilise la <code>ARRAY JOIN</code> clause:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─┐
│ Hello │   1 │
│ Hello │   2 │
│ World │   3 │
│ World │   4 │
│ World │   5 │
└───────┴─────┘
</code></pre></div> <p>L'exemple suivant utilise l' <code>LEFT ARRAY JOIN</code> clause:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=k>LEFT</span> <span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────────┬─arr─┐
│ Hello       │   1 │
│ Hello       │   2 │
│ World       │   3 │
│ World       │   4 │
│ World       │   5 │
│ Goodbye     │   0 │
└─────────────┴─────┘
</code></pre></div> <h4 id=using-aliases>À L'Aide D'Alias<a class=headerlink href=#using-aliases title="Permanent link">&para;</a></h4> <p>Un alias peut être spécifié pour un tableau <code>ARRAY JOIN</code> clause. Dans ce cas, un élément de tableau peut être consulté par ce pseudonyme, mais le tableau lui-même est accessible par le nom d'origine. Exemple:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>a</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span> <span class=k>AS</span> <span class=n>a</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─────┬─a─┐
│ Hello │ [1,2]   │ 1 │
│ Hello │ [1,2]   │ 2 │
│ World │ [3,4,5] │ 3 │
│ World │ [3,4,5] │ 4 │
│ World │ [3,4,5] │ 5 │
└───────┴─────────┴───┘
</code></pre></div> <p>En utilisant des alias, vous pouvez effectuer <code>ARRAY JOIN</code> avec un groupe externe. Exemple:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr_external</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span> <span class=k>AS</span> <span class=n>arr_external</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────────┬─arr_external─┐
│ Hello       │            1 │
│ Hello       │            2 │
│ Hello       │            3 │
│ World       │            1 │
│ World       │            2 │
│ World       │            3 │
│ Goodbye     │            1 │
│ Goodbye     │            2 │
│ Goodbye     │            3 │
└─────────────┴──────────────┘
</code></pre></div> <p>Plusieurs tableaux peuvent être séparés par des virgules <code>ARRAY JOIN</code> clause. Dans ce cas, <code>JOIN</code> est effectuée avec eux simultanément (la somme directe, pas le produit cartésien). Notez que tous les tableaux doivent avoir la même taille. Exemple:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>num</span><span class=p>,</span> <span class=n>mapped</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span><span class=p>,</span> <span class=n>arrayMap</span><span class=p>(</span><span class=n>x</span> <span class=o>-&gt;</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>arr</span><span class=p>)</span> <span class=k>AS</span> <span class=n>mapped</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─────┬─a─┬─num─┬─mapped─┐
│ Hello │ [1,2]   │ 1 │   1 │      2 │
│ Hello │ [1,2]   │ 2 │   2 │      3 │
│ World │ [3,4,5] │ 3 │   1 │      4 │
│ World │ [3,4,5] │ 4 │   2 │      5 │
│ World │ [3,4,5] │ 5 │   3 │      6 │
└───────┴─────────┴───┴─────┴────────┘
</code></pre></div> <p>L'exemple ci-dessous utilise la <a href=../../functions/array_functions/#array_functions-arrayenumerate>arrayEnumerate</a> fonction:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>num</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
<span class=k>FROM</span> <span class=n>arrays_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>arr</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─arr─────┬─a─┬─num─┬─arrayEnumerate(arr)─┐
│ Hello │ [1,2]   │ 1 │   1 │ [1,2]               │
│ Hello │ [1,2]   │ 2 │   2 │ [1,2]               │
│ World │ [3,4,5] │ 3 │   1 │ [1,2,3]             │
│ World │ [3,4,5] │ 4 │   2 │ [1,2,3]             │
│ World │ [3,4,5] │ 5 │   3 │ [1,2,3]             │
└───────┴─────────┴───┴─────┴─────────────────────┘
</code></pre></div> <h4 id=array-join-with-nested-data-structure>Jointure de tableau avec la Structure de données imbriquée<a class=headerlink href=#array-join-with-nested-data-structure title="Permanent link">&para;</a></h4> <p><code>ARRAY</code>Rejoindre " fonctionne également avec <a href=../../data_types/nested_data_structures/nested/ >structures de données imbriquées</a>. Exemple:</p> <div class=codehilite><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>nested_test</span>
<span class=p>(</span>
    <span class=n>s</span> <span class=n>String</span><span class=p>,</span>
    <span class=n>nest</span> <span class=n>Nested</span><span class=p>(</span>
    <span class=n>x</span> <span class=n>UInt8</span><span class=p>,</span>
    <span class=n>y</span> <span class=n>UInt32</span><span class=p>)</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Memory</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>nested_test</span>
<span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span><span class=mi>20</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;World&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>30</span><span class=p>,</span><span class=mi>40</span><span class=p>,</span><span class=mi>50</span><span class=p>]),</span> <span class=p>(</span><span class=s1>&#39;Goodbye&#39;</span><span class=p>,</span> <span class=p>[],</span> <span class=p>[]);</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s───────┬─nest.x──┬─nest.y─────┐
│ Hello   │ [1,2]   │ [10,20]    │
│ World   │ [3,4,5] │ [30,40,50] │
│ Goodbye │ []      │ []         │
└─────────┴─────────┴────────────┘
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>nest</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─nest.x─┬─nest.y─┐
│ Hello │      1 │     10 │
│ Hello │      2 │     20 │
│ World │      3 │     30 │
│ World │      4 │     40 │
│ World │      5 │     50 │
└───────┴────────┴────────┘
</code></pre></div> <p>Lorsque vous spécifiez des noms de structures de données imbriquées dans <code>ARRAY JOIN</code> le sens est le même que <code>ARRAY JOIN</code> avec tous les éléments du tableau qui la compose. Des exemples sont énumérés ci-dessous:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─nest.x─┬─nest.y─┐
│ Hello │      1 │     10 │
│ Hello │      2 │     20 │
│ World │      3 │     30 │
│ World │      4 │     40 │
│ World │      5 │     50 │
└───────┴────────┴────────┘
</code></pre></div> <p>Cette variation a également du sens:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─nest.x─┬─nest.y─────┐
│ Hello │      1 │ [10,20]    │
│ Hello │      2 │ [10,20]    │
│ World │      3 │ [30,40,50] │
│ World │      4 │ [30,40,50] │
│ World │      5 │ [30,40,50] │
└───────┴────────┴────────────┘
</code></pre></div> <p>Un alias peut être utilisé pour une structure de données imbriquée, afin de sélectionner <code>JOIN</code> le résultat ou le tableau source. Exemple:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>nest</span> <span class=k>AS</span> <span class=n>n</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─n.x─┬─n.y─┬─nest.x──┬─nest.y─────┐
│ Hello │   1 │  10 │ [1,2]   │ [10,20]    │
│ Hello │   2 │  20 │ [1,2]   │ [10,20]    │
│ World │   3 │  30 │ [3,4,5] │ [30,40,50] │
│ World │   4 │  40 │ [3,4,5] │ [30,40,50] │
│ World │   5 │  50 │ [3,4,5] │ [30,40,50] │
└───────┴─────┴─────┴─────────┴────────────┘
</code></pre></div> <p>Exemple d'utilisation de l' <a href=../../functions/array_functions/#array_functions-arrayenumerate>arrayEnumerate</a> fonction:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>s</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>n</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>,</span> <span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>y</span><span class=o>`</span><span class=p>,</span> <span class=n>num</span>
<span class=k>FROM</span> <span class=n>nested_test</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span> <span class=n>nest</span> <span class=k>AS</span> <span class=n>n</span><span class=p>,</span> <span class=n>arrayEnumerate</span><span class=p>(</span><span class=o>`</span><span class=n>nest</span><span class=p>.</span><span class=n>x</span><span class=o>`</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span><span class=p>;</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>┌─s─────┬─n.x─┬─n.y─┬─nest.x──┬─nest.y─────┬─num─┐
│ Hello │   1 │  10 │ [1,2]   │ [10,20]    │   1 │
│ Hello │   2 │  20 │ [1,2]   │ [10,20]    │   2 │
│ World │   3 │  30 │ [3,4,5] │ [30,40,50] │   1 │
│ World │   4 │  40 │ [3,4,5] │ [30,40,50] │   2 │
│ World │   5 │  50 │ [3,4,5] │ [30,40,50] │   3 │
└───────┴─────┴─────┴─────────┴────────────┴─────┘
</code></pre></div> <h3 id=select-join>Clause de JOINTURE<a class=headerlink href=#select-join title="Permanent link">&para;</a></h3> <p>Rejoint les données dans la normale <a href=https://en.wikipedia.org/wiki/Join_(SQL) rel="external nofollow noreferrer">SQL JOIN</a> sens.</p> <div class="admonition info"> <p class=admonition-title>Note</p> <p>Pas liées à <a href=#select-array-join-clause>ARRAY JOIN</a>.</p> </div> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>&lt;</span><span class=n>expr_list</span><span class=o>&gt;</span>
<span class=k>FROM</span> <span class=o>&lt;</span><span class=n>left_subquery</span><span class=o>&gt;</span>
<span class=p>[</span><span class=k>GLOBAL</span><span class=p>]</span> <span class=p>[</span><span class=k>ANY</span><span class=o>|</span><span class=k>ALL</span><span class=p>]</span> <span class=p>[</span><span class=k>INNER</span><span class=o>|</span><span class=k>LEFT</span><span class=o>|</span><span class=k>RIGHT</span><span class=o>|</span><span class=k>FULL</span><span class=o>|</span><span class=k>CROSS</span><span class=p>]</span> <span class=p>[</span><span class=k>OUTER</span><span class=p>]</span> <span class=k>JOIN</span> <span class=o>&lt;</span><span class=n>right_subquery</span><span class=o>&gt;</span>
<span class=p>(</span><span class=k>ON</span> <span class=o>&lt;</span><span class=n>expr_list</span><span class=o>&gt;</span><span class=p>)</span><span class=o>|</span><span class=p>(</span><span class=k>USING</span> <span class=o>&lt;</span><span class=n>column_list</span><span class=o>&gt;</span><span class=p>)</span> <span class=p>...</span>
</code></pre></div> <p>Les noms de table peuvent être spécifiés au lieu de <code>&lt;left_subquery&gt;</code> et <code>&lt;right_subquery&gt;</code>. Ceci est équivalent à la <code>SELECT * FROM table</code> sous-requête, sauf dans un cas particulier lorsque la table a <a href=../../../engines/table_engines/special/join/ >Rejoindre</a> engine – an array prepared for joining.</p> <h4 id=select-join-types>Types Pris En Charge De <code>JOIN</code><a class=headerlink href=#select-join-types title="Permanent link">&para;</a></h4> <ul> <li><code>INNER JOIN</code> (ou <code>JOIN</code>)</li> <li><code>LEFT JOIN</code> (ou <code>LEFT OUTER JOIN</code>)</li> <li><code>RIGHT JOIN</code> (ou <code>RIGHT OUTER JOIN</code>)</li> <li><code>FULL JOIN</code> (ou <code>FULL OUTER JOIN</code>)</li> <li><code>CROSS JOIN</code> (ou <code>,</code> )</li> </ul> <p>Voir la norme <a href=https://en.wikipedia.org/wiki/Join_(SQL) rel="external nofollow noreferrer">SQL JOIN</a> Description.</p> <h4 id=multiple-join>Plusieurs REJOINDRE<a class=headerlink href=#multiple-join title="Permanent link">&para;</a></h4> <p>En effectuant des requêtes, ClickHouse réécrit les jointures multi-tables dans la séquence des jointures à deux tables. Par exemple, S'il y a quatre tables pour join clickhouse rejoint la première et la seconde, puis rejoint le résultat avec la troisième table, et à la dernière étape, il rejoint la quatrième.</p> <p>Si une requête contient l' <code>WHERE</code> clickhouse essaie de pousser les filtres de cette clause à travers la jointure intermédiaire. S'il ne peut pas appliquer le filtre à chaque jointure intermédiaire, ClickHouse applique les filtres une fois toutes les jointures terminées.</p> <p>Nous recommandons l' <code>JOIN ON</code> ou <code>JOIN USING</code> syntaxe pour créer des requêtes. Exemple:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t1</span> <span class=k>JOIN</span> <span class=n>t2</span> <span class=k>ON</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t2</span><span class=p>.</span><span class=n>a</span> <span class=k>JOIN</span> <span class=n>t3</span> <span class=k>ON</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t3</span><span class=p>.</span><span class=n>a</span>
</code></pre></div> <p>Vous pouvez utiliser des listes de tables séparées par des virgules <code>FROM</code> clause. Exemple:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>t1</span><span class=p>,</span> <span class=n>t2</span><span class=p>,</span> <span class=n>t3</span> <span class=k>WHERE</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t2</span><span class=p>.</span><span class=n>a</span> <span class=k>AND</span> <span class=n>t1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=n>t3</span><span class=p>.</span><span class=n>a</span>
</code></pre></div> <p>Ne mélangez pas ces syntaxes.</p> <p>ClickHouse ne supporte pas directement la syntaxe avec des virgules, Nous ne recommandons donc pas de les utiliser. L'algorithme tente de réécrire la requête en termes de <code>CROSS JOIN</code> et <code>INNER JOIN</code> clauses et procède ensuite au traitement des requêtes. Lors de la réécriture de la requête, ClickHouse tente d'optimiser les performances et la consommation de mémoire. Par défaut, ClickHouse traite les virgules comme <code>INNER JOIN</code> clause et convertit <code>INNER JOIN</code> de <code>CROSS JOIN</code> lorsque l'algorithme ne peut pas garantir que <code>INNER JOIN</code> retourne les données requises.</p> <h4 id=select-join-strictness>Rigueur<a class=headerlink href=#select-join-strictness title="Permanent link">&para;</a></h4> <ul> <li><code>ALL</code> — If the right table has several matching rows, ClickHouse creates a <a href=https://en.wikipedia.org/wiki/Cartesian_product rel="external nofollow noreferrer">Produit cartésien</a> à partir des lignes correspondantes. C'est la norme <code>JOIN</code> comportement en SQL.</li> <li><code>ANY</code> — If the right table has several matching rows, only the first one found is joined. If the right table has only one matching row, the results of queries with <code>ANY</code> et <code>ALL</code> les mots clés sont les mêmes.</li> <li><code>ASOF</code> — For joining sequences with a non-exact match. <code>ASOF JOIN</code> l'utilisation est décrite ci-dessous.</li> </ul> <p><strong>ASOF joindre L'utilisation</strong></p> <p><code>ASOF JOIN</code> est utile lorsque vous devez joindre des enregistrements qui n'ont pas de correspondance exacte.</p> <p>Tables pour <code>ASOF JOIN</code> doit avoir une colonne de séquence ordonnée. Cette colonne ne peut pas être seule dans une table et doit être l'un des types de données: <code>UInt32</code>, <code>UInt64</code>, <code>Float32</code>, <code>Float64</code>, <code>Date</code>, et <code>DateTime</code>.</p> <p>Syntaxe <code>ASOF JOIN ... ON</code>:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>expressions_list</span>
<span class=k>FROM</span> <span class=n>table_1</span>
<span class=n>ASOF</span> <span class=k>LEFT</span> <span class=k>JOIN</span> <span class=n>table_2</span>
<span class=k>ON</span> <span class=n>equi_cond</span> <span class=k>AND</span> <span class=n>closest_match_cond</span>
</code></pre></div> <p>Vous pouvez utiliser n'importe quel nombre de conditions d'égalité et exactement une condition de correspondance la plus proche. Exemple, <code>SELECT count() FROM table_1 ASOF LEFT JOIN table_2 ON table_1.a == table_2.b AND table_2.t &lt;= table_1.t</code>.</p> <p>Conditions prises en charge pour la correspondance la plus proche: <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>.</p> <p>Syntaxe <code>ASOF JOIN ... USING</code>:</p> <div class=codehilite><pre><span></span><code><span class=k>SELECT</span> <span class=n>expressions_list</span>
<span class=k>FROM</span> <span class=n>table_1</span>
<span class=n>ASOF</span> <span class=k>JOIN</span> <span class=n>table_2</span>
<span class=k>USING</span> <span class=p>(</span><span class=n>equi_column1</span><span class=p>,</span> <span class=p>...</span> <span class=n>equi_columnN</span><span class=p>,</span> <span class=n>asof_column</span><span class=p>)</span>
</code></pre></div> <p><code>ASOF JOIN</code> utiliser <code>equi_columnX</code> pour rejoindre sur l'égalité et <code>asof_column</code> pour rejoindre le match le plus proche avec le <code>table_1.asof_column &gt;= table_2.asof_column</code> condition. Le <code>asof_column</code> colonne toujours la dernière dans le <code>USING</code> clause.</p> <p>Par exemple, considérez les tableaux suivants:</p> <p>``` texte<br> table_1 table_2</p> <p>événement | ev_time | user_id événement | ev_time | user_id</p> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Construit à partir de <a href=https://github.com/ClickHouse/ClickHouse/commit/25eae6abe035bda78634f17d15c9f05348d97aad rel="external nofollow noreferrer" target=_blank class=text-reset>25eae6abe0</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Table des matières</label> <a href=#with-clause title="AVEC la Clause" class="nav-link text-wrap d-inline-block w-100"> AVEC la Clause </a> <a href=#select-from title="De la Clause" class="nav-link text-wrap d-inline-block w-100"> De la Clause </a> <nav id=toc-toc-2 class="nav flex-column pl-2"> <a href=#select-from-final title="Modificateur FINAL" class="nav-link text-wrap d-inline-block w-100"> Modificateur FINAL </a> </nav> <a href=#select-sample-clause title="Exemple de Clause" class="nav-link text-wrap d-inline-block w-100"> Exemple de Clause </a> <nav id=toc-toc-3 class="nav flex-column pl-2"> <a href=#select-sample-k title="SAMPLE K" class="nav-link text-wrap d-inline-block w-100"> SAMPLE K </a> <a href=#select-sample-n title="SAMPLE N" class="nav-link text-wrap d-inline-block w-100"> SAMPLE N </a> <a href=#select-sample-offset title="SAMPLE K OFFSET M" class="nav-link text-wrap d-inline-block w-100"> SAMPLE K OFFSET M </a> </nav> <a href=#select-array-join-clause title="Clause de jointure de tableau" class="nav-link text-wrap d-inline-block w-100"> Clause de jointure de tableau </a> <nav id=toc-toc-4 class="nav flex-column pl-2"> <a href=#using-aliases title="À L'Aide D'Alias" class="nav-link text-wrap d-inline-block w-100"> À L'Aide D'Alias </a> <a href=#array-join-with-nested-data-structure title="Jointure de tableau avec la Structure de données imbriquée" class="nav-link text-wrap d-inline-block w-100"> Jointure de tableau avec la Structure de données imbriquée </a> </nav> <a href=#select-join title="Clause de JOINTURE" class="nav-link text-wrap d-inline-block w-100"> Clause de JOINTURE </a> <nav id=toc-toc-5 class="nav flex-column pl-2"> <a href=#select-join-types title="Types Pris En Charge De JOIN" class="nav-link text-wrap d-inline-block w-100"> Types Pris En Charge De JOIN </a> <a href=#multiple-join title="Plusieurs REJOINDRE" class="nav-link text-wrap d-inline-block w-100"> Plusieurs REJOINDRE </a> <a href=#select-join-strictness title=Rigueur class="nav-link text-wrap d-inline-block w-100"> Rigueur </a> </nav> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>