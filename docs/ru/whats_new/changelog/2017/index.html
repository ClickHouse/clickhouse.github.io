<!DOCTYPE html><html lang=ru data-version=master data-single-page=false> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>ClickHouse релиз 1.1.54327, 2017-12-21 - Документация ClickHouse</title><link rel="shortcut icon" href=/favicon.ico><meta property=og:title content="ClickHouse релиз 1.1.54327, 2017-12-21 - Документация ClickHouse "><meta property=og:description content="ClickHouse релиз 1.1.54327, 2017-12-21 Этот выпуск содержит исправления ошибок для предыдущей версии 1.1.54318: Исправле"><meta property=og:type content=website><meta property=og:image content=https://clickhouse.tech/images/logo.png><meta property=twitter:title content="ClickHouse релиз 1.1.54327, 2017-12-21 - Документация ClickHouse "><meta name=description content="ClickHouse релиз 1.1.54327, 2017-12-21 Этот выпуск содержит исправления ошибок для предыдущей версии 1.1.54318: Исправле"><meta name=keywords content="ClickHouse, DBMS, OLAP, relational, analytics, analytical, big data, open-source, SQL, web-analytics"><link href=/css/base.css?1d858e50 media=all rel=stylesheet></head> <body dir=ltr data-spy=scroll data-target=#toc data-offset=80> <nav id=top-nav class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top"> <div class="container-fluid justify-content-between"> <a href=/ class="d-block navbar-brand mr-3"> <img id=docs-logo-icon src=/images/logo.svg alt="ClickHouse logo" title="ClickHouse logo"> </a> <div class="w-100 navbar-text text-left d-none d-md-block"> <h1 class="h3 m-0 p-0 d-inline"> <a href=# class="text-white text-decoration-none"> ClickHouse релиз 1.1.54327, 2017-12-21 </a> </h1> </div> <div class="d-none d-md-block"> <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end"> <li class=nav-item> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/whats_new/changelog/2017.md title="Edit this article" class=nav-link rel="external nofollow noreferrer" target=_blank><img src=/images/mkdocs/edit.svg alt="Edit this article" class=mt-1 height=22></a> </li> <li class=nav-item> <a class=nav-link href=https://github.com/ClickHouse/ClickHouse rel="external nofollow noreferrer"> <img src=/images/index/github.svg alt="GitHub repository" title="Go to GitHub" height=32> </a> </li> <li id=languages-wrapper class="nav-item dropdown"> <div id=languages-dropdown> <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href=# id=lang-dropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <img src=/images/flags/ru.svg alt=Русский title=Русский width=32 class="d-inline-block mt-n1"> </a> <div class="dropdown-menu bg-dark" aria-labelledby=lang-dropdown> <a href=/docs/en/whats_new/changelog/2017/ class=dropdown-item> <img src=/images/flags/en.svg alt title width=32 class="d-inline-block mr-2">English </a> <a href=/docs/zh/whats_new/changelog/2017/ class=dropdown-item> <img src=/images/flags/zh.svg alt title width=32 class="d-inline-block mr-2">中文 </a> <a href=/docs/es/whats_new/changelog/2017/ class=dropdown-item> <img src=/images/flags/es.svg alt title width=32 class="d-inline-block mr-2">Español </a> <a href=/docs/fr/whats_new/changelog/2017/ class=dropdown-item> <img src=/images/flags/fr.svg alt title width=32 class="d-inline-block mr-2">Français </a> <a href=/docs/ru/whats_new/changelog/2017/ class="dropdown-item disabled"> <img src=/images/flags/ru.svg alt title width=32 class="d-inline-block mr-2">Русский </a> <a href=/docs/ja/whats_new/changelog/2017/ class=dropdown-item> <img src=/images/flags/ja.svg alt title width=32 class="d-inline-block mr-2">日本語 </a> <a href=/docs/fa/whats_new/changelog/2017/ class=dropdown-item> <img src=/images/flags/fa.svg alt title width=32 class="d-inline-block mr-2">فارسی </a> </div> </div> </li> </ul> </div> <form id=search-form class="form-inline m-0"> <div class=input-group> <div class="input-group-prepend w-100"> <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id=search-icon> <img src=/images/mkdocs/search.svg> </span> <input id=docsearch-input class="form-control bg-secondary-alt text-muted border-0 pl-1" type=search placeholder=Search aria-label=Search> </div> </div> </form> <button id=navbar-toggler class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#sidebar aria-controls=sidebar aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> </nav> <div class=container-fluid> <div class="row justify-content-end justify-content-xl-center"> <div id=sidebar class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto"> <div class=overflow-auto> <div id=single-page-switch class="btn-group mb-2 float-right" role=group aria-label="Многостраничный или одностраничный"> <a href=../../.. role=button class="btn btn-dark active" aria-pressed=true> <img src=/images/mkdocs/multi.svg alt="Многостраничная версия" title="Многостраничная версия"> </a> <a href=../../../single/ role=button class="btn btn-dark-alt active" aria-pressed=true> <img src=/images/mkdocs/single.svg alt="Одностраничная версия" title="Одностраничная версия"> </a> </div> <div class="dropdown mb-3"> <a class="btn btn-dark dropdown-toggle text-muted" href=# role=button id=select-version data-toggle=dropdown aria-haspopup=true aria-expanded=false> Версия: <span class=text-light>последняя</span> </a> <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby=select-version> <a href=/docs/ru/ class="dropdown-item disable"> <span class=text-light>последняя</span> </a> <a href=/docs/v20.3/ru/ class=dropdown-item>v20.3</a> <a href=/docs/v20.1/ru/ class=dropdown-item>v20.1</a> <a href=/docs/v19.17/ru/ class=dropdown-item>v19.17</a> <a href=/docs/v19.16/ru/ class=dropdown-item>v19.16</a> <a href=/docs/v19.15/ru/ class=dropdown-item>v19.15</a> <a href=/docs/v19.14/ru/ class=dropdown-item>v19.14</a> <a href=/docs/v19.13/ru/ class=dropdown-item>v19.13</a> <a href=/docs/v19.11/ru/ class=dropdown-item>v19.11</a> <a href=/docs/v19.10/ru/ class=dropdown-item>v19.10</a> <a href=/docs/v19.9/ru/ class=dropdown-item>v19.9</a> <a href=/docs/v19.8/ru/ class=dropdown-item>v19.8</a> </div> </div> <nav id=sidebar-nav class="nav flex-column mb-5"> <a href=#sidebar-sidebar-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-1 title=Introduction class="nav-link text-light text-wrap dropdown-toggle px-0">Introduction</a> <div id=sidebar-sidebar-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../introduction/ title=Introduction class="nav-link text-light text-wrap d-inline-block w-100 px-0">Introduction</a> <a href=../../../introduction/info/ title="Информационная поддержка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Информационная поддержка</a> <a href=../../../introduction/history/ title="История ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">История ClickHouse</a> <a href=../../../introduction/features_considered_disadvantages/ title="Особенности ClickHouse, которые могут считаться недостатками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Особенности ClickHouse, которые могут считаться недостатками</a> <a href=../../../introduction/distinctive_features/ title="Отличительные возможности ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Отличительные возможности ClickHouse</a> <a href=../../../introduction/performance/ title=Производительность class="nav-link text-light text-wrap d-inline-block w-100 px-0">Производительность</a> <a href=../../../introduction/adopters/ title="Усыновители ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Усыновители ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2 title=Engines class="nav-link text-light text-wrap dropdown-toggle px-0">Engines</a> <div id=sidebar-sidebar-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/ title=Engines class="nav-link text-light text-wrap d-inline-block w-100 px-0">Engines</a> <a href=#sidebar-sidebar-2-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-2 title="Движки баз данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки баз данных</a> <div id=sidebar-sidebar-2-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/database_engines/lazy/ title=Lazy class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lazy</a> <a href=../../../engines/database_engines/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/database_engines/ title="Движки баз данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Движки баз данных</a> </nav> </div> <a href=#sidebar-sidebar-2-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3 title="Движки таблиц" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки таблиц</a> <div id=sidebar-sidebar-2-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-2-3-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-1 title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a> <div id=sidebar-sidebar-2-3-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/mergetree_family/ title="MergeTree Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree Family</a> <a href=../../../engines/table_engines/mergetree_family/aggregatingmergetree/ title=AggregatingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/collapsingmergetree/ title=CollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/graphitemergetree/ title=GraphiteMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/mergetree/ title=MergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a> <a href=../../../engines/table_engines/mergetree_family/replacingmergetree/ title=ReplacingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/summingmergetree/ title=SummingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a> <a href=../../../engines/table_engines/mergetree_family/custom_partitioning_key/ title="Произвольный ключ партиционирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Произвольный ключ партиционирования</a> <a href=../../../engines/table_engines/mergetree_family/replication/ title="Репликация данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Репликация данных</a> </nav> </div> <a href=#sidebar-sidebar-2-3-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-2 title="Log Family" class="nav-link text-light text-wrap dropdown-toggle px-0">Log Family</a> <div id=sidebar-sidebar-2-3-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/log_family/ title="Log Family" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log Family</a> <a href=../../../engines/table_engines/log_family/log/ title=Log class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a> <a href=../../../engines/table_engines/log_family/stripelog/ title=StripeLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a> <a href=../../../engines/table_engines/log_family/tinylog/ title=TinyLog class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a> <a href=../../../engines/table_engines/log_family/log_family/ title="Семейство Log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Семейство Log</a> </nav> </div> <a href=#sidebar-sidebar-2-3-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-3 title=Integrations class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a> <div id=sidebar-sidebar-2-3-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/integrations/ title=Integrations class="nav-link text-light text-wrap d-inline-block w-100 px-0">Integrations</a> <a href=../../../engines/table_engines/integrations/hdfs/ title=HDFS class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a> <a href=../../../engines/table_engines/integrations/jdbc/ title=JDBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a> <a href=../../../engines/table_engines/integrations/kafka/ title=Kafka class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a> <a href=../../../engines/table_engines/integrations/mysql/ title=MySQL class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a> <a href=../../../engines/table_engines/integrations/odbc/ title=ODBC class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a> </nav> </div> <a href=#sidebar-sidebar-2-3-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-2-3-4 title=Special class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a> <div id=sidebar-sidebar-2-3-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../engines/table_engines/special/ title=Special class="nav-link text-light text-wrap d-inline-block w-100 px-0">Special</a> <a href=../../../engines/table_engines/special/buffer/ title=Buffer class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a> <a href=../../../engines/table_engines/special/dictionary/ title=Dictionary class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a> <a href=../../../engines/table_engines/special/distributed/ title=Distributed class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a> <a href=../../../engines/table_engines/special/file/ title=File(Format) class="nav-link text-light text-wrap d-inline-block w-100 px-0">File(Format)</a> <a href=../../../engines/table_engines/special/generate/ title=GenerateRandom class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a> <a href=../../../engines/table_engines/special/join/ title=Join class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a> <a href=../../../engines/table_engines/special/materializedview/ title=MaterializedView class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a> <a href=../../../engines/table_engines/special/memory/ title=Memory class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a> <a href=../../../engines/table_engines/special/merge/ title=Merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a> <a href=../../../engines/table_engines/special/null/ title=Null class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a> <a href=../../../engines/table_engines/special/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../../engines/table_engines/special/url/ title="URL(URL, Format)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL(URL, Format)</a> <a href=../../../engines/table_engines/special/view/ title=View class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a> <a href=../../../engines/table_engines/special/external_data/ title="Внешние данные для обработки запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние данные для обработки запроса</a> </nav> </div> <a href=../../../engines/table_engines/ title="Движки таблиц" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Движки таблиц</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-3 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-3 title=Commercial class="nav-link text-light text-wrap dropdown-toggle px-0">Commercial</a> <div id=sidebar-sidebar-3 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../commercial/ title=Commercial class="nav-link text-light text-wrap d-inline-block w-100 px-0">Commercial</a> <a href=../../../commercial/cloud/ title="Поставщики облачных услуг ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Поставщики облачных услуг ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-4 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4 title="What's New" class="nav-link text-light text-wrap dropdown-toggle px-0">What's New</a> <div id=sidebar-sidebar-4 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/ title="What's New" class="nav-link text-light text-wrap d-inline-block w-100 px-0">What's New</a> <a href=#sidebar-sidebar-4-2 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-4-2 title=Changelog class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a> <div id=sidebar-sidebar-4-2 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../whats_new/changelog/ title=2020 class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a> <a href=../../../whats_new/changelog/2017/ title="ClickHouse релиз 1.1.54327, 2017-12-21" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">ClickHouse релиз 1.1.54327, 2017-12-21</a> <a href=../../../whats_new/changelog/2018/ title="ClickHouse релиз 18.16" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse релиз 18.16</a> <a href=../../../whats_new/changelog/2019/ title="Релиз ClickHouse в19.17" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Релиз ClickHouse в19.17</a> </nav> </div> <a href=../../../whats_new/roadmap/ title="Дорожная карта" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Дорожная карта</a> <a href=../../../whats_new/security_changelog/ title="Исправлено в релизе 19.14.3.3, 2019-09-10" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Исправлено в релизе 19.14.3.3, 2019-09-10</a> </nav> </div> <a href=#sidebar-sidebar-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-5 title=F.A.Q. class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a> <div id=sidebar-sidebar-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../faq/ title=F.A.Q. class="nav-link text-light text-wrap d-inline-block w-100 px-0">F.A.Q.</a> <a href=../../../faq/general/ title="Общие вопросы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общие вопросы</a> </nav> </div> <a href=../../../extended_roadmap/ title="Планы разработки ClickHouse 2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Планы разработки ClickHouse 2020</a> <a href=../../../ title="Что такое ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Что такое ClickHouse</a> <a href=#sidebar-sidebar-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8 title=Интерфейсы class="nav-link text-light text-wrap dropdown-toggle px-0">Интерфейсы</a> <div id=sidebar-sidebar-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-8-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-8-1 title=Third-Party class="nav-link text-light text-wrap dropdown-toggle px-0">Third-Party</a> <div id=sidebar-sidebar-8-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../interfaces/third-party/ title=Third-Party class="nav-link text-light text-wrap d-inline-block w-100 px-0">Third-Party</a> <a href=../../../interfaces/third-party/integrations/ title="Библиотеки для интеграции от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Библиотеки для интеграции от сторонних разработчиков</a> <a href=../../../interfaces/third-party/gui/ title="Визуальные интерфейсы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Визуальные интерфейсы от сторонних разработчиков</a> <a href=../../../interfaces/third-party/client_libraries/ title="Клиентские библиотеки от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиентские библиотеки от сторонних разработчиков</a> <a href=../../../interfaces/third-party/proxy/ title="Прокси-серверы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прокси-серверы от сторонних разработчиков</a> </nav> </div> <a href=../../../interfaces/cpp/ title="C++ клиентская библиотека" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ клиентская библиотека</a> <a href=../../../interfaces/http/ title=HTTP-интерфейс class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP-интерфейс</a> <a href=../../../interfaces/jdbc/ title=JDBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC-драйвер</a> <a href=../../../interfaces/mysql/ title=MySQL-интерфейс class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL-интерфейс</a> <a href=../../../interfaces/odbc/ title=ODBC-драйвер class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC-драйвер</a> <a href=../../../interfaces/ title=Интерфейсы class="nav-link text-light text-wrap d-inline-block w-100 px-0">Интерфейсы</a> <a href=../../../interfaces/cli/ title="Клиент командной строки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиент командной строки</a> <a href=../../../interfaces/tcp/ title="Родной интерфейс (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Родной интерфейс (TCP)</a> <a href=../../../interfaces/formats/ title="Форматы входных и выходных данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Форматы входных и выходных данных</a> </nav> </div> <a href=#sidebar-sidebar-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9 title="Начало работы" class="nav-link text-light text-wrap dropdown-toggle px-0">Начало работы</a> <div id=sidebar-sidebar-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/playground/ title="ClickHouse Playground" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Playground</a> <a href=../../../getting_started/ title="Начало работы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Начало работы</a> <a href=../../../getting_started/install/ title=Установка class="nav-link text-light text-wrap d-inline-block w-100 px-0">Установка</a> <a href=../../../getting_started/tutorial/ title="Учебник По Клик-Хаусу" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Учебник По Клик-Хаусу</a> <a href=#sidebar-sidebar-9-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-9-5 title="Тестовые массивы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Тестовые массивы данных</a> <div id=sidebar-sidebar-9-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a> <a href=../../../getting_started/example_datasets/ontime/ title=OnTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a> <a href=../../../getting_started/example_datasets/star_schema/ title="Star Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Star Schema Benchmark</a> <a href=../../../getting_started/example_datasets/wikistat/ title=WikiStat class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a> <a href=../../../getting_started/example_datasets/metrica/ title="Анонимизированные данные Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Анонимизированные данные Яндекс.Метрики</a> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="Данные о такси в Нью-Йорке" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные о такси в Нью-Йорке</a> <a href=../../../getting_started/example_datasets/criteo/ title="Терабайт логов кликов от Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Терабайт логов кликов от Criteo</a> <a href=../../../getting_started/example_datasets/ title="Тестовые массивы данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Тестовые массивы данных</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-10 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-10 title="Разработка ClickHouse" class="nav-link text-light text-wrap dropdown-toggle px-0">Разработка ClickHouse</a> <div id=sidebar-sidebar-10 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../development/developer_instruction/ title="Если вы используете Windows" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Если вы используете Windows</a> <a href=../../../development/contrib/ title="Используемые сторонние библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Используемые сторонние библиотеки</a> <a href=../../../development/style/ title="Как писать код на C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как писать код на C++</a> <a href=../../../development/build/ title="Как построить ClickHouse для развития" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как построить ClickHouse для развития</a> <a href=../../../development/build_cross_osx/ title="Как построить ClickHouse на Linux для Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как построить ClickHouse на Linux для Mac OS X</a> <a href=../../../development/build_cross_arm/ title="Как построить ClickHouse на Linux для архитектуры AArch64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как построить ClickHouse на Linux для архитектуры AArch64 (ARM64)</a> <a href=../../../development/build_osx/ title="Как построить ClickHouse на Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как построить ClickHouse на Mac OS X</a> <a href=../../../development/browse_code/ title="Навигация по коду ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Навигация по коду ClickHouse</a> <a href=../../../development/architecture/ title="Обзор архитектуры ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор архитектуры ClickHouse</a> <a href=../../../development/ title="Разработка ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Разработка ClickHouse</a> <a href=../../../development/tests/ title="Тестирование ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Тестирование ClickHouse</a> </nav> </div> <a href=#sidebar-sidebar-11 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-11 title=Руководства class="nav-link text-light text-wrap dropdown-toggle px-0">Руководства</a> <div id=sidebar-sidebar-11 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../guides/apply_catboost_model/ title="Применение модели CatBoost в ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Применение модели CatBoost в ClickHouse</a> <a href=../../../guides/ title=Руководства class="nav-link text-light text-wrap d-inline-block w-100 px-0">Руководства</a> </nav> </div> <a href=#sidebar-sidebar-12 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12 title="Справка по SQL" class="nav-link text-light text-wrap dropdown-toggle px-0">Справка по SQL</a> <div id=sidebar-sidebar-12 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-12-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-1 title=Statements class="nav-link text-light text-wrap dropdown-toggle px-0">Statements</a> <div id=sidebar-sidebar-12-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/statements/ title=Statements class="nav-link text-light text-wrap d-inline-block w-100 px-0">Statements</a> <a href=../../../sql_reference/statements/alter/ title=ALTER class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a> <a href=../../../sql_reference/statements/create/ title="CREATE DATABASE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE DATABASE</a> <a href=../../../sql_reference/statements/insert_into/ title=INSERT class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT</a> <a href=../../../sql_reference/statements/show/ title="SHOW Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW Queries</a> <a href=../../../sql_reference/statements/system/ title="Запросы SYSTEM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Запросы SYSTEM</a> <a href=../../../sql_reference/statements/misc/ title="Прочие виды запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие виды запросов</a> <a href=../../../sql_reference/statements/select/ title="Синтаксис запросов SELECT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Синтаксис запросов SELECT</a> </nav> </div> <a href=../../../sql_reference/operators/ title=Операторы class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы</a> <a href=../../../sql_reference/syntax/ title=Синтаксис class="nav-link text-light text-wrap d-inline-block w-100 px-0">Синтаксис</a> <a href=../../../sql_reference/ title="Справка по SQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Справка по SQL</a> <a href=#sidebar-sidebar-12-5 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-5 title="Агрегатные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Агрегатные функции</a> <div id=sidebar-sidebar-12-5 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/aggregate_functions/ title="Агрегатные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Агрегатные функции</a> <a href=../../../sql_reference/aggregate_functions/combinators/ title="Комбинаторы агрегатных функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Комбинаторы агрегатных функций</a> <a href=../../../sql_reference/aggregate_functions/parametric_functions/ title="Параметрические агрегатные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Параметрические агрегатные функции</a> <a href=../../../sql_reference/aggregate_functions/reference/ title="Справочник функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Справочник функций</a> </nav> </div> <a href=#sidebar-sidebar-12-6 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-6 title=Словари class="nav-link text-light text-wrap dropdown-toggle px-0">Словари</a> <div id=sidebar-sidebar-12-6 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-12-6-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-6-1 title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a> <div id=sidebar-sidebar-12-6-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/dictionaries/external_dictionaries/ title="External Dictionaries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">External Dictionaries</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts/ title="Внешние словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние словари</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_hierarchical/ title="Иерархические словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Иерархические словари</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_sources/ title="Источники внешних словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Источники внешних словарей</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_structure/ title="Ключ и поля словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ключ и поля словаря</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict/ title="Настройка внешнего словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройка внешнего словаря</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_lifetime/ title="Обновление словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление словарей</a> <a href=../../../sql_reference/dictionaries/external_dictionaries/external_dicts_dict_layout/ title="Хранение словарей в памяти" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Хранение словарей в памяти</a> </nav> </div> <a href=../../../sql_reference/dictionaries/internal_dicts/ title="Встроенные словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Встроенные словари</a> <a href=../../../sql_reference/dictionaries/ title=Словари class="nav-link text-light text-wrap d-inline-block w-100 px-0">Словари</a> </nav> </div> <a href=#sidebar-sidebar-12-7 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-7 title="Табличные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Табличные функции</a> <div id=sidebar-sidebar-12-7 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/table_functions/file/ title=file class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a> <a href=../../../sql_reference/table_functions/generate/ title=generate class="nav-link text-light text-wrap d-inline-block w-100 px-0">generate</a> <a href=../../../sql_reference/table_functions/hdfs/ title=hdfs class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a> <a href=../../../sql_reference/table_functions/input/ title=input class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a> <a href=../../../sql_reference/table_functions/jdbc/ title=jdbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a> <a href=../../../sql_reference/table_functions/merge/ title=merge class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a> <a href=../../../sql_reference/table_functions/mysql/ title=mysql class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a> <a href=../../../sql_reference/table_functions/numbers/ title=numbers class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a> <a href=../../../sql_reference/table_functions/odbc/ title=odbc class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a> <a href=../../../sql_reference/table_functions/remote/ title="remote, remoteSecure" class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote, remoteSecure</a> <a href=../../../sql_reference/table_functions/url/ title=url class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a> <a href=../../../sql_reference/table_functions/ title="Табличные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Табличные функции</a> </nav> </div> <a href=#sidebar-sidebar-12-8 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-8 title="Типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Типы данных</a> <div id=sidebar-sidebar-12-8 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-12-8-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-8-1 title=Domains class="nav-link text-light text-wrap dropdown-toggle px-0">Domains</a> <div id=sidebar-sidebar-12-8-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/domains/ title=Domains class="nav-link text-light text-wrap d-inline-block w-100 px-0">Domains</a> <a href=../../../sql_reference/data_types/domains/ipv4/ title=IPv4 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a> <a href=../../../sql_reference/data_types/domains/ipv6/ title=IPv6 class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a> <a href=../../../sql_reference/data_types/domains/overview/ title=Домены class="nav-link text-light text-wrap d-inline-block w-100 px-0">Домены</a> </nav> </div> <a href=../../../sql_reference/data_types/aggregatefunction/ title="AggregateFunction(name, types\_of\_arguments…)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types\_of\_arguments…)</a> <a href=../../../sql_reference/data_types/array/ title=Array(T) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a> <a href=../../../sql_reference/data_types/date/ title=Date class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a> <a href=../../../sql_reference/data_types/datetime/ title=DateTime class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a> <a href=../../../sql_reference/data_types/datetime64/ title=DateTime64 class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a> <a href=../../../sql_reference/data_types/decimal/ title="Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)</a> <a href=../../../sql_reference/data_types/enum/ title=Enum class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a> <a href=../../../sql_reference/data_types/fixedstring/ title=FixedString class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString</a> <a href=../../../sql_reference/data_types/float/ title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a> <a href=../../../sql_reference/data_types/nullable/ title=Nullable(TypeName) class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable(TypeName)</a> <a href=../../../sql_reference/data_types/string/ title=String class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a> <a href=../../../sql_reference/data_types/tuple/ title="Tuple(T1, T2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, …)</a> <a href=../../../sql_reference/data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a> <a href=../../../sql_reference/data_types/uuid/ title=UUID class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a> <a href=../../../sql_reference/data_types/boolean/ title="Булевы значения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Булевы значения</a> <a href=../../../sql_reference/data_types/ title="Типы данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Типы данных</a> <a href=#sidebar-sidebar-12-8-18 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-8-18 title="Вложенные структуры данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Вложенные структуры данных</a> <div id=sidebar-sidebar-12-8-18 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, …)</a> <a href=../../../sql_reference/data_types/nested_data_structures/ title="Вложенные структуры данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Вложенные структуры данных</a> </nav> </div> <a href=#sidebar-sidebar-12-8-19 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-8-19 title="Служебные типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Служебные типы данных</a> <div id=sidebar-sidebar-12-8-19 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/data_types/special_data_types/expression/ title=Expression class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a> <a href=../../../sql_reference/data_types/special_data_types/interval/ title=Interval class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a> <a href=../../../sql_reference/data_types/special_data_types/nothing/ title=Nothing class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a> <a href=../../../sql_reference/data_types/special_data_types/set/ title=Set class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a> <a href=../../../sql_reference/data_types/special_data_types/ title="Служебные типы данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Служебные типы данных</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-12-9 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-12-9 title=Функции class="nav-link text-light text-wrap dropdown-toggle px-0">Функции</a> <div id=sidebar-sidebar-12-9 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../sql_reference/functions/arithmetic_functions/ title="Арифметические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Арифметические функции</a> <a href=../../../sql_reference/functions/bit_functions/ title="Битовые функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Битовые функции</a> <a href=../../../sql_reference/functions/logical_functions/ title="Логические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Логические функции</a> <a href=../../../sql_reference/functions/math_functions/ title="Математические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Математические функции</a> <a href=../../../sql_reference/functions/other_functions/ title="Прочие функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие функции</a> <a href=../../../sql_reference/functions/conditional_functions/ title="Условные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Условные функции</a> <a href=../../../sql_reference/functions/ title=Функции class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции</a> <a href=../../../sql_reference/functions/higher_order_functions/ title="Функции высшего порядка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции высшего порядка</a> <a href=../../../sql_reference/functions/random_functions/ title="Функции генерации псевдослучайных чисел" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции генерации псевдослучайных чисел</a> <a href=../../../sql_reference/functions/bitmap_functions/ title="Функции для битмапов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для битмапов</a> <a href=../../../sql_reference/functions/ip_address_functions/ title="Функции для работы с IP-адресами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с IP-адресами</a> <a href=../../../sql_reference/functions/json_functions/ title="Функции для работы с JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с JSON</a> <a href=../../../sql_reference/functions/functions_for_nulls/ title="Функции для работы с Nullable-аргументами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с Nullable-аргументами</a> <a href=../../../sql_reference/functions/url_functions/ title="Функции для работы с URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с URL</a> <a href=../../../sql_reference/functions/uuid_functions/ title="Функции для работы с UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с UUID</a> <a href=../../../sql_reference/functions/ext_dict_functions/ title="Функции для работы с внешними словарями" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с внешними словарями</a> <a href=../../../sql_reference/functions/geo/ title="Функции для работы с географическими координатами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с географическими координатами</a> <a href=../../../sql_reference/functions/date_time_functions/ title="Функции для работы с датами и временем" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с датами и временем</a> <a href=../../../sql_reference/functions/ym_dict_functions/ title="Функции для работы со словарями Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со словарями Яндекс.Метрики</a> <a href=../../../sql_reference/functions/string_functions/ title="Функции для работы со строками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со строками</a> <a href=../../../sql_reference/functions/in_functions/ title="Функции для реализации оператора IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для реализации оператора IN</a> <a href=../../../sql_reference/functions/introspection/ title="Функции интроспекции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции интроспекции</a> <a href=../../../sql_reference/functions/encoding_functions/ title="Функции кодирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции кодирования</a> <a href=../../../sql_reference/functions/machine_learning_functions/ title="Функции машинного обучения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции машинного обучения</a> <a href=../../../sql_reference/functions/rounding_functions/ title="Функции округления" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции округления</a> <a href=../../../sql_reference/functions/array_functions/ title="Функции по работе с массивами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции по работе с массивами</a> <a href=../../../sql_reference/functions/string_search_functions/ title="Функции поиска в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска в строках</a> <a href=../../../sql_reference/functions/string_replace_functions/ title="Функции поиска и замены в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска и замены в строках</a> <a href=../../../sql_reference/functions/type_conversion_functions/ title="Функции преобразования типов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции преобразования типов</a> <a href=../../../sql_reference/functions/splitting_merging_functions/ title="Функции разбиения и слияния строк и массивов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции разбиения и слияния строк и массивов</a> <a href=../../../sql_reference/functions/comparison_functions/ title="Функции сравнения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции сравнения</a> <a href=../../../sql_reference/functions/hash_functions/ title="Функции хэширования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции хэширования</a> <a href=../../../sql_reference/functions/array_join/ title="Функция arrayJoin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функция arrayJoin</a> </nav> </div> </nav> </div> <a href=#sidebar-sidebar-13 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-13 title=Эксплуатация class="nav-link text-light text-wrap dropdown-toggle px-0">Эксплуатация</a> <div id=sidebar-sidebar-13 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=#sidebar-sidebar-13-1 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-13-1 title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a> <div id=sidebar-sidebar-13-1 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/optimizing_performance/ title="Optimizing Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Optimizing Performance</a> <a href=../../../operations/optimizing_performance/sampling_query_profiler/ title="Выборки Профилировщик Запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Выборки Профилировщик Запросов</a> </nav> </div> <a href=../../../operations/performance_test/ title="Как Протестировать Ваше Оборудование С Помощью ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как Протестировать Ваше Оборудование С Помощью ClickHouse</a> <a href=../../../operations/quotas/ title=Квоты class="nav-link text-light text-wrap d-inline-block w-100 px-0">Квоты</a> <a href=../../../operations/configuration_files/ title="Конфигурационные файлы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные файлы</a> <a href=../../../operations/monitoring/ title=Мониторинг class="nav-link text-light text-wrap d-inline-block w-100 px-0">Мониторинг</a> <a href=../../../operations/update/ title="Обновление ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление ClickHouse</a> <a href=../../../operations/access_rights/ title="Права доступа" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Права доступа</a> <a href=../../../operations/backup/ title="Резервное копирование данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Резервное копирование данных</a> <a href=../../../operations/system_tables/ title="Системные таблицы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Системные таблицы</a> <a href=../../../operations/tips/ title="Советы по эксплуатации" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Советы по эксплуатации</a> <a href=../../../operations/requirements/ title=Требования class="nav-link text-light text-wrap d-inline-block w-100 px-0">Требования</a> <a href=../../../operations/troubleshooting/ title="Устранение неисправностей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Устранение неисправностей</a> <a href=../../../operations/ title=Эксплуатация class="nav-link text-light text-wrap d-inline-block w-100 px-0">Эксплуатация</a> <a href=#sidebar-sidebar-13-14 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-13-14 title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap dropdown-toggle px-0">Конфигурационные параметры сервера</a> <div id=sidebar-sidebar-13-14 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/server_configuration_parameters/settings/ title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные параметры сервера</a> </nav> </div> <a href=#sidebar-sidebar-13-15 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-13-15 title=Настройки class="nav-link text-light text-wrap dropdown-toggle px-0">Настройки</a> <div id=sidebar-sidebar-13-15 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/settings/settings/ title=Настройки class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки</a> <a href=../../../operations/settings/settings_users/ title="Настройки пользователей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки пользователей</a> <a href=../../../operations/settings/constraints_on_settings/ title="Ограничения на изменение настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на изменение настроек</a> <a href=../../../operations/settings/query_complexity/ title="Ограничения на сложность запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на сложность запроса</a> <a href=../../../operations/settings/settings_profiles/ title="Профили настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Профили настроек</a> <a href=../../../operations/settings/permissions_for_queries/ title="Разрешения для запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Разрешения для запросов</a> </nav> </div> <a href=#sidebar-sidebar-13-16 data-toggle=collapse aria-expanded=false aria-controls=sidebar-sidebar-13-16 title="Утилиты ClickHouse" class="nav-link text-light text-wrap dropdown-toggle px-0">Утилиты ClickHouse</a> <div id=sidebar-sidebar-13-16 class="nav flex-column collapse"> <nav class="nav flex-column pl-2"> <a href=../../../operations/utilities/clickhouse-copier/ title=clickhouse-copier class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a> <a href=../../../operations/utilities/clickhouse-local/ title=clickhouse-local class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a> <a href=../../../operations/utilities/clickhouse-benchmark/ title=clickhouse-бенчмарк class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-бенчмарк</a> <a href=../../../operations/utilities/ title="Утилиты ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Утилиты ClickHouse</a> </nav> </div> </nav> </div> <a href=../../../single/clickhouse_ru.pdf class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light"> <img src=/images/mkdocs/pdf.svg alt=PDF-версия title=PDF-версия height=24 class="d-block mr-1 float-left"><div>PDF-версия</div> </a> </nav> </div> </div> <div id=content-wrapper class="col-md-8 p-2 p-md-5"> <div id=content> <div class="alert alert-primary" role=alert> <p class="display-5 mb-2">Помощь нужна!</p> <p class=lead>Следующее содержание этой страницы документации было переведено на машинный язык. Но в отличие от других сайтов, это делается не на лету. Этот переведенный текст живет в репозитории GitHub вместе с основной кодовой базой ClickHouse и ждет, когда другие носители языка сделают его более удобочитаемым для человека.</p> <p class=lead> <a class="btn btn-lg btn-primary text-white" href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/whats_new/changelog/2017.md target=_blank rel="external nofollow noreferrer"> Помогите документации ClickHouse, отредактировав эту страницу </a> </p> </div> <h3 id=clickhouse-release-1-1-54327-2017-12-21>ClickHouse релиз 1.1.54327, 2017-12-21<a class=headerlink href=#clickhouse-release-1-1-54327-2017-12-21 title="Permanent link">&para;</a></h3> <p>Этот выпуск содержит исправления ошибок для предыдущей версии 1.1.54318:</p> <ul> <li>Исправлена ошибка с возможным состоянием гонки в репликации, которая могла привести к потере данных. Эта проблема затрагивает версии 1.1.54310 и 1.1.54318. Если вы используете одну из этих версий с Реплицированными таблицами, настоятельно рекомендуется обновить ее. Эта проблема отображается в журналах в предупреждающих сообщениях, таких как <code>Part ... from own log doesn't exist.</code> Эта проблема актуальна, даже если вы не видите эти сообщения в журналах.</li> </ul> <h3 id=clickhouse-release-1-1-54318-2017-11-30>ClickHouse релиз 1.1.54318, 2017-11-30<a class=headerlink href=#clickhouse-release-1-1-54318-2017-11-30 title="Permanent link">&para;</a></h3> <p>Этот выпуск содержит исправления ошибок для предыдущей версии 1.1.54310:</p> <ul> <li>Исправлено некорректное удаление строк при слияниях в движке SummingMergeTree</li> <li>Исправлена утечка памяти в несложных движках MergeTree</li> <li>Исправлено снижение производительности при частых вставках в двигатели MergeTree</li> <li>Исправлена ошибка, из-за которой очередь репликации останавливалась</li> <li>Исправлена ротация и архивация журналов сервера</li> </ul> <h3 id=clickhouse-release-1-1-54310-2017-11-01>ClickHouse релиз 1.1.54310, 2017-11-01<a class=headerlink href=#clickhouse-release-1-1-54310-2017-11-01 title="Permanent link">&para;</a></h3> <h4 id=new-features>Новые средства:<a class=headerlink href=#new-features title="Permanent link">&para;</a></h4> <ul> <li>Пользовательский ключ секционирования для семейства движков таблиц MergeTree.</li> <li><a href=https://clickhouse.yandex/docs/en/operations/table_engines/kafka/ rel="external nofollow noreferrer">Кафка</a> настольный двигатель.</li> <li>Добавлена поддержка загрузки <a href=https://catboost.yandex/ rel="external nofollow noreferrer">CatBoost</a> модели и их применение к данным, хранящимся в ClickHouse.</li> <li>Добавлена поддержка часовых поясов с нецелочисленными смещениями от UTC.</li> <li>Добавлена поддержка арифметических операций с временными интервалами.</li> <li>Диапазон значений для типов Date и DateTime расширен до 2105 года.</li> <li>Добавил тот <code>CREATE MATERIALIZED VIEW x TO y</code> запрос (указывает существующую таблицу для хранения данных материализованного представления).</li> <li>Добавил тот <code>ATTACH TABLE</code> запрос без аргументов.</li> <li>Логика обработки вложенных столбцов с именами, оканчивающимися на-Map в таблице SummingMergeTree, была извлечена в агрегатную функцию sumMap. Теперь вы можете указать такие столбцы явно.</li> <li>Максимальный размер словаря IP trie увеличен до 128 миллионов записей.</li> <li>Добавлена функция getSizeOfEnumType.</li> <li>Добавлена агрегатная функция sumWithOverflow.</li> <li>Добавлена поддержка формата ввода Cap'n Proto.</li> <li>Теперь вы можете настроить уровень сжатия при использовании алгоритма zstd.</li> </ul> <h4 id=backward-incompatible-changes>Назад несовместимые изменения:<a class=headerlink href=#backward-incompatible-changes title="Permanent link">&para;</a></h4> <ul> <li>Создание временных таблиц с движком, отличным от памяти, не допускается.</li> <li>Явное создание таблиц с помощью движка View или MaterializedView не допускается.</li> <li>Во время создания таблицы новая проверка проверяет, что выражение ключа выборки включено в первичный ключ.</li> </ul> <h4 id=bug-fixes>Устранение ошибок:<a class=headerlink href=#bug-fixes title="Permanent link">&para;</a></h4> <ul> <li>Исправлены зависания при синхронной вставке в распределенную таблицу.</li> <li>Исправлено неатомное добавление и удаление деталей в реплицируемых таблицах.</li> <li>Данные, вставленные в материализованное представление, не подвергаются ненужной дедупликации.</li> <li>Выполнение запроса к распределенной таблице, для которой локальная реплика отстает, а удаленные реплики недоступны, больше не приводит к ошибке.</li> <li>Пользователям не нужны разрешения на доступ к <code>default</code> база данных для создания временных таблиц больше не существует.</li> <li>Исправлен сбой при указании типа массива без аргументов.</li> <li>Исправлены зависания, когда дисковый том, содержащий журналы сервера, заполнен.</li> <li>Исправлено переполнение в функции toRelativeWeekNum для первой недели эпохи Unix.</li> </ul> <h4 id=build-improvements>Улучшения сборки:<a class=headerlink href=#build-improvements title="Permanent link">&para;</a></h4> <ul> <li>Несколько сторонних библиотек (особенно Poco) были обновлены и преобразованы в подмодули git.</li> </ul> <h3 id=clickhouse-release-1-1-54304-2017-10-19>ClickHouse релиз 1.1.54304, 2017-10-19<a class=headerlink href=#clickhouse-release-1-1-54304-2017-10-19 title="Permanent link">&para;</a></h3> <h4 id=new-features-1>Новые средства:<a class=headerlink href=#new-features-1 title="Permanent link">&para;</a></h4> <ul> <li>Поддержка TLS в собственном протоколе (чтобы включить, установите <code>tcp_ssl_port</code> в <code>config.xml</code> ).</li> </ul> <h4 id=bug-fixes-1>Устранение ошибок:<a class=headerlink href=#bug-fixes-1 title="Permanent link">&para;</a></h4> <ul> <li><code>ALTER</code> для реплицированных таблиц теперь пытается начать работать как можно скорее.</li> <li>Исправлен сбой при чтении данных с настройкой <code>preferred_block_size_bytes=0.</code></li> <li>Исправлены сбои в работе <code>clickhouse-client</code> при нажатии на кнопку <code>Page Down</code></li> <li>Правильная интерпретация некоторых сложных запросов с помощью <code>GLOBAL IN</code> и <code>UNION ALL</code></li> <li><code>FREEZE PARTITION</code> теперь он всегда работает атомарно.</li> <li>Пустые почтовые запросы теперь возвращают ответ с кодом 411.</li> <li>Исправлены ошибки интерпретации таких выражений, как <code>CAST(1 AS Nullable(UInt8)).</code></li> <li>Исправлена ошибка при чтении <code>Array(Nullable(String))</code> колонки от <code>MergeTree</code> таблицы.</li> <li>Исправлен сбой при разборе таких запросов, как <code>SELECT dummy AS dummy, dummy AS b</code></li> <li>Пользователи обновляются правильно с недопустимым <code>users.xml</code></li> <li>Правильная обработка, когда исполняемый словарь возвращает ненулевой код ответа.</li> </ul> <h3 id=clickhouse-release-1-1-54292-2017-09-20>ClickHouse релиз 1.1.54292, 2017-09-20<a class=headerlink href=#clickhouse-release-1-1-54292-2017-09-20 title="Permanent link">&para;</a></h3> <h4 id=new-features-2>Новые средства:<a class=headerlink href=#new-features-2 title="Permanent link">&para;</a></h4> <ul> <li>Добавил тот <code>pointInPolygon</code> функция для работы с координатами на координатной плоскости.</li> <li>Добавил тот <code>sumMap</code> агрегатная функция для вычисления суммы массивов, аналогичная <code>SummingMergeTree</code>.</li> <li>Добавил тот <code>trunc</code> функция. Улучшена производительность функций округления (<code>round</code>, <code>floor</code>, <code>ceil</code>, <code>roundToExp2</code>) и скорректировал логику их работы. Поменялась логика игры <code>roundToExp2</code> функция для дробей и отрицательных чисел.</li> <li>Исполняемый файл ClickHouse теперь меньше зависит от версии libc. Один и тот же исполняемый файл ClickHouse может работать на самых разных системах Linux. Существует еще зависимость при использовании скомпилированных запросов (с настройкой <code>compile = 1</code> , который не используется по умолчанию).</li> <li>Сократилось время, необходимое для динамической компиляции запросов.</li> </ul> <h4 id=bug-fixes-2>Устранение ошибок:<a class=headerlink href=#bug-fixes-2 title="Permanent link">&para;</a></h4> <ul> <li>Исправлена ошибка, которая иногда производилась <code>part ... intersects previous part</code> сообщения и ослабленная согласованность реплик.</li> <li>Исправлена ошибка, из-за которой сервер блокировался, если ZooKeeper был недоступен во время завершения работы.</li> <li>Удалено избыточное ведение журнала при восстановлении реплик.</li> <li>Исправлена ошибка в объединении всех реализаций.</li> <li>Исправлена ошибка в функции concat, возникшая, если первый столбец в блоке имеет тип массива.</li> <li>Прогресс теперь отображается в системе правильно.таблица слияний.</li> </ul> <h3 id=clickhouse-release-1-1-54289-2017-09-13>ClickHouse релиз 1.1.54289, 2017-09-13<a class=headerlink href=#clickhouse-release-1-1-54289-2017-09-13 title="Permanent link">&para;</a></h3> <h4 id=new-features-3>Новые средства:<a class=headerlink href=#new-features-3 title="Permanent link">&para;</a></h4> <ul> <li><code>SYSTEM</code> запросы для администрирования сервера: <code>SYSTEM RELOAD DICTIONARY</code>, <code>SYSTEM RELOAD DICTIONARIES</code>, <code>SYSTEM DROP DNS CACHE</code>, <code>SYSTEM SHUTDOWN</code>, <code>SYSTEM KILL</code>.</li> <li>Добавлены функции для работы с массивами: <code>concat</code>, <code>arraySlice</code>, <code>arrayPushBack</code>, <code>arrayPushFront</code>, <code>arrayPopBack</code>, <code>arrayPopFront</code>.</li> <li>Добавлен <code>root</code> и <code>identity</code> параметры для конфигурации ZooKeeper. Это позволяет изолировать отдельных пользователей в одном кластере ZooKeeper.</li> <li>Добавлены статистические функции <code>groupBitAnd</code>, <code>groupBitOr</code>, и <code>groupBitXor</code> (для совместимости они также доступны под названиями <code>BIT_AND</code>, <code>BIT_OR</code>, и <code>BIT_XOR</code>).</li> <li>Внешние словари можно загрузить из MySQL, указав сокет в файловой системе.</li> <li>Внешние словари могут быть загружены из MySQL по протоколу SSL (<code>ssl_cert</code>, <code>ssl_key</code>, <code>ssl_ca</code> параметры).</li> <li>Добавил тот <code>max_network_bandwidth_for_user</code> настройка для ограничения общего использования полосы пропускания для запросов на одного пользователя.</li> <li>Поддержка <code>DROP TABLE</code> для временных таблиц.</li> <li>Поддержка чтения <code>DateTime</code> значения в формате временных меток Unix от <code>CSV</code> и <code>JSONEachRow</code> форматы.</li> <li>Запаздывающие реплики в распределенных запросах теперь исключаются по умолчанию (пороговое значение по умолчанию-5 минут).</li> <li>Блокировка FIFO используется во время ALTER: запрос ALTER не блокируется бесконечно для непрерывно выполняемых запросов.</li> <li>Возможность установки <code>umask</code> в конфигурационном файле.</li> <li>Улучшенная производительность для запросов с помощью <code>DISTINCT</code> .</li> </ul> <h4 id=bug-fixes-3>Устранение ошибок:<a class=headerlink href=#bug-fixes-3 title="Permanent link">&para;</a></h4> <ul> <li>Улучшен процесс удаления старых узлов в ZooKeeper. Раньше старые узлы иногда не удалялись, если были очень частые вставки, что приводило к медленному завершению работы сервера, среди прочего.</li> <li>Исправлена рандомизация при выборе хостов для подключения к ZooKeeper.</li> <li>Исправлено исключение запаздывающих реплик в распределенных запросах, если реплика является localhost.</li> <li>Исправлена ошибка, когда часть данных в a <code>ReplicatedMergeTree</code> стол может быть сломан после запуска <code>ALTER MODIFY</code> на элементе в <code>Nested</code> структура.</li> <li>Исправлена ошибка, которая могла привести к тому, что запросы SELECT «hang».</li> <li>Улучшения в распределенных DDL-запросах.</li> <li>Исправлен запрос <code>CREATE TABLE ... AS &lt;materialized view&gt;</code>.</li> <li>Разрешен тупик в работе <code>ALTER ... CLEAR COLUMN IN PARTITION</code> запрос для <code>Buffer</code> таблицы.</li> <li>Исправлено недопустимое значение по умолчанию для <code>Enum</code> s (0 вместо минимума) при использовании <code>JSONEachRow</code> и <code>TSKV</code> форматы.</li> <li>Разрешен внешний вид зомби-процессов при использовании словаря с помощью <code>executable</code> источник.</li> <li>Исправлена обработка выхода онлайн / оффлайн для запроса.</li> </ul> <h4 id=improved-workflow-for-developing-and-assembling-clickhouse>Улучшен рабочий процесс разработки и сборки ClickHouse:<a class=headerlink href=#improved-workflow-for-developing-and-assembling-clickhouse title="Permanent link">&para;</a></h4> <ul> <li>Вы можете использовать <code>pbuilder</code> чтобы построить ClickHouse.</li> <li>Вы можете использовать <code>libc++</code> вместо <code>libstdc++</code> для сборок на Linux.</li> <li>Добавлены инструкции по использованию инструментов статического анализа кода: <code>Coverage</code>, <code>clang-tidy</code>, <code>cppcheck</code>.</li> </ul> <h4 id=please-note-when-upgrading>Пожалуйста, обратите внимание при обновлении:<a class=headerlink href=#please-note-when-upgrading title="Permanent link">&para;</a></h4> <ul> <li>Теперь существует более высокое значение по умолчанию для параметра MergeTree <code>max_bytes_to_merge_at_max_space_in_pool</code> (максимальный общий размер частей данных для слияния, в байтах): он увеличился со 100 гигабайт до 150 гигабайт. Это может привести к большим слияниям, выполняемым после обновления сервера, что может привести к увеличению нагрузки на дисковую подсистему. Если свободное пространство, доступное на сервере, меньше чем в два раза общего объема выполняемых слияний, это приведет к остановке всех других слияний, включая слияния небольших частей данных. В результате запросы INSERT завершатся ошибкой с сообщением «Merges are processing significantly slower than inserts.» Используйте <code>SELECT * FROM system.merges</code> запрос на мониторинг ситуации. Вы также можете проверить следующее: <code>DiskSpaceReservedForMerge</code> метрика в системе <code>system.metrics</code> таблица, или в графите. Вам не нужно ничего делать, чтобы исправить это, так как проблема будет решена сама собой, как только большие слияния закончатся. Если вы сочтете это неприемлемым, вы можете восстановить предыдущее значение для <code>max_bytes_to_merge_at_max_space_in_pool</code> установка. Чтобы сделать это, перейдите в раздел <merge_tree> раздел в конфигурации.xml, набор <code>&lt;merge_tree&gt;``&lt;max_bytes_to_merge_at_max_space_in_pool&gt;107374182400&lt;/max_bytes_to_merge_at_max_space_in_pool&gt;</code> и перезагрузите сервер.</li> </ul> <h3 id=clickhouse-release-1-1-54284-2017-08-29>ClickHouse релиз 1.1.54284, 2017-08-29<a class=headerlink href=#clickhouse-release-1-1-54284-2017-08-29 title="Permanent link">&para;</a></h3> <ul> <li>Это исправленный выпуск для предыдущей версии 1.1.54282. Он исправляет утечки в каталоге запчастей в ZooKeeper.</li> </ul> <h3 id=clickhouse-release-1-1-54282-2017-08-23>ClickHouse релиз 1.1.54282, 2017-08-23<a class=headerlink href=#clickhouse-release-1-1-54282-2017-08-23 title="Permanent link">&para;</a></h3> <p>Этот выпуск содержит исправления ошибок для предыдущей версии 1.1.54276:</p> <ul> <li>Исправлено <code>DB::Exception: Assertion violation: !_path.empty()</code> при вставке в распределенную таблицу.</li> <li>Исправлен синтаксический анализ при вставке в формат RowBinary, если входные данные начинаются с';'.</li> <li>Errors during runtime compilation of certain aggregate functions (e.g. <code>groupArray()</code>).</li> </ul> <h3 id=clickhouse-release-1-1-54276-2017-08-16>Clickhouse Релиз 1.1.54276, 2017-08-16<a class=headerlink href=#clickhouse-release-1-1-54276-2017-08-16 title="Permanent link">&para;</a></h3> <h4 id=new-features-4>Новые средства:<a class=headerlink href=#new-features-4 title="Permanent link">&para;</a></h4> <ul> <li>Добавлен дополнительный раздел для запроса SELECT. Пример запроса: <code>WITH 1+1 AS a SELECT a, a*a</code></li> <li>Вставка может быть выполнена синхронно в распределенной таблице: OK возвращается только после того, как все данные сохранены на всех осколках. Это активируется установкой insert_distributed_sync=1.</li> <li>Добавлен тип данных UUID для работы с 16-байтовыми идентификаторами.</li> <li>Добавлены псевдонимы CHAR, FLOAT и других типов для совместимости с таблицей.</li> <li>Добавлены функции toYYYYMM, toYYYYMMDD и toYYYYMMDDhhmmss для преобразования времени в числа.</li> <li>Вы можете использовать IP-адреса (вместе с именем хоста) для идентификации серверов для кластеризованных запросов DDL.</li> <li>Добавлена поддержка непостоянных аргументов и отрицательных смещений в функции <code>substring(str, pos, len).</code></li> <li>Добавлен параметр max_size для <code>groupArray(max_size)(column)</code> агрегатная функция и оптимизированная ее производительность.</li> </ul> <h4 id=main-changes>Основное изменение:<a class=headerlink href=#main-changes title="Permanent link">&para;</a></h4> <ul> <li>Улучшения безопасности: все файлы сервера создаются с разрешениями 0640 (могут быть изменены с помощью <umask> параметр config).</li> <li>Улучшены сообщения об ошибках для запросов с неверным синтаксисом.</li> <li>Значительно сокращается потребление памяти и повышается производительность при слиянии больших разделов данных MergeTree.</li> <li>Значительно повысилась производительность слияний данных для заменяющего движка Mergetree.</li> <li>Улучшена производительность асинхронных вставок из распределенной таблицы за счет объединения нескольких исходных вставок. Чтобы включить эту функцию, используйте параметр distributed_directory_monitor_batch_inserts=1.</li> </ul> <h4 id=backward-incompatible-changes-1>Назад несовместимые изменения:<a class=headerlink href=#backward-incompatible-changes-1 title="Permanent link">&para;</a></h4> <ul> <li>Изменен двоичный формат агрегатных состояний <code>groupArray(array_column)</code> функции для массивов.</li> </ul> <h4 id=complete-list-of-changes>Полный список изменений:<a class=headerlink href=#complete-list-of-changes title="Permanent link">&para;</a></h4> <ul> <li>Добавил тот <code>output_format_json_quote_denormals</code> настройка, которая позволяет выводить значения nan и inf в формате JSON.</li> <li>Оптимизировано распределение потока при чтении из распределенной таблицы.</li> <li>Настройки можно настроить в режиме только для чтения, если значение не изменяется.</li> <li>Добавлена возможность извлечения нецелочисленных гранул движка MergeTree для выполнения ограничений на размер блока, указанных в параметре preferred_block_size_bytes. Цель состоит в том, чтобы уменьшить потребление оперативной памяти и увеличить локальность кэша при обработке запросов из таблиц с большими столбцами.</li> <li>Эффективное использование индексов, содержащих такие выражения, как <code>toStartOfHour(x)</code> для таких условий, как <code>toStartOfHour(x) op сonstexpr.</code></li> <li>Добавлены новые настройки для движков MergeTree (раздел merge_tree в config.XML):<ul> <li>replicated_deduplication_window_seconds задает количество секунд, разрешенных для дедуплицирующих вставок в реплицируемые таблицы.</li> <li>cleanup_delay_period устанавливает, как часто нужно запустить программу очистки, чтобы удалить устаревшие данные.</li> <li>replicated_can_become_leader может препятствовать тому, чтобы реплика становилась лидером (и назначала слияния).</li> </ul> </li> <li>Ускоренная очистка для удаления устаревших данных из ZooKeeper.</li> <li>Множество улучшений и исправлений для кластеризованных DDL-запросов. Особый интерес представляет новая настройка distributed_ddl_task_timeout, которая ограничивает время ожидания ответа от серверов в кластере. Если запрос ddl не был выполнен на всех хостах, ответ будет содержать ошибку таймаута, и запрос будет выполнен в асинхронном режиме.</li> <li>Улучшено отображение трассировок стека в журналах сервера.</li> <li>Добавил тот «none» значение для метода сжатия.</li> <li>Вы можете использовать несколько разделов dictionaries_config в config.XML.</li> <li>Можно подключиться к MySQL через сокет в файловой системе.</li> <li>Система.в таблице деталей появился новый столбец с информацией о размере меток, в байтах.</li> </ul> <h4 id=bug-fixes-4>Устранение ошибок:<a class=headerlink href=#bug-fixes-4 title="Permanent link">&para;</a></h4> <ul> <li>Распределенные таблицы, использующие таблицу слияния, теперь корректно работают для запроса SELECT с условием на <code>_table</code> поле.</li> <li>Исправлено редкое состояние гонки в ReplicatedMergeTree при проверке частей данных.</li> <li>Исправлена возможная заморозка на «leader election» при запуске сервера.</li> <li>Параметр max_replica_delay_for_distributed_queries был проигнорирован при использовании локальной реплики источника данных. Это было исправлено.</li> <li>Исправлено некорректное поведение <code>ALTER TABLE CLEAR COLUMN IN PARTITION</code> при попытке очистить несуществующий столбец.</li> <li>Исправлено исключение в функции multif при использовании пустых массивов или строк.</li> <li>Исправлено чрезмерное выделение памяти при десериализации собственного формата.</li> <li>Исправлено некорректное автоматическое обновление словарей Trie.</li> <li>Исправлено исключение при выполнении запросов с предложением GROUP BY из таблицы слияния при использовании SAMPLE.</li> <li>Исправлена ошибка, из группы при использовании distributed_aggregation_memory_efficient=1.</li> <li>Теперь вы можете указать базу данных.таблицы в правой стороне и присоединиться.</li> <li>Слишком много потоков было использовано для параллельной агрегации. Это было исправлено.</li> <li>Исправлено как то «if» функция работает с аргументами FixedString.</li> <li>Выберите из распределенной таблицы неправильно сработавшие осколки с весом 0. Это было исправлено.</li> <li>Бегущий <code>CREATE VIEW IF EXISTS no longer causes crashes.</code></li> <li>Исправлено некорректное поведение при установке input_format_skip_unknown_fields=1 и наличии отрицательных чисел.</li> <li>Исправлен бесконечный цикл в <code>dictGetHierarchy()</code> функция, если в словаре есть какие-то недопустимые данные.</li> <li>Исправлено <code>Syntax error: unexpected (...)</code> ошибки при выполнении распределенных запросов с вложенными запросами в предложении IN или JOIN и таблицах слияния.</li> <li>Исправлена неправильная интерпретация запроса SELECT из таблиц справочника.</li> <li>Исправлена ошибка «Cannot mremap» ошибка при использовании массивов в предложениях IN и JOIN с более чем 2 миллиардами элементов.</li> <li>Исправлена ошибка отработки отказа для словарей с MySQL в качестве источника.</li> </ul> <h4 id=improved-workflow-for-developing-and-assembling-clickhouse-1>Улучшен рабочий процесс разработки и сборки ClickHouse:<a class=headerlink href=#improved-workflow-for-developing-and-assembling-clickhouse-1 title="Permanent link">&para;</a></h4> <ul> <li>Сборки могут быть собраны в Аркадии.</li> <li>Вы можете использовать gcc 7 для компиляции ClickHouse.</li> <li>Параллельные сборки с использованием ccache+distcc теперь работают быстрее.</li> </ul> <h3 id=clickhouse-release-1-1-54245-2017-07-04>ClickHouse релиз 1.1.54245, 2017-07-04<a class=headerlink href=#clickhouse-release-1-1-54245-2017-07-04 title="Permanent link">&para;</a></h3> <h4 id=new-features-5>Новые средства:<a class=headerlink href=#new-features-5 title="Permanent link">&para;</a></h4> <ul> <li>Распределенный DDL (например, <code>CREATE TABLE ON CLUSTER</code>)</li> <li>Реплицированный запрос <code>ALTER TABLE CLEAR COLUMN IN PARTITION.</code></li> <li>Движок для таблиц словаря (доступ к данным словаря в виде таблицы).</li> <li>Компонент Dictionary database engine (этот тип базы данных автоматически содержит таблицы словарей, доступные для всех подключенных внешних словарей).</li> <li>Вы можете проверить наличие обновлений в словаре, отправив запрос источнику.</li> <li>Полные имена столбцов</li> <li>Цитирование идентификаторов с использованием двойных кавычек.</li> <li>Сеансы в интерфейсе HTTP.</li> <li>Запрос оптимизации для реплицированной таблицы может выполняться не только на лидере.</li> </ul> <h4 id=backward-incompatible-changes-2>Назад несовместимые изменения:<a class=headerlink href=#backward-incompatible-changes-2 title="Permanent link">&para;</a></h4> <ul> <li>Удалить набор глобальных.</li> </ul> <h4 id=minor-changes>Несущественные изменения:<a class=headerlink href=#minor-changes title="Permanent link">&para;</a></h4> <ul> <li>Теперь после срабатывания предупреждения журнал печатает полную трассировку стека.</li> <li>Ослаблена проверка количества поврежденных / лишних частей данных при запуске (было слишком много ложных срабатываний).</li> </ul> <h4 id=bug-fixes-5>Устранение ошибок:<a class=headerlink href=#bug-fixes-5 title="Permanent link">&para;</a></h4> <ul> <li>Исправлена плохая связь «sticking» при вставке в распределенную таблицу.</li> <li>GLOBAL IN теперь работает для запроса из таблицы слияния, которая смотрит на распределенную таблицу.</li> <li>Неверное количество ядер было обнаружено на виртуальной машине Google Compute Engine. Это было исправлено.</li> <li>Изменения в том, как работает исполняемый источник кэшированных внешних словарей.</li> <li>Исправлено сравнение строк, содержащих нулевые символы.</li> <li>Исправлено сравнение полей первичного ключа Float32 с константами.</li> <li>Ранее неверная оценка размера поля могла привести к чрезмерно большим распределениям.</li> <li>Исправлена ошибка, при отправке запроса столбец допускает значения NULL в таблицу с помощью инструкции Alter.</li> <li>Исправлена ошибка при сортировке по нулевому столбцу, если количество строк меньше предельного.</li> <li>Исправлен порядок по подзапросу, состоящему только из постоянных значений.</li> <li>Ранее реплицированная таблица могла оставаться в недопустимом состоянии после неудачного удаления таблицы.</li> <li>Псевдонимы для скалярных подзапросов с пустыми результатами больше не теряются.</li> <li>Теперь запрос, который использовал компиляцию, не завершается ошибкой, если файл .so поврежден.</li> </ul> </div> <div id=content-footer class="text-muted pt-5"> <div class=float-right>©2016–2020 Yandex LLC</div> <div>Собрано из <a href=https://github.com/ClickHouse/ClickHouse/commit/c1558f8c18e2727c5991cf923ee79710de89d1d0 rel="external nofollow noreferrer" target=_blank class=text-reset>c1558f8c18</a></div> </div> </div> <div id=toc class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5"> <nav class="nav flex-column text-wrap"> <label for=toc>Cодержание</label> <a href=#clickhouse-release-1-1-54327-2017-12-21 title="ClickHouse релиз 1.1.54327, 2017-12-21" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54327, 2017-12-21 </a> <a href=#clickhouse-release-1-1-54318-2017-11-30 title="ClickHouse релиз 1.1.54318, 2017-11-30" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54318, 2017-11-30 </a> <a href=#clickhouse-release-1-1-54310-2017-11-01 title="ClickHouse релиз 1.1.54310, 2017-11-01" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54310, 2017-11-01 </a> <nav id=toc-toc-3 class="nav flex-column pl-2"> <a href=#new-features title="Новые средства:" class="nav-link text-wrap d-inline-block w-100"> Новые средства: </a> <a href=#backward-incompatible-changes title="Назад несовместимые изменения:" class="nav-link text-wrap d-inline-block w-100"> Назад несовместимые изменения: </a> <a href=#bug-fixes title="Устранение ошибок:" class="nav-link text-wrap d-inline-block w-100"> Устранение ошибок: </a> <a href=#build-improvements title="Улучшения сборки:" class="nav-link text-wrap d-inline-block w-100"> Улучшения сборки: </a> </nav> <a href=#clickhouse-release-1-1-54304-2017-10-19 title="ClickHouse релиз 1.1.54304, 2017-10-19" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54304, 2017-10-19 </a> <nav id=toc-toc-4 class="nav flex-column pl-2"> <a href=#new-features-1 title="Новые средства:" class="nav-link text-wrap d-inline-block w-100"> Новые средства: </a> <a href=#bug-fixes-1 title="Устранение ошибок:" class="nav-link text-wrap d-inline-block w-100"> Устранение ошибок: </a> </nav> <a href=#clickhouse-release-1-1-54292-2017-09-20 title="ClickHouse релиз 1.1.54292, 2017-09-20" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54292, 2017-09-20 </a> <nav id=toc-toc-5 class="nav flex-column pl-2"> <a href=#new-features-2 title="Новые средства:" class="nav-link text-wrap d-inline-block w-100"> Новые средства: </a> <a href=#bug-fixes-2 title="Устранение ошибок:" class="nav-link text-wrap d-inline-block w-100"> Устранение ошибок: </a> </nav> <a href=#clickhouse-release-1-1-54289-2017-09-13 title="ClickHouse релиз 1.1.54289, 2017-09-13" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54289, 2017-09-13 </a> <nav id=toc-toc-6 class="nav flex-column pl-2"> <a href=#new-features-3 title="Новые средства:" class="nav-link text-wrap d-inline-block w-100"> Новые средства: </a> <a href=#bug-fixes-3 title="Устранение ошибок:" class="nav-link text-wrap d-inline-block w-100"> Устранение ошибок: </a> <a href=#improved-workflow-for-developing-and-assembling-clickhouse title="Улучшен рабочий процесс разработки и сборки ClickHouse:" class="nav-link text-wrap d-inline-block w-100"> Улучшен рабочий процесс разработки и сборки ClickHouse: </a> <a href=#please-note-when-upgrading title="Пожалуйста, обратите внимание при обновлении:" class="nav-link text-wrap d-inline-block w-100"> Пожалуйста, обратите внимание при обновлении: </a> </nav> <a href=#clickhouse-release-1-1-54284-2017-08-29 title="ClickHouse релиз 1.1.54284, 2017-08-29" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54284, 2017-08-29 </a> <a href=#clickhouse-release-1-1-54282-2017-08-23 title="ClickHouse релиз 1.1.54282, 2017-08-23" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54282, 2017-08-23 </a> <a href=#clickhouse-release-1-1-54276-2017-08-16 title="Clickhouse Релиз 1.1.54276, 2017-08-16" class="nav-link text-wrap d-inline-block w-100"> Clickhouse Релиз 1.1.54276, 2017-08-16 </a> <nav id=toc-toc-9 class="nav flex-column pl-2"> <a href=#new-features-4 title="Новые средства:" class="nav-link text-wrap d-inline-block w-100"> Новые средства: </a> <a href=#main-changes title="Основное изменение:" class="nav-link text-wrap d-inline-block w-100"> Основное изменение: </a> <a href=#backward-incompatible-changes-1 title="Назад несовместимые изменения:" class="nav-link text-wrap d-inline-block w-100"> Назад несовместимые изменения: </a> <a href=#complete-list-of-changes title="Полный список изменений:" class="nav-link text-wrap d-inline-block w-100"> Полный список изменений: </a> <a href=#bug-fixes-4 title="Устранение ошибок:" class="nav-link text-wrap d-inline-block w-100"> Устранение ошибок: </a> <a href=#improved-workflow-for-developing-and-assembling-clickhouse-1 title="Улучшен рабочий процесс разработки и сборки ClickHouse:" class="nav-link text-wrap d-inline-block w-100"> Улучшен рабочий процесс разработки и сборки ClickHouse: </a> </nav> <a href=#clickhouse-release-1-1-54245-2017-07-04 title="ClickHouse релиз 1.1.54245, 2017-07-04" class="nav-link text-wrap d-inline-block w-100"> ClickHouse релиз 1.1.54245, 2017-07-04 </a> <nav id=toc-toc-10 class="nav flex-column pl-2"> <a href=#new-features-5 title="Новые средства:" class="nav-link text-wrap d-inline-block w-100"> Новые средства: </a> <a href=#backward-incompatible-changes-2 title="Назад несовместимые изменения:" class="nav-link text-wrap d-inline-block w-100"> Назад несовместимые изменения: </a> <a href=#minor-changes title="Несущественные изменения:" class="nav-link text-wrap d-inline-block w-100"> Несущественные изменения: </a> <a href=#bug-fixes-5 title="Устранение ошибок:" class="nav-link text-wrap d-inline-block w-100"> Устранение ошибок: </a> </nav> </nav> </div> </div> </div> <script async type=text/javascript src=/js/base.js?7bd05efd></script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 alt=Yandex></div> </noscript> </body> </html>